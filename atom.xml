<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>ä»£ç æ®µå°ç«™</title>
  <icon>https://www.gravatar.com/avatar/4c71a513a84e4d430b9f9aed224237fc</icon>
  <subtitle>CodeTool - ä¸ªäººè®¡ç®—æœºç±»ç»ƒæ‰‹å°åšå®¢</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://www.codetool.top/"/>
  <updated>2020-04-20T07:53:28.822Z</updated>
  <id>https://www.codetool.top/</id>
  
  <author>
    <name>Rhett Peng</name>
    <email>pctdyx@qq.net</email>
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>ç”¨ä¸€ä¸ªæ ˆå®ç°å¦ä¸€ä¸ªæ ˆçš„æ’åº</title>
    <link href="https://www.codetool.top/article/%E7%94%A8%E4%B8%80%E4%B8%AA%E6%A0%88%E5%AE%9E%E7%8E%B0%E5%8F%A6%E4%B8%80%E4%B8%AA%E6%A0%88%E7%9A%84%E6%8E%92%E5%BA%8F/"/>
    <id>https://www.codetool.top/article/ç”¨ä¸€ä¸ªæ ˆå®ç°å¦ä¸€ä¸ªæ ˆçš„æ’åº/</id>
    <published>2020-04-20T07:43:51.000Z</published>
    <updated>2020-04-20T07:53:28.822Z</updated>
    
    <content type="html"><![CDATA[<h1 id="åŸé¢˜ï¼ˆæ¥æºç‰›å®¢ç½‘ï¼‰">1 åŸé¢˜ï¼ˆæ¥æºç‰›å®¢ç½‘ï¼‰</h1><p>ä¸€ä¸ªæ ˆä¸­å…ƒç´ çš„ç±»å‹ä¸ºæ•´å‹ï¼Œç°åœ¨æƒ³å°†è¯¥æ ˆä»é¡¶åˆ°åº•æŒ‰ä»å¤§åˆ°å°çš„é¡ºåºæ’åºï¼Œåªè®¸ç”³è¯·ä¸€ä¸ªæ ˆã€‚é™¤æ­¤ä¹‹å¤–ï¼Œå¯ä»¥ç”³è¯·æ–°çš„å˜é‡ï¼Œä½†ä¸èƒ½ç”³è¯·é¢å¤–çš„æ•°æ®ç»“æ„ã€‚å¦‚ä½•å®Œæˆæ’åºï¼Ÿ</p><h1 id="è§£æ³•">2 è§£æ³•</h1><h2 id="æ€æƒ³">2.1 æ€æƒ³</h2><p>ç”³è¯·ä¸€ä¸ªè¾…åŠ©æ ˆï¼Œåº”è®©è¯¥è¾…åŠ©æ ˆæˆä¸ºä¸€ä¸ªå•è°ƒæ ˆï¼Œå¯ä»¥è¿™æ ·åšï¼š</p><p>åŸæ ˆæ¯æ¬¡å¼¹å‡ºä¸€ä¸ªå…ƒç´ ï¼Œå¦‚æœæ¯”è¾…åŠ©æ ˆé¡¶å…ƒç´ å°ï¼ˆæˆ–è¾…åŠ©æ ˆå†…ä¸ºç©ºï¼‰å°±ç›´æ¥å‹å…¥è¾…åŠ©æ ˆï¼Œå¦‚æœæ¯”è¾…åŠ©æ ˆé¡¶å…ƒç´ å¤§ï¼Œåˆ™å…ˆä¿ç•™è¯¥å…ƒç´ ï¼Œå°†è¾…åŠ©æ ˆå†…çš„æ¯”è¯¥å…ƒç´ å°çš„å…ƒç´ å‹å›åŸæ ˆï¼Œå†å°†è¯¥å…ƒç´ å‹å…¥è¾…åŠ©æ ˆï¼Œå¦‚æ­¤å¾€å¤ï¼Œç›´åˆ°è¾…åŠ©æ ˆæˆä¸ºä¸€ä¸ªæ ˆé¡¶åˆ°æ ˆåº•é€’å¢çš„æ ˆï¼Œå†å°†è¾…åŠ©æ ˆå†…çš„å…ƒç´ å‹å›åŸæ ˆã€‚</p><h2 id="ä»£ç ">2.2 ä»£ç </h2><pre class=" language-java"><code class="language-java"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">sortStackByStack</span><span class="token punctuation">(</span>Stack<span class="token operator">&lt;</span>Integer<span class="token operator">></span> stack<span class="token punctuation">)</span> <span class="token punctuation">{</span>        Stack<span class="token operator">&lt;</span>Integer<span class="token operator">></span> help <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Stack</span><span class="token operator">&lt;</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token operator">!</span>stack<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token keyword">int</span> cur <span class="token operator">=</span> stack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token operator">!</span>help<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span>help<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&lt;</span>cur<span class="token punctuation">)</span><span class="token punctuation">{</span>                stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>help<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            help<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>cur<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token operator">!</span>help<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>help<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;åŸé¢˜ï¼ˆæ¥æºç‰›å®¢ç½‘ï¼‰&quot;&gt;1 åŸé¢˜ï¼ˆæ¥æºç‰›å®¢ç½‘ï¼‰&lt;/h1&gt;&lt;p&gt;ä¸€ä¸ªæ ˆä¸­å…ƒç´ çš„ç±»å‹ä¸ºæ•´å‹ï¼Œç°åœ¨æƒ³å°†è¯¥æ ˆä»é¡¶åˆ°åº•æŒ‰ä»å¤§åˆ°å°çš„é¡ºåºæ’åºï¼Œåªè®¸ç”³è¯·ä¸€ä¸ªæ ˆã€‚é™¤æ­¤ä¹‹å¤–ï¼Œå¯ä»¥ç”³è¯·æ–°çš„å˜é‡ï¼Œä½†ä¸èƒ½ç”³è¯·é¢å¤–çš„æ•°æ®ç»“æ„ã€‚å¦‚ä½•å®Œæˆæ’åºï¼Ÿ&lt;/p&gt;
&lt;h1 id=&quot;è§£æ³•&quot;&gt;2 è§£æ³•&lt;/h1&gt;
      
    
    </summary>
    
    
      <category term="ç®—æ³•/æ•°æ®ç»“æ„" scheme="https://www.codetool.top/categories/%E7%AE%97%E6%B3%95-%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"/>
    
    
      <category term="ç®—æ³•" scheme="https://www.codetool.top/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>leetcode648-å•è¯æ›¿æ¢</title>
    <link href="https://www.codetool.top/article/leetcode648-%E5%8D%95%E8%AF%8D%E6%9B%BF%E6%8D%A2/"/>
    <id>https://www.codetool.top/article/leetcode648-å•è¯æ›¿æ¢/</id>
    <published>2020-04-20T07:03:52.000Z</published>
    <updated>2020-04-20T07:13:43.930Z</updated>
    
    <content type="html"><![CDATA[<h1 id="åŸé¢˜">1 åŸé¢˜</h1><p>åœ¨è‹±è¯­ä¸­ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªå«åš <code>è¯æ ¹</code>(root)çš„æ¦‚å¿µï¼Œå®ƒå¯ä»¥è·Ÿç€å…¶ä»–ä¸€äº›è¯ç»„æˆå¦ä¸€ä¸ªè¾ƒé•¿çš„å•è¯â€”â€”æˆ‘ä»¬ç§°è¿™ä¸ªè¯ä¸º <code>ç»§æ‰¿è¯</code>(successor)ã€‚ä¾‹å¦‚ï¼Œè¯æ ¹<code>an</code>ï¼Œè·Ÿéšç€å•è¯ <code>other</code>(å…¶ä»–)ï¼Œå¯ä»¥å½¢æˆæ–°çš„å•è¯ <code>another</code>(å¦ä¸€ä¸ª)ã€‚</p><p>ç°åœ¨ï¼Œç»™å®šä¸€ä¸ªç”±è®¸å¤šè¯æ ¹ç»„æˆçš„è¯å…¸å’Œä¸€ä¸ªå¥å­ã€‚ä½ éœ€è¦å°†å¥å­ä¸­çš„æ‰€æœ‰<code>ç»§æ‰¿è¯</code>ç”¨<code>è¯æ ¹</code>æ›¿æ¢æ‰ã€‚å¦‚æœ<code>ç»§æ‰¿è¯</code>æœ‰è®¸å¤šå¯ä»¥å½¢æˆå®ƒçš„<code>è¯æ ¹</code>ï¼Œåˆ™ç”¨æœ€çŸ­çš„è¯æ ¹æ›¿æ¢å®ƒã€‚</p><p>ä½ éœ€è¦è¾“å‡ºæ›¿æ¢ä¹‹åçš„å¥å­ã€‚</p><p><strong>ç¤ºä¾‹1:</strong></p><blockquote><p><strong>è¾“å…¥:</strong> dict(è¯å…¸) = [â€œcatâ€, â€œbatâ€, â€œratâ€]<br>sentence(å¥å­) = â€œthe cattle was rattled by the batteryâ€<br><strong>è¾“å‡º:</strong> â€œthe cat was rat by the batâ€</p></blockquote><p><strong>æ³¨:</strong></p><ol><li>è¾“å…¥åªåŒ…å«å°å†™å­—æ¯ã€‚</li><li>1 &lt;= å­—å…¸å•è¯æ•° &lt;=1000</li><li>1 &lt;=  å¥ä¸­è¯è¯­æ•° &lt;= 1000</li><li>1 &lt;= è¯æ ¹é•¿åº¦ &lt;= 100</li><li>1 &lt;= å¥ä¸­è¯è¯­é•¿åº¦ &lt;= 1000</li></ol><h1 id="è§£æ³•">2 è§£æ³•</h1><h2 id="æ€æƒ³">2.1 æ€æƒ³</h2><p>è¿™é‡Œçš„è¯æ ¹å…¶å®å°±æ˜¯å­—ç¬¦ä¸²çš„å‰ç¼€ï¼Œä¸€å¼€å§‹æˆ‘ä»¥ä¸ºå‡ºç°åœ¨å“ªéƒ½å¯ä»¥ã€‚å‰ç¼€å¯ä»¥ä½¿ç”¨å­—å…¸æ ‘æœç´¢ã€‚</p><h2 id="ä»£ç ">2.2 ä»£ç </h2><pre class=" language-java"><code class="language-java"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span>    <span class="token keyword">class</span> <span class="token class-name">TrieNode</span><span class="token punctuation">{</span>        TrieNode<span class="token punctuation">[</span><span class="token punctuation">]</span> children <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TrieNode</span><span class="token punctuation">[</span><span class="token number">26</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        String word<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> String <span class="token function">replaceWords</span><span class="token punctuation">(</span>List<span class="token operator">&lt;</span>String<span class="token operator">></span> dict<span class="token punctuation">,</span> String sentence<span class="token punctuation">)</span> <span class="token punctuation">{</span>        StringBuilder sb <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        TrieNode root <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TrieNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span>String word<span class="token operator">:</span>dict<span class="token punctuation">)</span> <span class="token function">insertToTrie</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span>word<span class="token punctuation">)</span><span class="token punctuation">;</span>        String<span class="token punctuation">[</span><span class="token punctuation">]</span> words <span class="token operator">=</span> sentence<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>words<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            String prefix <span class="token operator">=</span> <span class="token function">hasPrefix</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span>words<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>prefix<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">)</span> words<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> prefix<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>words<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            sb<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>words<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>i<span class="token operator">!=</span>words<span class="token punctuation">.</span>length<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> sb<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> sb<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment" spellcheck="true">/*å°†å‰ç¼€æ’å…¥å­—å…¸æ ‘*/</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">insertToTrie</span><span class="token punctuation">(</span>TrieNode root<span class="token punctuation">,</span>String word<span class="token punctuation">)</span><span class="token punctuation">{</span>        TrieNode cur <span class="token operator">=</span> root<span class="token punctuation">;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">char</span> i<span class="token operator">:</span>word<span class="token punctuation">.</span><span class="token function">toCharArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>cur<span class="token punctuation">.</span>children<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token string">'a'</span><span class="token punctuation">]</span><span class="token operator">==</span>null<span class="token punctuation">)</span><span class="token punctuation">{</span>                cur<span class="token punctuation">.</span>children<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token string">'a'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TrieNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            cur <span class="token operator">=</span> cur<span class="token punctuation">.</span>children<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token string">'a'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        cur<span class="token punctuation">.</span>word <span class="token operator">=</span> word<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment" spellcheck="true">/*ä»å­—å…¸æ ‘ä¸­è·å–å‰ç¼€*/</span>    <span class="token keyword">public</span> String <span class="token function">hasPrefix</span><span class="token punctuation">(</span>TrieNode root<span class="token punctuation">,</span>String word<span class="token punctuation">)</span><span class="token punctuation">{</span>        TrieNode cur <span class="token operator">=</span> root<span class="token punctuation">;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">char</span> i<span class="token operator">:</span>word<span class="token punctuation">.</span><span class="token function">toCharArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>cur<span class="token punctuation">.</span>children<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token string">'a'</span><span class="token punctuation">]</span><span class="token operator">==</span>null<span class="token punctuation">)</span><span class="token punctuation">{</span>                <span class="token keyword">return</span> <span class="token string">""</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            cur <span class="token operator">=</span> cur<span class="token punctuation">.</span>children<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token string">'a'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>cur<span class="token punctuation">.</span>word<span class="token operator">!=</span>null<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">;</span>                <span class="token keyword">return</span> cur<span class="token punctuation">.</span>word<span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> <span class="token string">""</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;åŸé¢˜&quot;&gt;1 åŸé¢˜&lt;/h1&gt;&lt;p&gt;åœ¨è‹±è¯­ä¸­ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªå«åš &lt;code&gt;è¯æ ¹&lt;/code&gt;(root)çš„æ¦‚å¿µï¼Œå®ƒå¯ä»¥è·Ÿç€å…¶ä»–ä¸€äº›è¯ç»„æˆå¦ä¸€ä¸ªè¾ƒé•¿çš„å•è¯â€”â€”æˆ‘ä»¬ç§°è¿™ä¸ªè¯ä¸º &lt;code&gt;ç»§æ‰¿è¯&lt;/code&gt;(successor)ã€‚ä¾‹å¦‚ï¼Œè¯æ ¹&lt;code&gt;an&lt;/code&gt;
      
    
    </summary>
    
    
      <category term="ç®—æ³•/æ•°æ®ç»“æ„" scheme="https://www.codetool.top/categories/%E7%AE%97%E6%B3%95-%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"/>
    
    
      <category term="æœç´¢æ ‘" scheme="https://www.codetool.top/tags/%E6%90%9C%E7%B4%A2%E6%A0%91/"/>
    
      <category term="leetcode" scheme="https://www.codetool.top/tags/leetcode/"/>
    
      <category term="ç®—æ³•" scheme="https://www.codetool.top/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>ä½¿ç”¨é€’å½’å‡½æ•°é€†åºä¸€ä¸ªæ ˆ</title>
    <link href="https://www.codetool.top/article/%E4%BD%BF%E7%94%A8%E9%80%92%E5%BD%92%E5%87%BD%E6%95%B0%E9%80%86%E5%BA%8F%E4%B8%80%E4%B8%AA%E6%A0%88/"/>
    <id>https://www.codetool.top/article/ä½¿ç”¨é€’å½’å‡½æ•°é€†åºä¸€ä¸ªæ ˆ/</id>
    <published>2020-04-19T06:43:06.000Z</published>
    <updated>2020-04-19T07:01:51.568Z</updated>
    
    <content type="html"><![CDATA[<h1 id="åŸé¢˜ï¼ˆæ¥æºï¼šç‰›å®¢ç½‘ï¼‰">1 åŸé¢˜ï¼ˆæ¥æºï¼šç‰›å®¢ç½‘ï¼‰</h1><p>ä¸€ä¸ªæ ˆä¾æ¬¡å‹å…¥1,2,3,4,5é‚£ä¹ˆä»æ ˆé¡¶åˆ°æ ˆåº•åˆ†åˆ«ä¸º5,4,3,2,1ã€‚å°†è¿™ä¸ªæ ˆè½¬ç½®åï¼Œä»æ ˆé¡¶åˆ°æ ˆåº•ä¸º1,2,3,4,5ï¼Œä¹Ÿå°±æ˜¯å®ç°äº†æ ˆä¸­å…ƒç´ çš„é€†åºï¼Œè¯·è®¾è®¡ä¸€ä¸ªç®—æ³•å®ç°é€†åºæ ˆçš„æ“ä½œï¼Œä½†æ˜¯åªèƒ½ç”¨é€’å½’å‡½æ•°æ¥å®ç°ï¼Œè€Œä¸èƒ½ç”¨å¦å¤–çš„æ•°æ®ç»“æ„ã€‚</p><h1 id="è§£æ³•">2 è§£æ³•</h1><h2 id="æ€æƒ³">2.1 æ€æƒ³</h2><p>è®¾è®¡ä¸€ä¸ªå‡½æ•°<code>getAndRemoveLastElement</code>ç”¨äºè·å–å¹¶ç§»é™¤æ ˆåº•å…ƒç´ ï¼Œå½“æ ˆç©ºçš„æ—¶å€™è¿›è¡Œå›æº¯ï¼Œå¹¶å°†è·å–çš„å…ƒç´ å‹å…¥æ ˆï¼Œå°±èƒ½è¾¾åˆ°é€†åºçš„æ•ˆæœã€‚</p><p>è¿™æ ·åšçš„æ—¶é—´å¤æ‚åº¦è‚¯å®šæ˜¯æ²¡ä¸€ä¸ªè¾…åŠ©é˜Ÿåˆ—æ¥çš„å¿«çš„ï¼Œå¥½å¤„æ˜¯æ²¡æœ‰ä½¿ç”¨é¢å¤–çš„ç©ºé—´ï¼ˆé™¤äº†é€’å½’æ ˆç©ºé—´ï¼‰</p><p>æ—¶é—´å¤æ‚åº¦è®¡ç®—ï¼šè®¾æ ˆçš„å¤§å°ä¸ºnï¼Œæ¯ä¸€æ¬¡è·å–æ ˆåº•å…ƒç´ çš„æ—¶é—´å¤æ‚åº¦æ˜¯<code>O(n)</code>ï¼Œæ ˆçš„å¤§å°è¦ä»n-&gt;0ï¼Œå°±æ˜¯<code>O(n)+O(n-1)+O(n-2)+...+O(1)</code>=<code>O(n^2)</code> </p><h2 id="ä»£ç ">2.2 ä»£ç </h2><pre class=" language-java"><code class="language-java"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">reverse</span><span class="token punctuation">(</span>Stack<span class="token operator">&lt;</span>Integer<span class="token operator">></span> stack<span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>stack<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token keyword">return</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token comment" spellcheck="true">//æ¯æ¬¡è·å–æ ˆåº•å…ƒç´ ï¼Œæœ€åä¸€æ¬¡è·å–çš„å³æ˜¯æ ˆé¡¶å…ƒç´ </span>        <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token function">getAndRemoveLastElement</span><span class="token punctuation">(</span>stack<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">reverse</span><span class="token punctuation">(</span>stack<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//å›æº¯çš„æ—¶å€™å°†è·å–çš„å…ƒç´ å‹å…¥</span>        stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getAndRemoveLastElement</span><span class="token punctuation">(</span>Stack<span class="token operator">&lt;</span>Integer<span class="token operator">></span> stack<span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">//è·å–å¹¶ç§»é™¤æ ˆé¡¶å…ƒç´ </span>        <span class="token keyword">int</span> result <span class="token operator">=</span> stack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//è·å–æ ˆåº•å…ƒç´ </span>        <span class="token keyword">if</span><span class="token punctuation">(</span>stack<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token keyword">return</span> result<span class="token punctuation">;</span>        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>            <span class="token keyword">int</span> last <span class="token operator">=</span> <span class="token function">getAndRemoveLastElement</span><span class="token punctuation">(</span>stack<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment" spellcheck="true">//å›æº¯çš„æ—¶å€™å°†è·å–çš„å…ƒç´ å‹å…¥</span>            stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> last<span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;åŸé¢˜ï¼ˆæ¥æºï¼šç‰›å®¢ç½‘ï¼‰&quot;&gt;1 åŸé¢˜ï¼ˆæ¥æºï¼šç‰›å®¢ç½‘ï¼‰&lt;/h1&gt;&lt;p&gt;ä¸€ä¸ªæ ˆä¾æ¬¡å‹å…¥1,2,3,4,5é‚£ä¹ˆä»æ ˆé¡¶åˆ°æ ˆåº•åˆ†åˆ«ä¸º5,4,3,2,1ã€‚å°†è¿™ä¸ªæ ˆè½¬ç½®åï¼Œä»æ ˆé¡¶åˆ°æ ˆåº•ä¸º1,2,3,4,5ï¼Œä¹Ÿå°±æ˜¯å®ç°äº†æ ˆä¸­å…ƒç´ çš„é€†åºï¼Œè¯·è®¾è®¡ä¸€ä¸ªç®—æ³•å®ç°é€†åºæ ˆçš„æ“ä½œï¼Œä½†æ˜¯åªèƒ½ç”¨é€’å½’å‡½
      
    
    </summary>
    
    
      <category term="ç®—æ³•/æ•°æ®ç»“æ„" scheme="https://www.codetool.top/categories/%E7%AE%97%E6%B3%95-%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"/>
    
    
      <category term="ç®—æ³•" scheme="https://www.codetool.top/tags/%E7%AE%97%E6%B3%95/"/>
    
      <category term="é€’å½’" scheme="https://www.codetool.top/tags/%E9%80%92%E5%BD%92/"/>
    
  </entry>
  
  <entry>
    <title>leetcode75-é¢œè‰²åˆ†ç±»</title>
    <link href="https://www.codetool.top/article/leetcode75-%E9%A2%9C%E8%89%B2%E5%88%86%E7%B1%BB/"/>
    <id>https://www.codetool.top/article/leetcode75-é¢œè‰²åˆ†ç±»/</id>
    <published>2020-04-19T06:09:49.000Z</published>
    <updated>2020-04-19T06:21:07.081Z</updated>
    
    <content type="html"><![CDATA[<h1 id="åŸé¢˜">1 åŸé¢˜</h1><p>ç»™å®šä¸€ä¸ªåŒ…å«çº¢è‰²ã€ç™½è‰²å’Œè“è‰²ï¼Œä¸€å…± n ä¸ªå…ƒç´ çš„æ•°ç»„ï¼ŒåŸåœ°å¯¹å®ƒä»¬è¿›è¡Œæ’åºï¼Œä½¿å¾—ç›¸åŒé¢œè‰²çš„å…ƒç´ ç›¸é‚»ï¼Œå¹¶æŒ‰ç…§çº¢è‰²ã€ç™½è‰²ã€è“è‰²é¡ºåºæ’åˆ—ã€‚</p><p>æ­¤é¢˜ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨æ•´æ•° 0ã€ 1 å’Œ 2 åˆ†åˆ«è¡¨ç¤ºçº¢è‰²ã€ç™½è‰²å’Œè“è‰²ã€‚</p><p><strong>æ³¨æ„:</strong><br>ä¸èƒ½ä½¿ç”¨ä»£ç åº“ä¸­çš„æ’åºå‡½æ•°æ¥è§£å†³è¿™é“é¢˜ã€‚</p><p><strong>ç¤ºä¾‹:</strong></p><blockquote><p><strong>è¾“å…¥:</strong> [2,0,2,1,1,0]<br><strong>è¾“å‡º:</strong> [0,0,1,1,2,2] </p></blockquote><p><strong>è¿›é˜¶ï¼š</strong></p><ul><li>ä¸€ä¸ªç›´è§‚çš„è§£å†³æ–¹æ¡ˆæ˜¯ä½¿ç”¨è®¡æ•°æ’åºçš„ä¸¤è¶Ÿæ‰«æç®—æ³•ã€‚<br>é¦–å…ˆï¼Œè¿­ä»£è®¡ç®—å‡º0ã€1 å’Œ 2 å…ƒç´ çš„ä¸ªæ•°ï¼Œç„¶åæŒ‰ç…§0ã€1ã€2çš„æ’åºï¼Œé‡å†™å½“å‰æ•°ç»„ã€‚</li><li>ä½ èƒ½æƒ³å‡ºä¸€ä¸ªä»…ä½¿ç”¨å¸¸æ•°ç©ºé—´çš„ä¸€è¶Ÿæ‰«æç®—æ³•å—ï¼Ÿ</li></ul><h1 id="è§£æ³•">2 è§£æ³•</h1><h2 id="æ€æƒ³">2.1 æ€æƒ³</h2><p>è®¡æ•°æ’åºç®—æ˜¯è¿™ç±»é—®é¢˜çš„é€šè§£å§ã€‚ã€‚ä¸è¿‡å¯¹äºä»…æœ‰ä¸¤ç§æˆ–ä¸‰ç§å…ƒç´ ï¼Œå¯ä»¥ä½¿ç”¨äº¤æ¢æ–¹æ³•æ¥è§£ã€‚</p><h2 id="ä»£ç ">2.2 ä»£ç </h2><p>è®¡æ•°ï¼š</p><pre class=" language-java"><code class="language-java"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">sortColors</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> nums<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> count0 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>count1 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>count2 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">:</span>nums<span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>i <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> count0<span class="token operator">++</span><span class="token punctuation">;</span>            <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>i <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> count1<span class="token operator">++</span><span class="token punctuation">;</span>            <span class="token keyword">else</span> count2<span class="token operator">++</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>nums<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>i<span class="token operator">&lt;</span>count0<span class="token punctuation">)</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>            <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>i<span class="token operator">&lt;</span>count0<span class="token operator">+</span>count1<span class="token punctuation">)</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>            <span class="token keyword">else</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p>ä¸‰æŒ‡é’ˆäº¤æ¢ï¼š</p><pre class=" language-java"><code class="language-java"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">sortColors</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> nums<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> p0 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> cur <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> p2 <span class="token operator">=</span> nums<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> tmp<span class="token punctuation">;</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>cur <span class="token operator">&lt;=</span> p2<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>nums<span class="token punctuation">[</span>cur<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                tmp <span class="token operator">=</span> nums<span class="token punctuation">[</span>p0<span class="token punctuation">]</span><span class="token punctuation">;</span>                nums<span class="token punctuation">[</span>p0<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> nums<span class="token punctuation">[</span>cur<span class="token punctuation">]</span><span class="token punctuation">;</span>                nums<span class="token punctuation">[</span>cur<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> tmp<span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>nums<span class="token punctuation">[</span>cur<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                tmp <span class="token operator">=</span> nums<span class="token punctuation">[</span>cur<span class="token punctuation">]</span><span class="token punctuation">;</span>                nums<span class="token punctuation">[</span>cur<span class="token punctuation">]</span> <span class="token operator">=</span> nums<span class="token punctuation">[</span>p2<span class="token punctuation">]</span><span class="token punctuation">;</span>                nums<span class="token punctuation">[</span>p2<span class="token operator">--</span><span class="token punctuation">]</span> <span class="token operator">=</span> tmp<span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token keyword">else</span> cur<span class="token operator">++</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;åŸé¢˜&quot;&gt;1 åŸé¢˜&lt;/h1&gt;&lt;p&gt;ç»™å®šä¸€ä¸ªåŒ…å«çº¢è‰²ã€ç™½è‰²å’Œè“è‰²ï¼Œä¸€å…± n ä¸ªå…ƒç´ çš„æ•°ç»„ï¼ŒåŸåœ°å¯¹å®ƒä»¬è¿›è¡Œæ’åºï¼Œä½¿å¾—ç›¸åŒé¢œè‰²çš„å…ƒç´ ç›¸é‚»ï¼Œå¹¶æŒ‰ç…§çº¢è‰²ã€ç™½è‰²ã€è“è‰²é¡ºåºæ’åˆ—ã€‚&lt;/p&gt;
&lt;p&gt;æ­¤é¢˜ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨æ•´æ•° 0ã€ 1 å’Œ 2 åˆ†åˆ«è¡¨ç¤ºçº¢è‰²ã€ç™½è‰²å’Œè“è‰²ã€‚&lt;/p&gt;
&lt;p&gt;&lt;s
      
    
    </summary>
    
    
      <category term="ç®—æ³•/æ•°æ®ç»“æ„" scheme="https://www.codetool.top/categories/%E7%AE%97%E6%B3%95-%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"/>
    
    
      <category term="leetcode" scheme="https://www.codetool.top/tags/leetcode/"/>
    
      <category term="ç®—æ³•" scheme="https://www.codetool.top/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>åŠ›æ‰£æ¯æ˜¥å­£ä¸ªäººèµ›-å‰§æƒ…è§¦å‘æ—¶é—´</title>
    <link href="https://www.codetool.top/article/leetcode%E4%B8%AA%E4%BA%BA%E8%B5%9B-%E5%89%A7%E6%83%85%E8%A7%A6%E5%8F%91%E6%97%B6%E9%97%B4/"/>
    <id>https://www.codetool.top/article/leetcodeä¸ªäººèµ›-å‰§æƒ…è§¦å‘æ—¶é—´/</id>
    <published>2020-04-18T09:50:32.000Z</published>
    <updated>2020-04-19T04:41:00.393Z</updated>
    
    <content type="html"><![CDATA[<p>è¿™æ¬¡çš„ä¸ªäººèµ›çœŸæ˜¯è®©æˆ‘è®¤æ¸…äº†è‡ªå·±çš„å®åŠ›ã€‚ã€‚ä¸¤é“å›°éš¾é¢˜éƒ½æ²¡åšå‡ºğŸ˜­ï¼Œè™½ç„¶å¤§å®¶çš„é€šè¿‡ç‡ä¹Ÿä¸å’‹åœ°ã€‚ã€‚</p><p><img src="https://api.codetool.top/img/15872016427419.png" alt></p><p>æœ€åæ’å</p><p><img src="https://api.codetool.top/img/15872173146160.jpg" alt></p><p>æˆ‘è®°å½•ä¸€é“åšå‡ºæ¥çš„é¢˜å§ï¼Œè¿™é“é¢˜æ˜¯ä¸€é“ä¸­ç­‰é¢˜ï¼Œé€šè¿‡ç‡å¦‚ä¸‹ï¼Œè™½ç„¶é¢˜ç›®ä¸éš¾ï¼Œä½†ç”±äºæ—¶é—´é™åˆ¶çš„é—®é¢˜ï¼Œä¸ä½¿ç”¨æŠ€å·§å¾ˆå®¹æ˜“è¶…å‡ºæ—¶é—´é™åˆ¶</p><p><img src="https://api.codetool.top/img/15872016956913.png" alt></p><h1 id="åŸé¢˜">1 åŸé¢˜</h1><p>åœ¨æˆ˜ç•¥æ¸¸æˆä¸­ï¼Œç©å®¶å¾€å¾€éœ€è¦å‘å±•è‡ªå·±çš„åŠ¿åŠ›æ¥è§¦å‘å„ç§æ–°çš„å‰§æƒ…ã€‚ä¸€ä¸ªåŠ¿åŠ›çš„ä¸»è¦å±æ€§æœ‰ä¸‰ç§ï¼Œåˆ†åˆ«æ˜¯æ–‡æ˜ç­‰çº§ï¼ˆ<code>C</code>ï¼‰ï¼Œèµ„æºå‚¨å¤‡ï¼ˆ<code>R</code>ï¼‰ä»¥åŠäººå£æ•°é‡ï¼ˆ<code>H</code>ï¼‰ã€‚åœ¨æ¸¸æˆå¼€å§‹æ—¶ï¼ˆç¬¬ 0 å¤©ï¼‰ï¼Œä¸‰ç§å±æ€§çš„å€¼å‡ä¸º 0ã€‚</p><p>éšç€æ¸¸æˆè¿›ç¨‹çš„è¿›è¡Œï¼Œæ¯ä¸€å¤©ç©å®¶çš„ä¸‰ç§å±æ€§éƒ½ä¼šå¯¹åº”<strong>å¢åŠ </strong>ï¼Œæˆ‘ä»¬ç”¨ä¸€ä¸ªäºŒç»´æ•°ç»„ <code>increase</code> æ¥è¡¨ç¤ºæ¯å¤©çš„å¢åŠ æƒ…å†µã€‚è¿™ä¸ªäºŒç»´æ•°ç»„çš„æ¯ä¸ªå…ƒç´ æ˜¯ä¸€ä¸ªé•¿åº¦ä¸º 3 çš„ä¸€ç»´æ•°ç»„ï¼Œä¾‹å¦‚ <code>[[1,2,1],[3,4,2]]</code> è¡¨ç¤ºç¬¬ä¸€å¤©ä¸‰ç§å±æ€§åˆ†åˆ«å¢åŠ  <code>1,2,1</code> è€Œç¬¬äºŒå¤©åˆ†åˆ«å¢åŠ  <code>3,4,2</code>ã€‚</p><p>æ‰€æœ‰å‰§æƒ…çš„è§¦å‘æ¡ä»¶ä¹Ÿç”¨ä¸€ä¸ªäºŒç»´æ•°ç»„ <code>requirements</code> è¡¨ç¤ºã€‚è¿™ä¸ªäºŒç»´æ•°ç»„çš„æ¯ä¸ªå…ƒç´ æ˜¯ä¸€ä¸ªé•¿åº¦ä¸º 3 çš„ä¸€ç»´æ•°ç»„ï¼Œå¯¹äºæŸä¸ªå‰§æƒ…çš„è§¦å‘æ¡ä»¶ <code>c[i], r[i], h[i]</code>ï¼Œå¦‚æœå½“å‰ <code>C &gt;= c[i]</code> ä¸” <code>R &gt;= r[i]</code> ä¸” <code>H &gt;= h[i]</code> ï¼Œåˆ™å‰§æƒ…ä¼šè¢«è§¦å‘ã€‚</p><p>æ ¹æ®æ‰€ç»™ä¿¡æ¯ï¼Œè¯·è®¡ç®—æ¯ä¸ªå‰§æƒ…çš„è§¦å‘æ—¶é—´ï¼Œå¹¶ä»¥ä¸€ä¸ªæ•°ç»„è¿”å›ã€‚å¦‚æœæŸä¸ªå‰§æƒ…ä¸ä¼šè¢«è§¦å‘ï¼Œåˆ™è¯¥å‰§æƒ…å¯¹åº”çš„è§¦å‘æ—¶é—´ä¸º -1 ã€‚</p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><blockquote><p>è¾“å…¥ï¼š <code>increase = [[2,8,4],[2,5,0],[10,9,8]]</code> <code>requirements = [[2,11,3],[15,10,&gt;7],[9,17,12],[8,1,14]]</code></p><p>è¾“å‡º: <code>[2,-1,3,-1]</code></p><p>è§£é‡Šï¼š</p><p>åˆå§‹æ—¶ï¼ŒC = 0ï¼ŒR = 0ï¼ŒH = 0</p><p>ç¬¬ 1 å¤©ï¼ŒC = 2ï¼ŒR = 8ï¼ŒH = 4</p><p>ç¬¬ 2 å¤©ï¼ŒC = 4ï¼ŒR = 13ï¼ŒH = 4ï¼Œæ­¤æ—¶è§¦å‘å‰§æƒ… 0</p><p>ç¬¬ 3 å¤©ï¼ŒC = 14ï¼ŒR = 22ï¼ŒH = 12ï¼Œæ­¤æ—¶è§¦å‘å‰§æƒ… 2</p><p>å‰§æƒ… 1 å’Œ 3 æ— æ³•è§¦å‘ã€‚</p></blockquote><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><blockquote><p>è¾“å…¥ï¼š <code>increase = [[0,4,5],[4,8,8],[8,6,1],[10,10,0]]</code> <code>requirements = [[12,11,16],[20,2,6],[9,2,6],[10,18,3],[8,14,9]]</code></p><p>è¾“å‡º: <code>[-1,4,3,3,3]</code></p></blockquote><p><strong>ç¤ºä¾‹ 3ï¼š</strong></p><blockquote><p>è¾“å…¥ï¼š <code>increase = [[1,1,1]] requirements = [[0,0,0]]</code></p><p>è¾“å‡º: <code>[0]</code></p></blockquote><p><strong>é™åˆ¶ï¼š</strong></p><ul><li><code>1 &lt;= increase.length &lt;= 10000</code></li><li><code>1 &lt;= requirements.length &lt;= 100000</code></li><li><code>0 &lt;= increase[i] &lt;= 10</code></li><li><code>0 &lt;= requirements[i] &lt;= 100000</code></li></ul><h1 id="è§£æ³•">2 è§£æ³•</h1><h2 id="æ€æƒ³">2.1 æ€æƒ³</h2><p>è§ä»£ç éƒ¨åˆ†</p><h2 id="ä»£ç ">2.2 ä»£ç </h2><p>æˆ‘ä¸€å¼€å§‹æƒ³çš„æ˜¯ç”¨requirementé‡Œé¢çš„ä¸‰å…ƒç»„æ¯éš”ä¸€å¤©å‡å»increaseé‡Œé¢å¯¹åº”çš„ä¸‰å…ƒç»„ï¼Œç„¶åè®°å½•ç­”æ¡ˆï¼Œä½†æ˜¯è¿™ç§æ–¹æ³•æ— è®ºæ€ä¹ˆå‰ªæä¼˜åŒ–éƒ½ä¼šè¶…æ—¶ï¼Œè¿™æ ·åšçš„æ—¶é—´å¤æ‚åº¦æ˜¯<code>O(mn)</code>(m,nä¸ºä¸¤ä¸ªæ•°ç»„çš„å¤§å°ï¼Œæˆ‘è¿˜çœå»äº†åé¢æ•°ç»„èµ‹å€¼çš„æ—¶é—´å¤æ‚åº¦)ï¼š</p><pre class=" language-java"><code class="language-java"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">getTriggerTime</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> increase<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> requirements<span class="token punctuation">)</span> <span class="token punctuation">{</span>        Integer<span class="token punctuation">[</span><span class="token punctuation">]</span> ans <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Integer</span><span class="token punctuation">[</span>requirements<span class="token punctuation">.</span>length<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> day <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>day<span class="token operator">&lt;=</span>increase<span class="token punctuation">.</span>length<span class="token punctuation">;</span>day<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token keyword">boolean</span> hasRemain <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>requirements<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                <span class="token keyword">if</span><span class="token punctuation">(</span>day <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                    <span class="token keyword">if</span><span class="token punctuation">(</span>requirements<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">0</span><span class="token operator">&amp;&amp;</span>requirements<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">0</span><span class="token operator">&amp;&amp;</span>requirements<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span>                        ans<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>                    <span class="token keyword">else</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>                <span class="token keyword">if</span><span class="token punctuation">(</span>ans<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">!=</span>null<span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>                hasRemain <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>                requirements<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">-=</span> increase<span class="token punctuation">[</span>day<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>                requirements<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-=</span> increase<span class="token punctuation">[</span>day<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>                requirements<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">-=</span> increase<span class="token punctuation">[</span>day<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>                <span class="token keyword">if</span><span class="token punctuation">(</span>requirements<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">&lt;=</span><span class="token number">0</span><span class="token operator">&amp;&amp;</span>requirements<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">&lt;=</span><span class="token number">0</span><span class="token operator">&amp;&amp;</span>requirements<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">&lt;=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                    ans<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> day<span class="token punctuation">;</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>day<span class="token operator">!=</span><span class="token number">0</span><span class="token operator">&amp;&amp;</span><span class="token operator">!</span>hasRemain<span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> realAns <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">int</span><span class="token punctuation">[</span>requirements<span class="token punctuation">.</span>length<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>ans<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>ans<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> null<span class="token punctuation">)</span><span class="token punctuation">{</span>                realAns<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>                realAns<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> ans<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> realAns<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p>åæ¥æƒ³åˆ°å¯ä»¥è®¡ç®—æ¯ä¸€å¤©çš„å±æ€§å€¼ï¼Œç„¶åäºŒåˆ†æŸ¥æ‰¾ï¼Œè¿™æ ·åšçš„æ—¶é—´å¤æ‚åº¦å°±æ˜¯<code>O(m+nlogm)</code>ï¼š</p><pre class=" language-java"><code class="language-java"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">getTriggerTime</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> increase<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> requirements<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> day <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> ans <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">int</span><span class="token punctuation">[</span>requirements<span class="token punctuation">.</span>length<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//å°†increaseä¸­çš„ä¸‰å…ƒç»„çš„å«ä¹‰å˜ä¸ºæ¯ä¸€å¤©çš„å±æ€§å€¼</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>increase<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            increase<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+=</span> increase<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>            increase<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+=</span> increase<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>            increase<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">+=</span> increase<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>requirements<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>requirements<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">0</span><span class="token operator">&amp;&amp;</span>requirements<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">0</span><span class="token operator">&amp;&amp;</span>requirements<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span> ans<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>            <span class="token keyword">else</span><span class="token punctuation">{</span>                <span class="token keyword">int</span> left <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>                <span class="token keyword">int</span> right <span class="token operator">=</span> increase<span class="token punctuation">.</span>length<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>                <span class="token comment" spellcheck="true">//å¦‚æœæœ€åä¸€å¤©ä»ä¸æ»¡è¶³ï¼Œè®¾ä¸º-1</span>                <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span>increase<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">>=</span>requirements<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">&amp;&amp;</span>increase<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">>=</span>requirements<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">&amp;&amp;</span>increase<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">>=</span>requirements<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                    ans<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>                    <span class="token keyword">continue</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>                <span class="token comment" spellcheck="true">//äºŒåˆ†æŸ¥æ‰¾</span>                <span class="token keyword">while</span><span class="token punctuation">(</span>left <span class="token operator">&lt;</span>right<span class="token punctuation">)</span><span class="token punctuation">{</span>                    <span class="token keyword">int</span> mid <span class="token operator">=</span> <span class="token punctuation">(</span>left<span class="token operator">+</span>right<span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">;</span>                    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span>increase<span class="token punctuation">[</span>mid<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">>=</span>requirements<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">&amp;&amp;</span>increase<span class="token punctuation">[</span>mid<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">>=</span>requirements<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">&amp;&amp;</span>increase<span class="token punctuation">[</span>mid<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">>=</span>requirements<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                        left <span class="token operator">=</span> mid<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>                    <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>                        right <span class="token operator">=</span> mid<span class="token punctuation">;</span>                    <span class="token punctuation">}</span>                <span class="token punctuation">}</span>                ans<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> left<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> ans<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;è¿™æ¬¡çš„ä¸ªäººèµ›çœŸæ˜¯è®©æˆ‘è®¤æ¸…äº†è‡ªå·±çš„å®åŠ›ã€‚ã€‚ä¸¤é“å›°éš¾é¢˜éƒ½æ²¡åšå‡ºğŸ˜­ï¼Œè™½ç„¶å¤§å®¶çš„é€šè¿‡ç‡ä¹Ÿä¸å’‹åœ°ã€‚ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://api.codetool.top/img/15872016427419.png&quot; alt&gt;&lt;/p&gt;
&lt;p&gt;æœ€åæ’å&lt;/p&gt;
&lt;p&gt;
      
    
    </summary>
    
    
      <category term="ç®—æ³•/æ•°æ®ç»“æ„" scheme="https://www.codetool.top/categories/%E7%AE%97%E6%B3%95-%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"/>
    
    
      <category term="leetcode" scheme="https://www.codetool.top/tags/leetcode/"/>
    
      <category term="ç®—æ³•" scheme="https://www.codetool.top/tags/%E7%AE%97%E6%B3%95/"/>
    
      <category term="äºŒåˆ†æŸ¥æ‰¾" scheme="https://www.codetool.top/tags/%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE/"/>
    
  </entry>
  
  <entry>
    <title>åœ¨æµè§ˆå™¨åœ°å€æ è¾“å…¥URLï¼ŒæŒ‰ä¸‹å›è½¦ä¹‹åå‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ</title>
    <link href="https://www.codetool.top/article/%E5%9C%A8%E6%B5%8F%E8%A7%88%E5%99%A8%E5%9C%B0%E5%9D%80%E6%A0%8F%E8%BE%93%E5%85%A5URL%EF%BC%8C%E6%8C%89%E4%B8%8B%E5%9B%9E%E8%BD%A6%E4%B9%8B%E5%90%8E%E5%8F%91%E7%94%9F%E4%BA%86%E4%BB%80%E4%B9%88%EF%BC%9F/"/>
    <id>https://www.codetool.top/article/åœ¨æµè§ˆå™¨åœ°å€æ è¾“å…¥URLï¼ŒæŒ‰ä¸‹å›è½¦ä¹‹åå‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ/</id>
    <published>2020-04-17T18:05:08.000Z</published>
    <updated>2020-04-17T18:48:52.213Z</updated>
    
    <content type="html"><![CDATA[<p>ä¸€é“ç»å…¸çš„é¢è¯•é¢˜~ è¿™ç¯‡æ–‡ç« ä¸ä¼šç”¨æ¥è®²çŸ¥è¯†ç‚¹ï¼Œå¦‚æœæŒ‰ä¸€ä¸ªé—®é¢˜å»è®²é‡Œé¢çš„çŸ¥è¯†ç‚¹å®Œå…¨å½¢æˆä¸äº†ä½“ç³»ï¼Œè¿™ç¯‡æ–‡ç« åªæ˜¯åšä¸€ä¸ªçŸ¥è¯†ç‚¹çš„ä¸²è”ã€å›é¡¾ï¼Œå¸®åŠ©ç¼•æ¸…çŸ¥è¯†ç‚¹ä¹‹é—´çš„å…³ç³»ï¼Œå½¢æˆçŸ¥è¯†è„‰ç»œã€‚</p><p>ä¸‹é¢çš„å›ç­”ä»…é’ˆå¯¹HTTP/HTTPSåè®®ï¼šï¼ˆæ¯•ç«Ÿæµè§ˆå™¨è¿˜å¯ä»¥ftpã€websocketä»€ä¹ˆçš„ï¼Œå¦‚æœå„ç§åè®®éƒ½è°ˆçœŸæ²¡å®Œäº†ï¼‰</p><ol><li><p>æµè§ˆå™¨æ£€æŸ¥ç¼“å­˜ï¼Œ<strong>ç¼“å­˜æœªè¿‡æœŸä¸€èˆ¬ä¼šä½¿ç”¨å¼ºç¼“å­˜ï¼Œç¼“å­˜è¿‡æœŸä¸€èˆ¬ä¼šä½¿ç”¨åå•†ç¼“å­˜</strong>ï¼Œå¦‚æœåå•†ç¼“å­˜æœªå‘½ä¸­æˆ–æ²¡æœ‰ç¼“å­˜ï¼Œç»§ç»­ä¸‹ä¸€æ­¥ã€‚</p><ul><li>å…·ä½“è¯·å‚è€ƒ<a href="../HTTPæµè§ˆå™¨ç¼“å­˜ç­–ç•¥å’ŒæœåŠ¡å™¨çš„ç¼“å­˜æ§åˆ¶">HTTPæµè§ˆå™¨ç¼“å­˜ç­–ç•¥å’ŒæœåŠ¡å™¨çš„ç¼“å­˜æ§åˆ¶</a></li></ul></li><li><p>å¯¹åŸŸåè¿›è¡ŒDNSè§£æï¼Œ<strong>å¦‚æœå®¢æˆ·æœºæœ‰DNSç¼“å­˜ï¼Œç›´æ¥è·å¾—å¯¹åº”çš„IP</strong>ï¼Œå¦åˆ™å‘DNSæœåŠ¡å™¨å‘å‡ºè¯·æ±‚è§£æåŸŸåï¼Œ<strong>å¦‚æœç½‘ç«™é…ç½®äº†CDNï¼Œä¼šè¿”å›ä¸€ä¸ªcnameï¼ŒæŒ‡å‘CDNçš„å…¨å±€è´Ÿè½½å‡è¡¡å™¨</strong>ï¼Œç”±æ™ºèƒ½ç®—æ³•ä¸ºç”¨æˆ·åˆ†é…ä¸ºå…¶æœåŠ¡çš„æœåŠ¡å™¨ipã€‚å¦‚æœæ²¡æœ‰é…ç½®CDNï¼Œæ ¹æ®ç½‘ç«™çš„DNSé…ç½®è¿”å›ä¸€ä¸ªIPã€‚</p><ul><li>DNSç›¸å…³è¯·å‚è€ƒ<a href="../è®¡ç½‘å¤ä¹ 06-åº”ç”¨å±‚ä¹‹åŸŸåç³»ç»ŸDNS/">è®¡ç½‘å¤ä¹ 06-åº”ç”¨å±‚ä¹‹åŸŸåç³»ç»ŸDNS</a>ï¼ŒCDNç›¸å…³çš„ä¸œè¥¿æˆ‘ç›®å‰å€’æ˜¯æ²¡æœ‰å†™åšå®¢è®²è¿‡ï¼Œè¿™é‡Œå¯ä»¥æä¸€ä¸‹ï¼Œå…¶å®CDNçš„æ ¸å¿ƒæŠ€æœ¯å°±æ˜¯å…¨å±€è´Ÿè½½å‡è¡¡å’Œç¼“å­˜ç®¡ç†ï¼Œé€šå¸¸ç”¨äºé™æ€èµ„æºçš„åˆ†å‘ï¼ˆç¼“å­˜ä»£ç†ï¼‰ï¼Œå®¢æˆ·ä»<strong>è¾¹ç¼˜èŠ‚ç‚¹</strong>ä¸Šå–æ•°æ®ã€‚å’ŒCDNæ€§èƒ½ç›¸å…³çš„åè¯æœ‰<strong>å‘½ä¸­ç‡</strong>å’Œ<strong>å›æºç‡</strong>ã€‚æœ€è¿‘è¿˜æµè¡Œä¸€ç§<strong>è¾¹ç¼˜è®¡ç®—</strong>çš„æŠ€æœ¯ï¼ŒæŠŠè®¡ç®—åŠ¨æ€èµ„æºçš„ä»£ç å’Œæ•°æ®ä¹Ÿæ”¾åœ¨cdnçš„èŠ‚ç‚¹ä¸Šï¼Œå°±å¯ä»¥å®ç°åœ¨cdné‡Œè·å–åŠ¨æ€èµ„æºè€Œä¸ç”¨å›æºç«™ã€‚</li></ul></li><li><p>å®¢æˆ·æœºä½¿ç”¨IPä¸æœåŠ¡å™¨å»ºç«‹TCPè¿æ¥ï¼Œé€šè¿‡TCPä¸‰æ¬¡æ¡æ‰‹ï¼Œå»ºç«‹è¿æ¥ä¹‹åå¦‚æœæ˜¯HTTPSåè®®è¿˜éœ€è¦TLSæ¡æ‰‹ï¼Œäº¤æ¢å¯†ç å¥—ä»¶ï¼Œé€šè¿‡æ¤­åœ†æ›²çº¿ç®—æ³•å®ç°å¯†é’¥äº¤æ¢ã€‚</p><ul><li>TCPå»ºç«‹è¿æ¥ä¸‰æ¬¡æ¡æ‰‹ç›¸å…³å†…å®¹è§<a href="../è®¡ç½‘å¤ä¹ 05-ä¼ è¾“å±‚">è®¡ç½‘å¤ä¹ 05-ä¼ è¾“å±‚</a></li><li>TLSæ¡æ‰‹çš„è¯¦ç»†è¿‡ç¨‹æˆ‘ä¹Ÿæ²¡æœ‰å†™è¿‡åšå®¢ï¼Œå› ä¸ºæ¯”è¾ƒç†è®ºï¼Œæˆ‘ä¹Ÿæ²¡æœ‰é‚£ä¹ˆæƒå¨ï¼Œè‡ªå·±å†™ä¸æ•¢ä¿è¯æ­£ç¡®ï¼Œå¤åˆ¶ç²˜è´´ä¹Ÿæ²¡æœ‰æ„æ€ï¼Œä¸è¿‡HTTPSåŸç†å¯ä»¥å‚è€ƒ<a href="../HTTPSçš„åŸç†â€”â€”æ··åˆåŠ å¯†ã€æ•°å­—ç­¾åã€CA">HTTPSçš„åŸç†â€”â€”æ··åˆåŠ å¯†ã€æ•°å­—ç­¾åã€CA</a>ã€‚æˆ‘è¿™é‡Œç®€å•æä¸€ä¸‹TLSçš„æ¡æ‰‹ï¼š<strong>TLSæ¡æ‰‹ä¸»è¦ç›®çš„å°±æ˜¯è·å–CAè¯ä¹¦éªŒè¯æœåŠ¡ç«¯èº«ä»½å’Œå¯†é’¥äº¤æ¢ï¼Œå³è·å–åé¢ç”¨äºå¯¹ç§°åŠ å¯†çš„å¯†é’¥ã€‚ï¼ˆä¹Ÿæˆä¸ºä¼šè¯å¯†é’¥ï¼‰</strong>å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¼šå…ˆåå•†ä½¿ç”¨åŒä¸€ä¸ª<strong>å¯†ç å¥—ä»¶</strong>ã€‚å¯†ç å¥—ä»¶çš„å‘½åæ˜¯<code>å¯†é’¥äº¤æ¢ç®—æ³•-ç­¾åç®—æ³•-å¯¹ç§°åŠ å¯†ç®—æ³•-åˆ†ç»„æ¨¡å¼-æ‘˜è¦ç®—æ³•</code>ï¼Œå¦‚<code>ECDHE-RSA-AES256-GCM-SHA384</code>ã€‚TLS1.2è¿˜æœ‰ç”¨RSAè¿›è¡Œå¯†é’¥äº¤æ¢ï¼Œä½†ç”±äº<strong>å‰å‘å®‰å…¨</strong>çš„é—®é¢˜ï¼ˆRSAä½¿ç”¨çš„å…¬ç§é’¥æ˜¯å›ºå®šçš„ï¼Œå¦‚æœé»‘å®¢åšæŒä¸æ‡ˆçš„æ”¶é›†æ‰€æœ‰ç›‘å¬åˆ°çš„HTTPSæŠ¥æ–‡ï¼Œä¸€æ—¦æœ‰ä¸€å¤©ç§é’¥æ³„éœ²ï¼Œæ‰€æœ‰ä¹‹å‰æ”¶é›†çš„æŠ¥æ–‡éƒ½èƒ½è¢«ç ´è§£ï¼‰ï¼Œ<strong>TLS1.3å°±å®Œå…¨åºŸå¼ƒäº†ä½¿ç”¨RSAå¯†é’¥äº¤æ¢ï¼Œå¹¶æ¨èä½¿ç”¨ECDHEå¯†é’¥äº¤æ¢</strong>ï¼ˆå³ECC+DHï¼ŒåŸºäºæ¤­åœ†æ›²çº¿çš„ç¦»æ•£å¯¹æ•°é—®é¢˜ï¼Œæ¯æ¬¡æ¡æ‰‹æ—¶éƒ½ä¼šç”Ÿæˆä¸€å¯¹ä¸´æ—¶çš„å…¬é’¥å’Œç§é’¥ï¼Œä¿è¯äº†å‰å‘å®‰å…¨ï¼‰ã€‚</li><li>ä¼ è¾“å±‚å†å¾€ä¸‹çš„åè®®æˆ‘è§‰å¾—å°±æ²¡å¿…è¦è®²äº†å§ï¼Ÿç½‘ç»œå±‚æ‰¾IPï¼Œæ•°æ®é“¾è·¯å±‚æ‰¾MACï¼Œç‰©ç†å±‚ä¼ è¾“ã€‚</li></ul></li><li><p>æ¡æ‰‹å®Œæˆä¹‹åå¯ä»¥å‘é€HTTP/HTTPSæŠ¥æ–‡ï¼ˆå¯¹äºä¸€ä¸ªå¤ç”¨çš„TCPè¿æ¥æˆ‘ä»¬ä¼šé‡åˆ°é˜Ÿå¤´é˜»å¡ç­‰å¾…ï¼Œä¸è¿‡è¿™é‡Œæ—¢ç„¶æ˜¯åœ¨åœ°å€æ è¾“å…¥URLç„¶åå›è½¦ï¼Œè‚¯å®šæ˜¯ç¬¬ä¸€æ¬¡è¯·æ±‚ï¼Œæ²¡æœ‰è¿™ä¸ªé—®é¢˜ï¼‰ï¼ŒæœåŠ¡å™¨æ”¶åˆ°åè¿›è¡Œå¤„ç†ã€‚ï¼ˆå¤„ç†è¿‡ç¨‹ä¸å®šï¼Œå¦‚æœæ˜¯åŠ¨æ€èµ„æºå¯èƒ½ä¼šè°ƒç”¨åç«¯ç¨‹åºï¼‰ï¼Œå¤„ç†å®Œæˆä¹‹åç»„æˆHTTPå“åº”æŠ¥æ–‡å‘é€ç»™å®¢æˆ·ç«¯ã€‚</p><ul><li>ç½‘ä¸Šæœ‰çš„åšå®¢è¯´è¿™é‡Œä¼šæœåŠ¡å™¨å°±ä¼šæ–­å¼€è¿æ¥äº†ï¼Ÿï¼Ÿæœªå…çŸ¥è¯†ç‚¹å¤ªä¹…è¿œäº†ä¸€ç‚¹äº†å§ï¼ŒHTTPS1.1å°±é»˜è®¤é•¿è¿æ¥äº†ã€‚å…³äºHTTPçš„ç‰ˆæœ¬ç›¸å…³å¯ä»¥å‚è€ƒ<a href="../HTTPç‰ˆæœ¬å‘å±•ä¸Googleçš„æš—ä¸­åŠ©åŠ›">HTTPç‰ˆæœ¬å‘å±•ä¸Googleçš„æš—ä¸­åŠ©åŠ›</a></li></ul></li><li><p>æµè§ˆå™¨ä¸‹è½½å¯¹åº”çš„å“åº”æ•°æ®ï¼Œå¹¶å¯¹HTMLï¼ˆå¦‚æœæ˜¯ï¼‰è¿›è¡Œæ¸²æŸ“ã€‚æ¸²æŸ“ç›¸å…³çš„çŸ¥è¯†æˆ‘ä¹Ÿä¸æ˜¯å¾ˆæ¸…æ¥šï¼Œåº”è¯¥æ˜¯å‰ç«¯æ¯”è¾ƒéœ€è¦æŒæ¡çš„éƒ¨åˆ†ã€‚</p></li></ol>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;ä¸€é“ç»å…¸çš„é¢è¯•é¢˜~ è¿™ç¯‡æ–‡ç« ä¸ä¼šç”¨æ¥è®²çŸ¥è¯†ç‚¹ï¼Œå¦‚æœæŒ‰ä¸€ä¸ªé—®é¢˜å»è®²é‡Œé¢çš„çŸ¥è¯†ç‚¹å®Œå…¨å½¢æˆä¸äº†ä½“ç³»ï¼Œè¿™ç¯‡æ–‡ç« åªæ˜¯åšä¸€ä¸ªçŸ¥è¯†ç‚¹çš„ä¸²è”ã€å›é¡¾ï¼Œå¸®åŠ©ç¼•æ¸…çŸ¥è¯†ç‚¹ä¹‹é—´çš„å…³ç³»ï¼Œå½¢æˆçŸ¥è¯†è„‰ç»œã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹é¢çš„å›ç­”ä»…é’ˆå¯¹HTTP/HTTPSåè®®ï¼šï¼ˆæ¯•ç«Ÿæµè§ˆå™¨è¿˜å¯ä»¥ftpã€websocket
      
    
    </summary>
    
    
      <category term="è®¡ç®—æœºç›¸å…³" scheme="https://www.codetool.top/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%9B%B8%E5%85%B3/"/>
    
    
      <category term="è®¡ç®—æœºç½‘ç»œ" scheme="https://www.codetool.top/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"/>
    
  </entry>
  
  <entry>
    <title>å‰‘æŒ‡offer17-æ‰“å°ä»1åˆ°æœ€å¤§çš„nä½æ•°</title>
    <link href="https://www.codetool.top/article/%E5%89%91%E6%8C%87offer17-%E6%89%93%E5%8D%B0%E4%BB%8E1%E5%88%B0%E6%9C%80%E5%A4%A7%E7%9A%84n%E4%BD%8D%E6%95%B0/"/>
    <id>https://www.codetool.top/article/å‰‘æŒ‡offer17-æ‰“å°ä»1åˆ°æœ€å¤§çš„nä½æ•°/</id>
    <published>2020-04-17T06:49:50.000Z</published>
    <updated>2020-04-17T06:51:21.905Z</updated>
    
    <content type="html"><![CDATA[<h1 id="åŸé¢˜ï¼ˆæ¥æºLeetcodeï¼‰">1 åŸé¢˜ï¼ˆæ¥æºLeetcodeï¼‰</h1><p>è¾“å…¥æ•°å­— nï¼ŒæŒ‰é¡ºåºæ‰“å°å‡ºä» 1 åˆ°æœ€å¤§çš„ n ä½åè¿›åˆ¶æ•°ã€‚æ¯”å¦‚è¾“å…¥ 3ï¼Œåˆ™æ‰“å°å‡º 1ã€2ã€3 ä¸€ç›´åˆ°æœ€å¤§çš„ 3 ä½æ•° 999ã€‚</p><p><strong>ç¤ºä¾‹ 1:</strong></p><blockquote><p><strong>è¾“å…¥ï¼š</strong> n = 1<br><strong>è¾“å‡ºï¼š</strong> [1,2,3,4,5,6,7,8,9]  </p></blockquote><p>è¯´æ˜ï¼š</p><ul><li>ç”¨è¿”å›ä¸€ä¸ªæ•´æ•°åˆ—è¡¨æ¥ä»£æ›¿æ‰“å°</li><li>n ä¸ºæ­£æ•´æ•°</li></ul><h1 id="è§£æ³•">2 è§£æ³•</h1><h2 id="æ€æƒ³">2.1 æ€æƒ³</h2><p>å¹‚å‡½æ•°</p><h2 id="ä»£ç ">2.2 ä»£ç </h2><pre class=" language-java"><code class="language-java"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">printNumbers</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> size <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span>n<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> ans <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">int</span><span class="token punctuation">[</span>size<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>size<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            ans<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> ans<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;åŸé¢˜ï¼ˆæ¥æºLeetcodeï¼‰&quot;&gt;1 åŸé¢˜ï¼ˆæ¥æºLeetcodeï¼‰&lt;/h1&gt;&lt;p&gt;è¾“å…¥æ•°å­— nï¼ŒæŒ‰é¡ºåºæ‰“å°å‡ºä» 1 åˆ°æœ€å¤§çš„ n ä½åè¿›åˆ¶æ•°ã€‚æ¯”å¦‚è¾“å…¥ 3ï¼Œåˆ™æ‰“å°å‡º 1ã€2ã€3 ä¸€ç›´åˆ°æœ€å¤§çš„ 3 ä½æ•° 999ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç¤ºä¾‹ 1:&lt;/stron
      
    
    </summary>
    
    
      <category term="ç®—æ³•/æ•°æ®ç»“æ„" scheme="https://www.codetool.top/categories/%E7%AE%97%E6%B3%95-%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"/>
    
    
      <category term="ç®—æ³•" scheme="https://www.codetool.top/tags/%E7%AE%97%E6%B3%95/"/>
    
      <category term="å‰‘æŒ‡offer" scheme="https://www.codetool.top/tags/%E5%89%91%E6%8C%87offer/"/>
    
  </entry>
  
  <entry>
    <title>HTTPSçš„åŸç†â€”â€”æ··åˆåŠ å¯†ã€æ•°å­—ç­¾åã€CA</title>
    <link href="https://www.codetool.top/article/HTTPS%E7%9A%84%E5%8E%9F%E7%90%86%E2%80%94%E2%80%94%E6%B7%B7%E5%90%88%E5%8A%A0%E5%AF%86%E3%80%81%E6%95%B0%E5%AD%97%E7%AD%BE%E5%90%8D%E3%80%81CA/"/>
    <id>https://www.codetool.top/article/HTTPSçš„åŸç†â€”â€”æ··åˆåŠ å¯†ã€æ•°å­—ç­¾åã€CA/</id>
    <published>2020-04-16T17:51:52.000Z</published>
    <updated>2020-04-17T17:04:25.742Z</updated>
    
    <content type="html"><![CDATA[<p>å‰ç½®çŸ¥è¯†ï¼š<a href="../è°ˆè°ˆå¯¹ç§°åŠ å¯†ã€éå¯¹ç§°åŠ å¯†ã€æ¶ˆæ¯æ‘˜è¦ä»¥åŠæ•°å­—ç­¾å">è°ˆè°ˆå¯¹ç§°åŠ å¯†ã€éå¯¹ç§°åŠ å¯†ã€æ¶ˆæ¯æ‘˜è¦ä»¥åŠæ•°å­—ç­¾å</a></p><p>æœ¬æ–‡å‚è€ƒèµ„æºï¼š</p><p><a href="http://mp.weixin.qq.com/s?__biz=MzAwNDA2OTM1Ng==&mid=2453141883&idx=2&sn=3b93d3bed05ec0094a0cae77bf1cc82c&chksm=8cf2dbf8bb8552ee286c4799b30d3847a641760142e50234b12bd042f9d238b3291c161b5996&mpshare=1&scene=23&srcid=&sharer_sharetime=1587058055254&sharer_shareid=c085eab43b9a65b398a19df04709e455#rd" target="_blank" rel="noopener">å…¨ç½‘æœ€é€å½»HTTPSï¼ˆé¢è¯•å¸¸é—®ï¼‰</a></p><p><a href="https://blog.csdn.net/u014294681/article/details/86599741" target="_blank" rel="noopener">ç½‘ç»œç¯‡ - httpsåè®®ä¸­çš„æ•°æ®æ˜¯å¦éœ€è¦äºŒæ¬¡åŠ å¯†_ç½‘ç»œ_u014294681çš„åšå®¢-CSDNåšå®¢</a></p><h1 id="HTTPSæ¦‚è¿°">1 HTTPSæ¦‚è¿°</h1><h2 id="HTTPSä»‹ç»">1.1 HTTPSä»‹ç»</h2><p>HTTPSæ˜¯ä»¥å®‰å…¨ä¸ºç›®æ ‡çš„ HTTP é€šé“ï¼Œåœ¨HTTPçš„åŸºç¡€ä¸Šé€šè¿‡ä¼ è¾“åŠ å¯†å’Œèº«ä»½è®¤è¯ä¿è¯äº†ä¼ è¾“è¿‡ç¨‹çš„å®‰å…¨æ€§ã€‚</p><p>HTTPS æŠŠ HTTP ä¸‹å±‚çš„ä¼ è¾“åè®®ç”± <code>TCP/IP</code> æ¢æˆäº† <code>SSL/TLS</code>ï¼Œç”±<code>HTTP over TCP/IP</code>å˜æˆäº†<code>HTTP over SSL/TLS</code>ï¼Œè®© HTTP è¿è¡Œåœ¨äº†å®‰å…¨çš„ <code>SSL/TLS</code> åè®®ä¸Šï¼Œæ”¶å‘æŠ¥æ–‡ä¸å†ä½¿ç”¨ Socket APIï¼Œè€Œæ˜¯è°ƒç”¨ä¸“é—¨çš„å®‰å…¨æ¥å£ã€‚</p><p><img src="https://api.codetool.top/img/15870519053306.png" alt></p><h2 id="ä»€ä¹ˆæ˜¯SSL-TLS">1.2 ä»€ä¹ˆæ˜¯SSL/TLS</h2><p>SSL å³å®‰å…¨å¥—æ¥å±‚ï¼ˆSecure Sockets Layerï¼‰ï¼Œ<strong>åœ¨ OSI æ¨¡å‹ä¸­å¤„äºç¬¬ 5 å±‚ï¼ˆä¼šè¯å±‚ï¼‰</strong>ï¼Œç”±ç½‘æ™¯å…¬å¸äº 1994 å¹´å‘æ˜ï¼Œæœ‰ v2 å’Œ v3 ä¸¤ä¸ªç‰ˆæœ¬ï¼Œè€Œ v1 å› ä¸ºæœ‰ä¸¥é‡çš„ç¼ºé™·ä»æœªå…¬å¼€è¿‡ã€‚</p><p>SSL å‘å±•åˆ° v3 æ—¶å·²ç»è¯æ˜äº†å®ƒè‡ªèº«æ˜¯ä¸€ä¸ªéå¸¸å¥½çš„å®‰å…¨é€šä¿¡åè®®ï¼Œäºæ˜¯äº’è”ç½‘å·¥ç¨‹ç»„ IETF <strong>åœ¨ 1999 å¹´æŠŠå®ƒæ”¹åä¸º TLS</strong>ï¼ˆä¼ è¾“å±‚å®‰å…¨ï¼ŒTransport Layer Securityï¼‰ï¼Œæ­£å¼æ ‡å‡†åŒ–ï¼Œç‰ˆæœ¬å·ä» 1.0 é‡æ–°ç®—èµ·ï¼Œæ‰€ä»¥ <code>TLS1.0</code> å®é™…ä¸Šå°±æ˜¯ <code>SSLv3.1</code>ã€‚</p><p>åˆ°ä»Šå¤© TLS å·²ç»å‘å±•å‡ºäº†ä¸‰ä¸ªç‰ˆæœ¬ï¼Œåˆ†åˆ«æ˜¯ 2006 å¹´çš„ 1.1ã€2008 å¹´çš„ 1.2 å’Œ 2018 å¹´çš„ 1.3ã€‚</p><p>è¯´åˆ° TLSï¼Œå°±ä¸èƒ½ä¸è°ˆåˆ° OpenSSLï¼Œå®ƒæ˜¯ä¸€ä¸ªè‘—åçš„å¼€æºå¯†ç å­¦ç¨‹åºåº“å’Œå·¥å…·åŒ…ï¼Œå‡ ä¹æ”¯æŒæ‰€æœ‰å…¬å¼€çš„åŠ å¯†ç®—æ³•å’Œåè®®ï¼Œå·²ç»æˆä¸ºäº†äº‹å®ä¸Šçš„æ ‡å‡†ï¼Œè®¸å¤šåº”ç”¨è½¯ä»¶éƒ½ä¼šä½¿ç”¨å®ƒä½œä¸ºåº•å±‚åº“æ¥å®ç° TLS åŠŸèƒ½ï¼ŒåŒ…æ‹¬å¸¸ç”¨çš„ Web æœåŠ¡å™¨ Apacheã€Nginx ç­‰ã€‚</p><h1 id="TLSçš„å…³é”®æŠ€æœ¯">2 TLSçš„å…³é”®æŠ€æœ¯</h1><p>å¯¹äºç½‘ç»œä¼ è¾“ï¼Œè¦ä¿è¯å®‰å…¨ï¼Œå¿…é¡»ä¿è¯ï¼š</p><ul><li>æœºå¯†æ€§ï¼šå¯¹æ•°æ®è¿›è¡ŒåŠ å¯†ï¼Œé€šè¿‡å¯†æ–‡å®ç°</li><li>å®Œæ•´æ€§ï¼šæŒ‡æ•°æ®åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­æ²¡æœ‰è¢«çªœæ”¹ï¼ŒæœåŠ¡å™¨å‘çš„æ˜¯ä»€ä¹ˆï¼Œå®¢æˆ·ç«¯æ¥æ”¶çš„å°±æ˜¯ä»€ä¹ˆæ ·çš„</li><li>èº«ä»½è®¤è¯ï¼šç¡®è®¤å¯¹æ–¹çš„çœŸå®èº«ä»½ï¼Œå¦åˆ™å®¹æ˜“è¢«ä¸­é—´äººæ”»å‡»</li><li>ä¸å¯å¦è®¤ï¼šä¹Ÿå«ä¸å¯æŠµèµ–ï¼Œæ„æ€æ˜¯ä¸èƒ½å¦è®¤å·²ç»å‘ç”Ÿè¿‡çš„è¡Œä¸ºï¼Œå¦‚æœç¼ºäº†ä¸å¯å¦è®¤ï¼Œé‚£é€šä¿¡çš„äº‹åŠ¡çœŸå®æ€§å°±å¾—ä¸åˆ°ä¿è¯ã€‚</li></ul><p><img src="https://api.codetool.top/img/15870551057859.png" alt="å®ç°å®‰å…¨è¦æ±‚çš„åŸç†"></p><p>å¯ä»¥çœ‹åˆ°ï¼ŒTLSä¸ºä¿è¯å®‰å…¨ï¼ŒåŒæ—¶ä½¿ç”¨äº†å¯¹ç§°åŠ å¯†ã€éå¯¹ç§°åŠ å¯†å’Œæ¶ˆæ¯æ‘˜è¦ã€‚ä¸äº†è§£çš„å¯ä»¥ç‚¹å‡»å‰ç½®çŸ¥è¯†é“¾æ¥å»çœ‹ä¸€ä¸‹ã€‚</p><h2 id="ä¼ è¾“åŠ å¯†">2.1 ä¼ è¾“åŠ å¯†</h2><p>TLSä¿è¯ä¼ è¾“åŠ å¯†æ˜¯ä½¿ç”¨äº†æ··åˆåŠ å¯†ï¼Œå®ƒåŒæ—¶ä½¿ç”¨äº†å¯¹ç§°åŠ å¯†å’Œéå¯¹ç§°åŠ å¯†ã€‚</p><p>ä¸ºä»€ä¹ˆè¦æ··åˆåŠ å¯†å‘¢ï¼Ÿæˆ‘ä»¬åœ¨<a href="../è°ˆè°ˆå¯¹ç§°åŠ å¯†ã€éå¯¹ç§°åŠ å¯†ã€æ¶ˆæ¯æ‘˜è¦ä»¥åŠæ•°å­—ç­¾å">è°ˆè°ˆå¯¹ç§°åŠ å¯†ã€éå¯¹ç§°åŠ å¯†ã€æ¶ˆæ¯æ‘˜è¦ä»¥åŠæ•°å­—ç­¾å</a>ä¸­æåˆ°ï¼Œéå¯¹ç§°åŠ å¯†è™½ç„¶å®‰å…¨ï¼Œä½†åŠ å¯†è§£å¯†é€Ÿåº¦è¾ƒæ…¢ï¼Œæ•ˆç‡è¾ƒä½ï¼Œè€Œå¯¹ç§°åŠ å¯†åˆéœ€è¦è§£å†³å¯†é’¥çš„ä¼ è¾“å®‰å…¨æ€§é—®é¢˜ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸º <strong>â€œå¯†é’¥äº¤æ¢â€</strong> é—®é¢˜ã€‚äºæ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥ç»“åˆè¿™äºŒè€…ï¼Œ<strong>ä½¿ç”¨éå¯¹ç§°åŠ å¯†è§£å†³å¯¹ç§°åŠ å¯†çš„â€œå¯†é’¥äº¤æ¢â€é—®é¢˜</strong>ã€‚</p><p>å®¢æˆ·ç«¯ç”¨éšæœºæ•°äº§ç”Ÿå¯¹ç§°ç®—æ³•ä½¿ç”¨çš„â€œä¼šè¯å¯†é’¥â€ï¼ˆsession keyï¼‰ï¼Œå†ç”¨å…¬é’¥åŠ å¯†ã€‚å› ä¸ºä¼šè¯å¯†é’¥å¾ˆçŸ­ï¼Œé€šå¸¸åªæœ‰ 16 å­—èŠ‚æˆ– 32 å­—èŠ‚ï¼Œæ‰€ä»¥æ…¢ä¸€ç‚¹ä¹Ÿæ— æ‰€è°“ã€‚</p><p>æœåŠ¡ç«¯æ‹¿åˆ°å¯†æ–‡ä¹‹åå†ç”¨ç§é’¥è§£å¯†ï¼Œæ‹¿åˆ°â€œä¼šè¯å¯†é’¥â€ï¼Œ<strong>ä½œä¸ºåç»­å¯¹ç§°åŠ å¯†ä½¿ç”¨çš„å¯†é’¥</strong>ã€‚</p><h2 id="æ¶ˆæ¯æ‘˜è¦">2.2 æ¶ˆæ¯æ‘˜è¦</h2><p>TLSä¿è¯æ¶ˆæ¯çš„å®Œæ•´æ€§åˆ™æ˜¯ä½¿ç”¨äº†æ¶ˆæ¯æ‘˜è¦ï¼Œåªè¦åŒæ–¹åœ¨æ¶ˆæ¯åé™„ä¸Šå®ƒçš„æ‘˜è¦ï¼Œå°±èƒ½å¤Ÿä¿è¯æ•°æ®çš„å®Œæ•´æ€§ã€‚å½“ç„¶æ‘˜è¦ä¹Ÿå¾—ä½¿ç”¨æ··åˆåŠ å¯†ï¼Œå¦åˆ™ä¼šè¢«é»‘å®¢ä¿®æ”¹ã€‚</p><p>ç›®å‰ TLS æ¨èä½¿ç”¨æ‘˜è¦ç®—æ³•çš„æ˜¯SHA-2ç³»åˆ—ï¼ˆåŒ…å«SHA224ã€SHA256ã€SHA384ï¼Œåˆ†åˆ«èƒ½å¤Ÿç”Ÿæˆ 28 å­—èŠ‚ã€32 å­—èŠ‚ã€48 å­—èŠ‚çš„æ‘˜è¦ï¼‰ã€‚</p><h2 id="æ•°å­—ç­¾å-amp-CA">2.3 æ•°å­—ç­¾å&amp;CA</h2><p>æ•°å­—ç­¾åå®ç°äº†èº«ä»½è®¤è¯å’Œä¸å¯å¦è®¤ï¼Œæ•°å­—ç­¾ååˆä½¿ç”¨äº†éå¯¹ç§°åŠ å¯†å’Œæ¶ˆæ¯æ‘˜è¦æŠ€æœ¯ã€‚æˆ‘ä»¬åœ¨<a href="../è°ˆè°ˆå¯¹ç§°åŠ å¯†ã€éå¯¹ç§°åŠ å¯†ã€æ¶ˆæ¯æ‘˜è¦ä»¥åŠæ•°å­—ç­¾å">è°ˆè°ˆå¯¹ç§°åŠ å¯†ã€éå¯¹ç§°åŠ å¯†ã€æ¶ˆæ¯æ‘˜è¦ä»¥åŠæ•°å­—ç­¾å</a>ä¸­ä»‹ç»è¿‡ã€‚æ•°å­—ç­¾åå°±æ˜¯å°†æ¶ˆæ¯æ‘˜è¦åçš„æ•°æ®å†ä½¿ç”¨ç§é’¥åŠ å¯†ã€‚</p><p><img src="https://api.codetool.top/img/15870581177513.png" alt></p><p>ç„¶è€Œè€ƒè™‘ä¸­é—´äººæ”»å‡»çš„æƒ…å†µï¼Œéå¯¹ç§°åŠ å¯†çš„ç®—æ³•éƒ½æ˜¯å…¬å¼€çš„ï¼Œæ‰€æœ‰äººéƒ½å¯ä»¥è‡ªå·±ç”Ÿæˆä¸€å¯¹å…¬é’¥ç§é’¥ã€‚</p><p>å½“æœåŠ¡ç«¯å‘å®¢æˆ·ç«¯è¿”å›å…¬é’¥A1çš„æ—¶å€™ï¼Œä¸­é—´äººå°†å…¶æ›¿æ¢æˆè‡ªå·±çš„å…¬é’¥B1ä¼ é€ç»™æµè§ˆå™¨ã€‚</p><p>è€Œæµè§ˆå™¨æ­¤æ—¶ä¸€æ— æ‰€çŸ¥ï¼Œå‚»ä¹ä¹åœ°ä½¿ç”¨å…¬é’¥B1åŠ å¯†äº†å¯†é’¥Kå‘é€å‡ºå»ï¼Œåˆè¢«ä¸­é—´äººæˆªè·ï¼Œä¸­é—´äººåˆ©ç”¨è‡ªå·±çš„ç§é’¥B2è§£å¯†ï¼Œå¾—åˆ°å¯†é’¥Kï¼Œå†ä½¿ç”¨æœåŠ¡ç«¯çš„å…¬é’¥A1åŠ å¯†ä¼ é€ç»™æœåŠ¡ç«¯ï¼Œå®Œæˆäº†é€šä¿¡é“¾è·¯ï¼Œè€ŒæœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯æ¯«æ— æ„ŸçŸ¥ã€‚</p><p><img src="https://api.codetool.top/img/15870559453668.jpg" alt></p><p>è¿™ä¸ªæ—¶å€™å°±éœ€è¦CAè¯ä¹¦äº†ï¼Œ<strong>CAè¯ä¹¦è¯æ˜è¯¥å…¬é’¥ç¡®å®æ˜¯æ¥è‡ªæœåŠ¡ç«¯</strong>ã€‚æœåŠ¡ç«¯åœ¨ä½¿ç”¨HTTPSå‰ï¼Œå»ç»è¿‡è®¤è¯çš„CAæœºæ„ç”³è¯·é¢å‘ä¸€ä»½æ•°å­—è¯ä¹¦ï¼Œæ•°å­—è¯ä¹¦é‡ŒåŒ…å«æœ‰è¯ä¹¦æŒæœ‰è€…ã€è¯ä¹¦æœ‰æ•ˆæœŸã€æœåŠ¡ç«¯çš„å…¬é’¥ã€CAä½¿ç”¨çš„æ¶ˆæ¯æ‘˜è¦ç®—æ³•ç­‰ä¿¡æ¯ï¼Œç§°ä¸ºæ˜æ–‡æ•°æ®ï¼ŒCAè¿˜ä¼šå°†è¯ä¹¦çš„æ˜æ–‡æ•°æ®è¿›è¡Œæ¶ˆæ¯æ‘˜è¦ï¼Œå¹¶ä½¿ç”¨ç§é’¥ç”Ÿæˆæ•°å­—ç­¾åï¼Œé™„åœ¨è¯ä¹¦å†…ã€‚æœåŠ¡ç«¯å°†è¯ä¹¦å‘é€ç»™å®¢æˆ·ç«¯ï¼Œå®¢æˆ·ç«¯æ ¡éªŒè¯ä¹¦èº«ä»½å’Œè¦è®¿é—®çš„ç½‘ç«™èº«ä»½ç¡®å®ä¸€è‡´åå†è¿›è¡Œåç»­çš„åŠ å¯†æ“ä½œã€‚ï¼ˆ<strong>è¯ä¹¦çš„æ„æˆï¼šè¯ä¹¦çš„æ˜æ–‡ä¿¡æ¯+ç”±è¯ä¹¦çš„æ˜æ–‡ä¿¡æ¯å’ŒCAçš„ç§é’¥ç”Ÿæˆçš„æ•°å­—ç­¾å</strong>ï¼‰</p><p>çŸ¥åçš„ CA å…¨ä¸–ç•Œå°±é‚£ä¹ˆå‡ å®¶ï¼Œæ¯”å¦‚ DigiCertã€VeriSignã€Entrustã€Letâ€™s Encrypt ç­‰ï¼Œå®ƒä»¬ç­¾å‘çš„è¯ä¹¦åˆ† DVã€OVã€EV ä¸‰ç§ï¼ŒåŒºåˆ«åœ¨äºå¯ä¿¡ç¨‹åº¦ã€‚<strong>å°ä¸€ç‚¹çš„ CA å¯ä»¥è®©å¤§ CA ç­¾åè®¤è¯ï¼Œä½†é“¾æ¡çš„æœ€åï¼Œä¹Ÿå°±æ˜¯Root CAï¼Œå°±åªèƒ½è‡ªå·±è¯æ˜è‡ªå·±äº†ï¼Œè¿™ä¸ªå°±å«â€œè‡ªç­¾åè¯ä¹¦â€ï¼ˆSelf-Signed Certificateï¼‰æˆ–è€…â€œæ ¹è¯ä¹¦â€ï¼ˆRoot Certificateï¼‰ã€‚</strong>ä½ å¿…é¡»ç›¸ä¿¡ï¼Œå¦åˆ™æ•´ä¸ªè¯ä¹¦ä¿¡ä»»é“¾å°±èµ°ä¸ä¸‹å»äº†ã€‚</p><p>æœ‰äº†è¿™ä¸ªè¯ä¹¦ä½“ç³»ï¼Œ<strong>æ“ä½œç³»ç»Ÿå’Œæµè§ˆå™¨éƒ½å†…ç½®äº†å„å¤§ CA çš„æ ¹è¯ä¹¦ï¼ˆåŒ…å«CAçš„å…¬é’¥ï¼‰</strong>ï¼Œä¸Šç½‘çš„æ—¶å€™åªè¦æœåŠ¡å™¨å‘è¿‡æ¥å®ƒçš„è¯ä¹¦ï¼Œå°±å¯ä»¥éªŒè¯è¯ä¹¦é‡Œçš„ç­¾åï¼Œé¡ºç€è¯ä¹¦é“¾ï¼ˆCertificate Chainï¼‰ä¸€å±‚å±‚åœ°éªŒè¯ï¼Œç›´åˆ°æ‰¾åˆ°æ ¹è¯ä¹¦ï¼Œå°±èƒ½å¤Ÿç¡®å®šè¯ä¹¦æ˜¯å¯ä¿¡çš„ï¼Œä»è€Œç¡®å®šé‡Œé¢çš„å…¬é’¥ä¹Ÿæ˜¯å¯ä¿¡çš„ã€‚</p><p>CAæœºæ„é¢å‘è¯ä¹¦çš„è¿‡ç¨‹ï¼š</p><ol><li>CAæœºæ„æ‹¥æœ‰è‡ªå·±çš„ä¸€å¯¹å…¬é’¥å’Œç§é’¥</li><li>CAæœºæ„åœ¨é¢å‘è¯ä¹¦æ—¶å¯¹è¯ä¹¦æ˜æ–‡ä¿¡æ¯è¿›è¡Œå“ˆå¸Œ</li><li>å°†å“ˆå¸Œå€¼ç”¨ç§é’¥è¿›è¡ŒåŠ ç­¾ï¼Œå¾—åˆ°æ•°å­—ç­¾å</li></ol><p><strong>æœåŠ¡ç«¯å°†è¯ä¹¦æ˜æ–‡æ•°æ®å’Œæ•°å­—ç­¾åç»„æˆè¯ä¹¦ï¼Œä¼ é€’ç»™å®¢æˆ·ç«¯ã€‚</strong> è€Œå®¢æˆ·ç«¯éœ€è¦éªŒè¯è¯ä¹¦ä¸­çš„å…¬é’¥æ²¡æœ‰è¢«ç¯¡æ”¹ï¼š</p><ol><li>å®¢æˆ·ç«¯å¾—åˆ°è¯ä¹¦ï¼Œåˆ†è§£æˆæ˜æ–‡éƒ¨åˆ†Textå’Œæ•°å­—ç­¾åSig1</li><li>ç”¨CAæœºæ„çš„å…¬é’¥è¿›è¡Œè§£å¯†ï¼Œå¾—åˆ°Sig2ï¼ˆç”±äºCAæœºæ„æ˜¯ä¸€ç§å…¬ä¿¡èº«ä»½ï¼Œå› æ­¤åœ¨ç³»ç»Ÿæˆ–æµè§ˆå™¨ä¸­ä¼šå†…ç½®CAæœºæ„çš„è¯ä¹¦å’Œå…¬é’¥ä¿¡æ¯ï¼‰</li><li>ç”¨è¯ä¹¦é‡Œå£°æ˜çš„å“ˆå¸Œç®—æ³•å¯¹æ˜æ–‡Textéƒ¨åˆ†è¿›è¡Œå“ˆå¸Œå¾—åˆ°H</li><li>å½“è‡ªå·±è®¡ç®—å¾—åˆ°çš„å“ˆå¸Œå€¼Hä¸Sig2ç›¸ç­‰ï¼Œè¡¨ç¤ºè¯ä¹¦å¯ä¿¡ï¼Œæ²¡æœ‰è¢«ç¯¡æ”¹</li></ol><p>ç„¶åå®¢æˆ·ç«¯å°±å¯ä»¥ä¿¡ä»»æ˜æ–‡æ•°æ®ä¸­çš„æœåŠ¡ç«¯å…¬é’¥äº†ã€‚</p><h1 id="HTTPé€šä¿¡è¿‡ç¨‹ä¸€è§ˆ">3 HTTPé€šä¿¡è¿‡ç¨‹ä¸€è§ˆ</h1><p><img src="https://api.codetool.top/img/15870544945377.png" alt="HTTPSåŸç†ä¸€è§ˆå›¾"></p><ol><li>ç”¨æˆ·åœ¨æµè§ˆå™¨å‘èµ·HTTPSè¯·æ±‚ï¼ˆå¦‚ <a href="https://www.mogu.com/ï¼‰ï¼Œé»˜è®¤ä½¿ç”¨æœåŠ¡ç«¯çš„443ç«¯å£è¿›è¡Œè¿æ¥" target="_blank" rel="noopener">https://www.mogu.com/ï¼‰ï¼Œé»˜è®¤ä½¿ç”¨æœåŠ¡ç«¯çš„443ç«¯å£è¿›è¡Œè¿æ¥</a></li><li>HTTPSéœ€è¦ä½¿ç”¨ä¸€å¥—CAæ•°å­—è¯ä¹¦ï¼Œ<strong>è¯ä¹¦å†…ä¼šé™„å¸¦ä¸€ä¸ªå…¬é’¥Pubï¼Œè€Œä¸ä¹‹å¯¹åº”çš„ç§é’¥Privateä¿ç•™åœ¨æœåŠ¡ç«¯ä¸å…¬å¼€</strong></li><li>æœåŠ¡ç«¯æ”¶åˆ°è¯·æ±‚ï¼Œ<strong>è¿”å›é…ç½®å¥½çš„åŒ…å«å…¬é’¥Pubçš„è¯ä¹¦ç»™å®¢æˆ·ç«¯</strong></li><li>å®¢æˆ·ç«¯æ”¶åˆ°è¯ä¹¦ï¼Œ<strong>æ ¡éªŒåˆæ³•æ€§</strong>ï¼Œä¸»è¦åŒ…æ‹¬æ˜¯å¦åœ¨æœ‰æ•ˆæœŸå†…ã€è¯ä¹¦çš„åŸŸåä¸è¯·æ±‚çš„åŸŸåæ˜¯å¦åŒ¹é…ï¼Œä¸Šä¸€çº§è¯ä¹¦æ˜¯å¦æœ‰æ•ˆï¼ˆé€’å½’åˆ¤æ–­ï¼Œç›´åˆ°åˆ¤æ–­åˆ°ç³»ç»Ÿå†…ç½®æˆ–æµè§ˆå™¨é…ç½®å¥½çš„æ ¹è¯ä¹¦ï¼‰ï¼Œå¦‚æœä¸é€šè¿‡ï¼Œåˆ™æ˜¾ç¤ºHTTPSè­¦å‘Šä¿¡æ¯ï¼Œå¦‚æœé€šè¿‡åˆ™ç»§ç»­</li><li>å®¢æˆ·ç«¯<strong>ç”Ÿæˆä¸€ä¸ªç”¨äºå¯¹ç§°åŠ å¯†çš„éšæœºKeyï¼Œå¹¶ç”¨è¯ä¹¦å†…çš„å…¬é’¥Pubè¿›è¡ŒåŠ å¯†ï¼Œå‘é€ç»™æœåŠ¡ç«¯</strong></li><li>æœåŠ¡ç«¯æ”¶åˆ°éšæœºKeyçš„å¯†æ–‡ï¼Œ<strong>ä½¿ç”¨ä¸å…¬é’¥Pubé…å¯¹çš„ç§é’¥Privateè¿›è¡Œè§£å¯†ï¼Œå¾—åˆ°å®¢æˆ·ç«¯çœŸæ­£æƒ³å‘é€çš„éšæœºKey</strong></li><li>æœåŠ¡ç«¯<strong>ä½¿ç”¨å®¢æˆ·ç«¯å‘é€è¿‡æ¥çš„éšæœºKeyå¯¹è¦ä¼ è¾“çš„HTTPæ•°æ®è¿›è¡Œå¯¹ç§°åŠ å¯†</strong>ï¼Œå°†å¯†æ–‡è¿”å›å®¢æˆ·ç«¯ï¼›</li><li>å®¢æˆ·ç«¯<strong>ä½¿ç”¨éšæœºKeyå¯¹ç§°è§£å¯†å¯†æ–‡</strong>ï¼Œå¾—åˆ°HTTPæ•°æ®æ˜æ–‡</li><li>åç»­HTTPSè¯·æ±‚ä½¿ç”¨ä¹‹å‰äº¤æ¢å¥½çš„éšæœºKeyè¿›è¡Œå¯¹ç§°åŠ è§£å¯†</li></ol><p>å…¶ä¸­ç”¨äº†ä¸¤æ¬¡éå¯¹ç§°åŠ å¯†ï¼Œè¿™ä¸¤æ¬¡éå¯¹ç§°åŠ å¯†æ˜¯å®¹æ˜“æŠŠäººææ‡µçš„ï¼š</p><ul><li>ç¬¬ä¸€æ¬¡æ˜¯å®¢æˆ·ç«¯è·å–è¯ä¹¦åï¼Œ<strong>ä½¿ç”¨CAçš„å…¬é’¥è§£å¯†è¯ä¹¦ä¸­çš„æ•°å­—ç­¾å</strong>ï¼Œç„¶ååˆ¤æ–­è¯ä¹¦ä¸­çš„æœåŠ¡ç«¯å…¬é’¥æ˜¯å¦å¯ä¿¡</li><li>ç¬¬äºŒæ¬¡æ˜¯å®¢æˆ·ç«¯<strong>ä½¿ç”¨æœåŠ¡ç«¯å…¬é’¥å¯¹ä½¿ç”¨éšæœºæ•°ç”Ÿæˆçš„å¯¹ç§°åŠ å¯†å¯†é’¥è¿›è¡ŒåŠ å¯†</strong>ï¼Œç„¶åå‘ç»™æœåŠ¡ç«¯ã€‚</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;å‰ç½®çŸ¥è¯†ï¼š&lt;a href=&quot;../è°ˆè°ˆå¯¹ç§°åŠ å¯†ã€éå¯¹ç§°åŠ å¯†ã€æ¶ˆæ¯æ‘˜è¦ä»¥åŠæ•°å­—ç­¾å&quot;&gt;è°ˆè°ˆå¯¹ç§°åŠ å¯†ã€éå¯¹ç§°åŠ å¯†ã€æ¶ˆæ¯æ‘˜è¦ä»¥åŠæ•°å­—ç­¾å&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡å‚è€ƒèµ„æºï¼š&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://mp.weixin.qq.com/s?__biz=MzAw
      
    
    </summary>
    
    
      <category term="è®¡ç®—æœºç›¸å…³" scheme="https://www.codetool.top/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%9B%B8%E5%85%B3/"/>
    
    
      <category term="è®¡ç®—æœºç½‘ç»œ" scheme="https://www.codetool.top/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"/>
    
      <category term="HTTP" scheme="https://www.codetool.top/tags/HTTP/"/>
    
  </entry>
  
  <entry>
    <title>æ“ä½œç³»ç»Ÿå¤ä¹ 02-å¤„ç†å™¨ç®¡ç†ï¼ˆè¿›ç¨‹ç®¡ç†ï¼‰</title>
    <link href="https://www.codetool.top/article/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%A4%8D%E4%B9%A002-%E5%A4%84%E7%90%86%E5%99%A8%E7%AE%A1%E7%90%86%EF%BC%88%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86%EF%BC%89/"/>
    <id>https://www.codetool.top/article/æ“ä½œç³»ç»Ÿå¤ä¹ 02-å¤„ç†å™¨ç®¡ç†ï¼ˆè¿›ç¨‹ç®¡ç†ï¼‰/</id>
    <published>2020-04-16T09:54:01.000Z</published>
    <updated>2020-04-16T13:16:59.391Z</updated>
    
    <content type="html"><![CDATA[<h1 id="å¤„ç†å™¨æ¦‚å¿µ">1 å¤„ç†å™¨æ¦‚å¿µ</h1><p><img src="https://api.codetool.top/img/15870310461239.png" alt></p><p>ç‰¹æƒæŒ‡ä»¤å’Œéç‰¹æƒæŒ‡ä»¤ã€ç®¡æ€å’Œç›®æ€å·²åœ¨ä¸Šä¸€ç¯‡æåŠã€‚</p><p>Intelçš„X86å¤„ç†å™¨å…·æœ‰å››ä¸ªç‰¹æƒçº§åˆ«ï¼Œåˆ†åˆ«æ˜¯RING0ã€RING1ã€RING2ã€RING3ï¼ŒRING0å±‚æ‹¥æœ‰æœ€é«˜æƒé™ï¼Œä¾æ­¤å‘ä¸‹RING3å±‚å³æ‹¥æœ‰æœ€ä½çš„æƒé™ã€‚</p><p>ç”¨æˆ·æ€åˆ‡æ¢ä¸ºæ ¸å¿ƒæ€æ˜¯é€šè¿‡ä¸­æ–­å®ç°çš„ã€‚å¹¶ä¸”ä¸­æ–­æ˜¯å”¯ä¸€é€”å¾„ï¼Œç”¨æˆ·æ‰‹åŠ¨è§¦å‘ä¸­æ–­çš„æŒ‡ä»¤ç§°ä¸ºé™·é˜±æŒ‡ä»¤ï¼Œä¹Ÿç§°ä¸ºè®¿ç®¡æŒ‡ä»¤ã€‚</p><p>æ ¸å¿ƒæ€åˆ‡æ¢ä¸ºç”¨æˆ·æ€æ˜¯é€šè¿‡æ‰§è¡Œä¸€ä¸ªç‰¹æƒæŒ‡ä»¤ï¼Œå°†ç¨‹åºçŠ¶æ€å­—(PSW)çš„æ ‡å¿—ä½è®¾ç½®ä¸ºç”¨æˆ·æ€ã€‚</p><h2 id="ç”¨æˆ·æ ˆå’Œæ ¸å¿ƒæ ˆ">1.1 ç”¨æˆ·æ ˆå’Œæ ¸å¿ƒæ ˆ</h2><p>ç”¨æˆ·æ ˆï¼šæ˜¯ç”¨æˆ·è¿›ç¨‹ç©ºé—´ä¸­å¼€è¾Ÿçš„å†…å­˜åŒºåŸŸï¼Œç”¨äºä¿å­˜åº”ç”¨ç¨‹åºçš„å­ç¨‹åº(å‡½æ•°)é—´ç›¸äº’è°ƒç”¨çš„å‚æ•°ã€è¿”å›å€¼ã€è¿”å›ç‚¹ä»¥åŠå­ç¨‹åºçš„å±€éƒ¨å˜é‡ã€‚</p><p>æ ¸å¿ƒæ ˆï¼šæ¯ä¸ªè¿›ç¨‹è¢«åˆ›å»ºæ—¶æ†ç»‘ä¸€ä¸ªæ ¸å¿ƒæ ˆï¼Œæ˜¯å†…å­˜ä¸­å±äºOSç©ºé—´çš„åŒºåŸŸï¼Œç”¨é€”åŒ…æ‹¬ï¼šç”¨äºä¿å­˜ä¸­æ–­ç°åœºï¼›æˆ–ä¿å­˜OSç¨‹åºé—´ç›¸äº’è°ƒç”¨çš„å‚æ•°ã€è¿”å›å€¼ã€è¿”å›ç‚¹ä»¥åŠç¨‹åºå±€éƒ¨å˜é‡ã€‚</p><h2 id="ç¨‹åºçŠ¶æ€å­—PSW">1.2 ç¨‹åºçŠ¶æ€å­—PSW</h2><p>è®¡ç®—æœºå¦‚ä½•çŸ¥é“å½“å‰å¤„äºç®¡æ€è¿˜æ˜¯ç›®æ€ï¼Ÿé€šå¸¸OSéƒ½å¼•å…¥ç¨‹åºçŠ¶æ€å­—PSWï¼ˆProgram Status Wordï¼‰æ¥åŒºåˆ«ä¸åŒçš„å¤„ç†å™¨å·¥ä½œçŠ¶æ€ã€‚</p><p>PSWç”¨æ¥<strong>æ§åˆ¶æŒ‡ä»¤æ‰§è¡Œé¡ºåºå¹¶ä¿ç•™å’ŒæŒ‡ç¤ºä¸ç¨‹åºæœ‰å…³çš„ç³»ç»ŸçŠ¶æ€</strong>ï¼Œä¸»è¦ä½œç”¨æ˜¯å®ç°ç¨‹åºçŠ¶æ€çš„ä¿æŠ¤å’Œæ¢å¤ã€‚<strong>æ¯ä¸ªç¨‹åºéƒ½æœ‰ä¸€ä¸ªä¸å…¶æ‰§è¡Œç›¸å…³çš„PSWï¼Œæ¯ä¸ªå¤„ç†å™¨éƒ½è®¾ç½®ä¸€ä¸ªPSWå¯„å­˜å™¨ã€‚</strong>ç¨‹åºå æœ‰å¤„ç†å™¨æ‰§è¡Œï¼Œå®ƒçš„PSWå°†å æœ‰PSWå¯„å­˜å™¨ã€‚ </p><p>PSWå¯„å­˜å™¨åŒ…æ‹¬ä»¥ä¸‹å†…å®¹ï¼š</p><ul><li>ç¨‹åºåŸºæœ¬çŠ¶æ€ï¼š<ol><li>ç¨‹åºè®¡æ•°å™¨ï¼›</li><li>æ¡ä»¶ç ï¼›</li><li>å¤„ç†å™¨çŠ¶æ€ä½ã€‚</li></ol></li><li>ä¸­æ–­ç ï¼šä¿å­˜ç¨‹åºæ‰§è¡Œæ—¶å½“å‰å‘ç”Ÿçš„ä¸­æ–­äº‹ä»¶ã€‚</li><li>ä¸­æ–­å±è”½ä½ï¼šæŒ‡æ˜ç¨‹åºæ‰§è¡Œä¸­å‘ç”Ÿä¸­æ–­äº‹ä»¶æ—¶ï¼Œæ˜¯å¦å“åº”å‡ºç°çš„ä¸­æ–­äº‹ä»¶ã€‚</li></ul><p>Intel x86ä¸­ï¼ŒPSWç”±æ ‡å¿—å¯„å­˜å™¨EFLAGSå’ŒæŒ‡ä»¤æŒ‡é’ˆå¯„å­˜å™¨EIPç»„æˆï¼Œå‡ä¸º32ä½ã€‚</p><p>EFLAGSçš„ä½16ä½ç§°FLAGSï¼Œæ ‡å¿—å¯åˆ’åˆ†ä¸ºä¸‰ç»„ï¼šçŠ¶æ€æ ‡å¿—ã€æ§åˆ¶æ ‡å¿—ã€ç³»ç»Ÿæ ‡å¿—ã€‚</p><h1 id="ä¸­æ–­æŠ€æœ¯">2 ä¸­æ–­æŠ€æœ¯</h1><p><img src="https://api.codetool.top/img/15870310716982.png" alt></p><p>ä¸­æ–­æ˜¯æŒ‡ç¨‹åºæ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œé‡åˆ°æ€¥éœ€å¤„ç†çš„äº‹ä»¶æ—¶ï¼Œæš‚æ—¶ä¸­æ­¢CPUä¸Šç°è¡Œç¨‹åºçš„è¿è¡Œï¼Œè½¬å»æ‰§è¡Œç›¸åº”çš„äº‹ä»¶å¤„ç†ç¨‹åºï¼Œå¾…å¤„ç†å®Œæˆåå†è¿”å›åŸç¨‹åºè¢«ä¸­æ–­å¤„æˆ–è°ƒåº¦å…¶ä»–ç¨‹åºæ‰§è¡Œçš„è¿‡ç¨‹ã€‚</p><h2 id="ä¸­æ–­æºåˆ†ç±»">2.1 ä¸­æ–­æºåˆ†ç±»</h2><ul><li>å†…ä¸­æ–­ï¼šä¿¡å·çš„æ¥æºæ˜¯CPUå†…éƒ¨ï¼Œä¸å½“å‰æ‰§è¡Œçš„æŒ‡ä»¤æœ‰å…³<ul><li>I/Oä¸­æ–­</li><li>è®¿ç®¡ä¸­æ–­ï¼šè°ƒç”¨è®¿ç®¡æŒ‡ä»¤ï¼Œæ˜¯ç¨‹åºè‡ªæ„¿çš„</li><li>ç¡¬ä»¶æ•…éšœ</li><li>ç¨‹åºæ€§ä¸­æ–­ï¼ˆå’Œç¼–ç¨‹æ—¶çš„é—®é¢˜æœ‰å…³ï¼‰</li></ul></li><li>å¤–ä¸­æ–­ï¼šä¿¡å·çš„æ¥æºæ˜¯CPUå¤–éƒ¨ï¼Œä¸å½“å‰æ‰§è¡Œçš„æŒ‡ä»¤æ— å…³<ul><li>å¤–éƒ¨è®¾å¤‡è¯·æ±‚</li><li>æ—¶é’Ÿä¸­æ–­</li></ul></li></ul><p>å¤–ä¸­æ–­åˆåˆ†å¯å±è”½ä¸­æ–­å’Œä¸å¯å±è”½ä¸­æ–­ï¼Œå†…ä¸­æ–­å®Œå…¨ä¸å¯å±è”½ã€‚</p><p>æ—¶é’Ÿæ˜¯æ“ä½œç³»ç»Ÿè¿›è¡Œè°ƒåº¦å·¥ä½œçš„é‡è¦å·¥å…·ï¼Œå¦‚è®©åˆ†æ—¶è¿›ç¨‹ä½œæ—¶é—´ç‰‡è½®è½¬ã€è®©å®æ—¶è¿›ç¨‹å®šæ—¶å‘å‡ºæˆ–æ¥æ”¶æ§åˆ¶ä¿¡å·ã€ç³»ç»Ÿå®šæ—¶å”¤é†’æˆ–é˜»å¡ä¸€ä¸ªè¿›ç¨‹ã€å¯¹ç”¨æˆ·è¿›ç¨‹è¿›è¡Œè®°è´¦ã€‚</p><h2 id="ä¸­æ–­ä¼˜å…ˆçº§">2.2 ä¸­æ–­ä¼˜å…ˆçº§</h2><p>æ¯ä¸ªä¸åŒä¸­æ–­å…·æœ‰ä¸åŒçš„ä¸­æ–­ä¼˜å…ˆçº§ï¼Œè¡¨ç¤ºäº‹ä»¶çš„ç´§æ€¥ç¨‹åº¦ï¼Œåœ¨å¤„ç†é«˜ä¸€çº§ä¸­æ–­æ—¶ï¼Œå¾€å¾€ä¼šå±è”½éƒ¨åˆ†æˆ–å…¨éƒ¨ä½çº§ä¸­æ–­ã€‚çº§åˆ«é«˜çš„æœ‰ä¼˜å…ˆè·å¾—å“åº”çš„æƒåŠ›ï¼Œä¸­æ–­è£…ç½®é¢„å®šçš„è¿™ä¸ªå“åº”é¡ºåºç§°ä¸ºä¸­æ–­ä¼˜å…ˆçº§ã€‚ </p><h2 id="å¤šé‡ä¸­æ–­äº‹ä»¶çš„å¤„ç†">2.3 å¤šé‡ä¸­æ–­äº‹ä»¶çš„å¤„ç†</h2><p><strong>ä¸­æ–­æ­£åœ¨è¿›è¡Œå¤„ç†æœŸé—´ï¼ŒCPUåˆå“åº”æ–°çš„ä¸­æ–­äº‹ä»¶</strong>ï¼Œäºæ˜¯æš‚æ—¶åœæ­¢æ­£åœ¨è¿è¡Œçš„ä¸­æ–­å¤„ç†ç¨‹åºï¼Œè½¬å»æ‰§è¡Œæ–°çš„ä¸­æ–­å¤„ç†ç¨‹åºï¼Œå°±å«å¤šé‡ä¸­æ–­ï¼ˆåˆç§°ä¸­æ–­åµŒå¥—ï¼‰ã€‚å¤„ç†æ–¹æ³•ï¼š</p><ol><li>ä¸²è¡Œå¤„ç†ï¼Œ</li><li>åµŒå¥—å¤„ç†ï¼Œ</li><li>å³æ—¶å¤„ç†ã€‚</li></ol><h1 id="è¿›ç¨‹åŠå…¶å®ç°">3 è¿›ç¨‹åŠå…¶å®ç°</h1><p><img src="https://api.codetool.top/img/15870310852352.png" alt></p><h2 id="è¿›ç¨‹æ¦‚å¿µ">3.1 è¿›ç¨‹æ¦‚å¿µ</h2><ul><li>è¿›ç¨‹æ˜¯å¯å¹¶å‘æ‰§è¡Œçš„ç¨‹åºåœ¨æŸä¸ªæ•°æ®é›†åˆä¸Šçš„ä¸€æ¬¡è®¡ç®—æ´»åŠ¨ï¼Œä¹Ÿæ˜¯<strong>æ“ä½œç³»ç»Ÿè¿›è¡Œèµ„æºåˆ†é…å’Œä¿æŠ¤çš„åŸºæœ¬å•ä½ã€‚</strong></li><li>è¿›ç¨‹æ˜¯ä¸€ä¸ª<strong>æ—¢èƒ½ç”¨æ¥å…±äº«èµ„æºï¼Œåˆèƒ½æè¿°ç¨‹åºå¹¶å‘æ‰§è¡Œè¿‡ç¨‹çš„ç³»ç»ŸåŸºæœ¬å•ä½ã€‚</strong></li><li>è¿›ç¨‹æ˜¯ä¸€ç§æ”¯æŒç¨‹åºæ‰§è¡Œçš„ç³»ç»Ÿæœºåˆ¶ã€‚</li></ul><p>è¿›ç¨‹çš„å±æ€§ï¼š</p><ul><li>åŠ¨æ€æ€§</li><li>å…±äº«æ€§</li><li>ç‹¬ç«‹æ€§ï¼šç‹¬ç«‹æ€§ä¼šä½“ç°åœ¨è™šå­˜ã€ç¨‹åºè®¡æ•°å™¨ã€å†…éƒ¨çŠ¶æ€ä¸Š</li><li>åˆ¶çº¦æ€§</li><li>å¹¶å‘æ€§</li></ul><h2 id="è¿›ç¨‹çŠ¶æ€å’Œè½¬æ¢">3.2 è¿›ç¨‹çŠ¶æ€å’Œè½¬æ¢</h2><p>æœ¬èŠ‚å‚è€ƒå’Œå›¾ç‰‡æ¥æºï¼š<a href="https://www.cnblogs.com/lrhya/p/10636011.html" target="_blank" rel="noopener">è¿›ç¨‹çš„çŠ¶æ€è½¬æ¢ - LRHå‘€ - åšå®¢å›­</a></p><h3 id="ä¸‰æ€æ¨¡å‹">3.2.1 ä¸‰æ€æ¨¡å‹</h3><p>ä¸‰æ€æ¨¡å‹ï¼Œä¹Ÿæ˜¯æœ€åŸºæœ¬çš„å‡ ä¸ªçŠ¶æ€ï¼š</p><p><img src="https://api.codetool.top/img/15870345103687.png" alt></p><ul><li>å°±ç»ªæ€æ„å‘³ç€è¿è¡Œæ¡ä»¶æ»¡è¶³ï¼Œç­‰å¾…ç³»ç»Ÿåˆ†é…å¤„ç†å™¨ä»¥ä¾¿è¿è¡Œ</li><li>è¿è¡Œæ€æ˜¯å·²åˆ†é…å¤„ç†å™¨ï¼Œæ­£åœ¨è¿è¡Œçš„çŠ¶æ€</li><li>ç­‰å¾…æ€æ˜¯ä¸å…·å¤‡è¿è¡Œæ¡ä»¶ï¼Œç­‰å¾…æŸä¸ªäº‹ä»¶å®Œæˆï¼Œå¦‚IOè¾“å…¥ã€‚</li></ul><h3 id="äº”æ€æ¨¡å‹">3.2.2 äº”æ€æ¨¡å‹</h3><p><img src="https://api.codetool.top/img/15870348059720.png" alt></p><p>äº”æ€æ¨¡å‹åœ¨ä¸‰æ€æ¨¡å‹çš„åŸºç¡€ä¸ŠåŠ äº†æ–°å»ºæ€å’Œç»ˆæ­¢æ€ã€‚</p><ul><li>æ–°å»ºæ€ï¼šå¯¹åº”äºè¿›ç¨‹è¢«åˆ›å»ºæ—¶çš„çŠ¶æ€ï¼Œå°šæœªè¿›å…¥å°±ç»ªé˜Ÿåˆ—ã€‚<blockquote><p>åˆ›å»ºä¸€ä¸ªè¿›ç¨‹éœ€è¦é€šè¿‡ä¸¤ä¸ªæ­¥éª¤ï¼š  </p></blockquote></li></ul><p>1.ä¸ºæ–°è¿›ç¨‹åˆ†é…æ‰€éœ€è¦èµ„æºå’Œå»ºç«‹å¿…è¦çš„ç®¡ç†ä¿¡æ¯ã€‚<br>2.è®¾ç½®è¯¥è¿›ç¨‹ä¸ºå°±ç»ªæ€ï¼Œå¹¶ç­‰å¾…è¢«è°ƒåº¦æ‰§è¡Œã€‚  </p><ul><li>ç»ˆæ­¢æ€ï¼šæŒ‡è¿›ç¨‹å®Œæˆä»»åŠ¡åˆ°è¾¾æ­£å¸¸ç»“æŸç‚¹ï¼Œæˆ–å‡ºç°æ— æ³•å…‹æœçš„é”™è¯¯è€Œå¼‚å¸¸ç»ˆæ­¢ï¼Œæˆ–è¢«æ“ä½œç³»ç»ŸåŠæœ‰ç»ˆæ­¢æƒçš„è¿›ç¨‹æ‰€ç»ˆæ­¢æ—¶æ‰€å¤„çš„çŠ¶æ€ã€‚<blockquote><p>å¤„äºç»ˆæ­¢æ€çš„è¿›ç¨‹ä¸å†è¢«è°ƒåº¦æ‰§è¡Œï¼Œä¸‹ä¸€æ­¥å°†è¢«ç³»ç»Ÿæ’¤é”€ï¼Œæœ€ç»ˆä»ç³»ç»Ÿä¸­æ¶ˆå¤±ã€‚<br>ç»ˆæ­¢ä¸€ä¸ªè¿›ç¨‹éœ€è¦ä¸¤ä¸ªæ­¥éª¤ï¼š    </p></blockquote></li></ul><p>1.å…ˆç­‰å¾…æ“ä½œç³»ç»Ÿæˆ–ç›¸å…³çš„è¿›ç¨‹è¿›è¡Œå–„åå¤„ç†ï¼ˆå¦‚æŠ½å–ä¿¡æ¯ï¼‰ã€‚<br>2.ç„¶åå›æ”¶å ç”¨çš„èµ„æºå¹¶è¢«ç³»ç»Ÿåˆ é™¤ã€‚</p><h3 id="ä¸ƒæ€æ¨¡å‹">3.2.3 ä¸ƒæ€æ¨¡å‹</h3><p>ä¸‰æ€æ¨¡å‹å’Œäº”æ€æ¨¡å‹éƒ½æ˜¯å‡è®¾æ‰€æœ‰è¿›ç¨‹éƒ½åœ¨å†…å­˜ä¸­çš„äº‹å®ä¸Šæœ‰åºä¸æ–­çš„åˆ›å»ºè¿›ç¨‹ï¼Œ<strong>å½“ç³»ç»Ÿèµ„æºå°¤å…¶æ˜¯å†…å­˜èµ„æºå·²ç»ä¸èƒ½æ»¡è¶³è¿›ç¨‹è¿è¡Œçš„è¦æ±‚æ—¶ï¼Œå¿…é¡»æŠŠæŸäº›è¿›ç¨‹æŒ‚èµ·ï¼ˆsuspendï¼‰ï¼Œå¯¹æ¢åˆ°ç£ç›˜å¯¹æ¢åŒºä¸­ï¼Œé‡Šæ”¾å®ƒå æœ‰çš„æŸäº›èµ„æºï¼Œæš‚æ—¶ä¸å‚ä¸ä½çº§è°ƒåº¦ã€‚</strong> èµ·åˆ°å¹³æ»‘ç³»ç»Ÿæ“ä½œè´Ÿè·çš„ç›®çš„ã€‚</p><p>ä¸ƒæ€æ¨¡å‹åœ¨äº”æ€æ¨¡å‹çš„åŸºç¡€ä¸Šå¢åŠ äº†æŒ‚èµ·å°±ç»ªæ€ï¼ˆready suspendï¼‰å’ŒæŒ‚èµ·ç­‰å¾…æ€ï¼ˆblocked suspendï¼‰ã€‚</p><ul><li>æŒ‚èµ·å°±ç»ªæ€ï¼šè¿›ç¨‹å…·å¤‡è¿è¡Œæ¡ä»¶ï¼Œä½†ç›®å‰<strong>åœ¨å¤–å­˜ä¸­</strong>ï¼Œåªæœ‰å®ƒè¢«å¯¹æ¢åˆ°å†…å­˜æ‰èƒ½è¢«è°ƒåº¦æ‰§è¡Œã€‚</li><li>æŒ‚èµ·ç­‰å¾…æ€ï¼šè¡¨æ˜è¿›ç¨‹æ­£åœ¨ç­‰å¾…æŸä¸€ä¸ªäº‹ä»¶å‘ç”Ÿä¸”<strong>åœ¨å¤–å­˜ä¸­</strong>ã€‚</li></ul><p><img src="https://api.codetool.top/img/15870350867344.png" alt></p><h2 id="è¿›ç¨‹çš„æè¿°å’Œç»„æˆ">3.3 è¿›ç¨‹çš„æè¿°å’Œç»„æˆ</h2><h3 id="è¿›ç¨‹æ˜ åƒ">3.3.1 è¿›ç¨‹æ˜ åƒ</h3><p>è¿›ç¨‹å®ä½“(è¿›ç¨‹æ˜ åƒ)çš„ç»„æˆï¼š</p><ul><li>è¿›ç¨‹æ§åˆ¶å—ï¼ˆ<strong>PCB</strong>ï¼‰</li><li>è¿›ç¨‹<strong>ç¨‹åºå—</strong></li><li>è¿›ç¨‹æ ¸å¿ƒæ ˆ</li><li>è¿›ç¨‹<strong>æ•°æ®å—</strong></li></ul><p>è¿›ç¨‹æ§åˆ¶å—PCBï¼Œæ˜¯OS<strong>ç”¨äºè®°å½•å’Œåˆ»åˆ’è¿›ç¨‹çŠ¶æ€åŠæœ‰å…³ä¿¡æ¯çš„æ•°æ®ç»“æ„</strong>ã€‚ä¹Ÿæ˜¯OSæŒæ¡è¿›ç¨‹çš„å”¯ä¸€èµ„æ–™ç»“æ„ï¼Œå®ƒåŒ…æ‹¬<strong>è¿›ç¨‹æ‰§è¡Œæ—¶çš„æƒ…å†µï¼Œä»¥åŠè¿›ç¨‹è®©å‡ºå¤„ç†å™¨åæ‰€å¤„çš„çŠ¶æ€ã€æ–­ç‚¹ç­‰ä¿¡æ¯ã€‚</strong> PCBæ˜¯è¿›ç¨‹å­˜åœ¨çš„å”¯ä¸€æ ‡å¿—ã€‚</p><p>è¿›ç¨‹æ§åˆ¶å—åŒ…å«ä¸‰ç±»ä¿¡æ¯ï¼š</p><ul><li>æ ‡è¯†ä¿¡æ¯ï¼ŒåŒ…æ‹¬è¿›ç¨‹å·ï¼ˆpidï¼‰ï¼Œè¿›ç¨‹ç»„ï¼Œç”¨æˆ·æ ‡è¯†ç¬¦ï¼ˆuidï¼‰</li><li>ç°åœºä¿¡æ¯ï¼ŒåŒ…å«ä¸­æ–­æ—¶å¤„ç†å™¨çš„ä¿¡æ¯</li><li>æ§åˆ¶ä¿¡æ¯<ul><li>è¿›ç¨‹è°ƒåº¦çš„ç›¸å…³ä¿¡æ¯ï¼Œå¦‚è¿›ç¨‹ä¼˜å…ˆçº§</li><li>è¿›ç¨‹ç»„æˆä¿¡æ¯</li><li>è¿›ç¨‹é—´çš„æ—ç³»ä¿¡æ¯</li><li>è¿›ç¨‹é—´é€šä¿¡ä¿¡æ¯</li></ul></li></ul><h3 id="è¿›ç¨‹é˜Ÿåˆ—åŠå…¶ç®¡ç†">3.3.2 è¿›ç¨‹é˜Ÿåˆ—åŠå…¶ç®¡ç†</h3><p>å¤„äºåŒä¸€çŠ¶æ€çš„æ‰€æœ‰PCBé“¾æ¥åœ¨ä¸€èµ·çš„æ•°æ®ç»“æ„ç§°ä¸ºè¿›ç¨‹é˜Ÿåˆ—ã€‚ å¯æŒ‰å…ˆæ¥å…ˆåˆ°çš„åŸåˆ™æ’æˆé˜Ÿåˆ—ï¼Œä¹Ÿå¯æŒ‰ä¼˜å…ˆæ•°æˆ–å…¶å®ƒåŸåˆ™æ’é˜Ÿã€‚</p><p>ç»„ç»‡æ–¹å¼ï¼š</p><ul><li>çº¿æ€§æ–¹å¼</li><li>é“¾æ¥æ–¹å¼ï¼šæ“ä½œç³»ç»ŸæŒæœ‰æŒ‡å‘å„ä¸ªé˜Ÿåˆ—çš„æŒ‡é’ˆ</li><li>ç´¢å¼•æ–¹å¼ï¼šæ ¹æ®è¿›ç¨‹çŠ¶æ€çš„ä¸åŒï¼Œå»ºç«‹å‡ å¼ ç´¢å¼•è¡¨ï¼Œæ“ä½œç³»ç»ŸæŒæœ‰æŒ‡å‘å„ä¸ªç´¢å¼•è¡¨çš„æŒ‡é’ˆ</li></ul><h3 id="è¿›ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢">3.3.3 è¿›ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢</h3><p>è¿›ç¨‹åˆ‡æ¢æ˜¯è®©å¤„äºè¿è¡Œæ€çš„è¿›ç¨‹ä¸­æ–­è¿è¡Œï¼Œè®©å‡ºå¤„ç†å™¨ï¼Œè¿™æ—¶è¦åšä¸€æ¬¡è¿›ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢ã€å³ä¿å­˜è€è¿›ç¨‹çš„ä¸Šä¸‹æ–‡è€Œè£…å…¥è¢«ä¿æŠ¤äº†çš„æ–°è¿›ç¨‹çš„ä¸Šä¸‹æ–‡ï¼Œä»¥ä¾¿æ–°è¿›ç¨‹è¿è¡Œã€‚</p><p>ä¸­æ–­è¿è¡Œçš„ä¸‰ç§æƒ…å†µï¼š</p><ul><li>è¢«é˜»å¡çš„é«˜ä¼˜å…ˆçº§è¿›ç¨‹å˜ä¸ºå°±ç»ªæ€</li><li>è¿è¡Œè¿›ç¨‹çš„æ—¶é—´ç‰‡è€—å°½</li><li>è¿è¡Œè¿›ç¨‹æ‰§è¡Œé˜»å¡å‹I/OæŒ‡ä»¤ï¼ˆå˜ä¸ºå‡†å¤‡æ€ï¼‰</li></ul><p>å½“ç„¶ï¼Œè¿™äº›æƒ…å†µè§¦å‘ä¹Ÿä¸ä¸€å®šå°±ä¼šç«‹å³è¿›è¡Œè¿›ç¨‹è°ƒåº¦å’Œåˆ‡æ¢ï¼Œä¾‹å¤–æƒ…å†µï¼š</p><ul><li>å†…æ ¸æ­£åœ¨å¤„ç†ä¸­æ–­çš„è¿‡ç¨‹ä¸­</li><li>è¿›ç¨‹è¿è¡Œåœ¨å†…æ ¸ä¸´ç•ŒåŒºä¸­</li><li>å†…æ ¸å¤„åœ¨éœ€è¦å±è”½ä¸­æ–­çš„åŸå­æ“ä½œè¿‡ç¨‹ä¸­</li></ul><p>è¿›ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢çš„æ­¥éª¤ï¼š</p><ol><li>ä¿å­˜è¢«ä¸­æ–­è¿›ç¨‹çš„å¤„ç†å™¨ç°åœºä¿¡æ¯</li><li>ä¿®æ”¹è¢«ä¸­æ–­è¿›ç¨‹çš„PCBæœ‰å…³ä¿¡æ¯ï¼Œå¦‚è¿›ç¨‹çŠ¶æ€ç­‰</li><li>æŠŠè¢«ä¸­æ–­è¿›ç¨‹çš„PSBåŠ å…¥æœ‰å…³é˜Ÿåˆ—</li><li>é€‰æ‹©ä¸‹ä¸€ä¸ªå æœ‰å¤„ç†å™¨è¿è¡Œçš„è¿›ç¨‹</li><li>ä¿®æ”¹è¢«é€‰ä¸­è¿›ç¨‹çš„PSBçš„æœ‰å…³ä¿¡æ¯</li><li>æ ¹æ®è¢«é€‰ä¸­è¿›ç¨‹è®¾ç½®æ“ä½œç³»ç»Ÿç”¨åˆ°çš„åœ°å€è½¬æ¢å’Œå­˜å‚¨ä¿æŠ¤ä¿¡æ¯</li><li>æ ¹æ®è¢«é€‰ä¸­è¿›ç¨‹æ¢å¤å¤„ç†å™¨ç°åœº</li></ol><p>å½“ä¸­æ–­/ç³»ç»Ÿè°ƒç”¨å‘ç”Ÿæ—¶ï¼Œæš‚æ—¶ä¸­æ–­æ­£åœ¨æ‰§è¡Œçš„ç”¨æˆ·è¿›ç¨‹ï¼ŒæŠŠè¿›ç¨‹ä»ç”¨æˆ·çŠ¶æ€è½¬æ¢åˆ°å†…æ ¸çŠ¶æ€ï¼Œå»æ‰§è¡Œæ“ä½œç³»ç»ŸæœåŠ¡ç¨‹åºä»¥è·å¾—æœåŠ¡ï¼Œè¿™å°±æ˜¯ä¸€æ¬¡å¤„ç†å™¨çŠ¶æ€è½¬æ¢ã€‚</p><p>å¤„ç†å™¨çŠ¶æ€è½¬æ¢çš„æ­¥éª¤ï¼š</p><ol><li>ä¿å­˜è¢«ä¸­æ–­è¿›ç¨‹çš„å¤„ç†å™¨ç°åœºä¿¡æ¯ï¼›</li><li>å¤„ç†å™¨ä»ç”¨æˆ·æ€è½¬æ¢åˆ°æ ¸å¿ƒæ€ï¼Œä»¥ä¾¿æ‰§è¡ŒæœåŠ¡ç¨‹åºæˆ–ä¸­æ–­å¤„ç†ç¨‹åºï¼›</li><li>å¦‚æœå¤„ç†ä¸­æ–­ï¼Œå¯æ ¹æ®è§„å®šçš„ä¸­æ–­çº§è®¾ç½®ä¸­æ–­å±è”½ä½ï¼›</li><li>æ ¹æ®ç³»ç»Ÿè°ƒç”¨å·æˆ–ä¸­æ–­å·ï¼Œä»ç³»ç»Ÿè°ƒç”¨è¡¨æˆ–ä¸­æ–­å…¥å£è¡¨æ‰¾åˆ°æœåŠ¡ç¨‹åºæˆ–ä¸­æ–­å¤„ç†ç¨‹åºåœ°å€ã€‚</li></ol><h2 id="è¿›ç¨‹ç®¡ç†åŸè¯­">3.4 è¿›ç¨‹ç®¡ç†åŸè¯­</h2><p>è¿™ä¸ªä¸å±äºè¿›ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢ä¸­çš„å†…å®¹ï¼Œæ€ç»´å¯¼å›¾é‡Œé¢æ˜¯æˆ‘å¼„é”™äº†ã€‚</p><p>è¿›ç¨‹ç®¡ç†åŸè¯­ç”¨äºè¿›ç¨‹æ§åˆ¶ï¼Œæœ‰ï¼š</p><ul><li>è¿›ç¨‹åˆ›å»º</li><li>è¿›ç¨‹æ’¤é”€</li><li>è¿›ç¨‹é˜»å¡</li><li>è¿›ç¨‹å”¤é†’</li><li>è¿›ç¨‹æŒ‚èµ·</li><li>è¿›ç¨‹æ¿€æ´»</li></ul><p>è¿›ç¨‹åˆ›å»ºçš„è¯¦ç»†æ­¥éª¤ï¼š</p><ol><li>åœ¨è¿›ç¨‹åˆ—è¡¨ä¸­å¢åŠ ä¸€é¡¹ï¼Œä»PCBæ± ä¸­ç”³è¯·ä¸€ä¸ªç©ºé—²PCBï¼Œä¸ºæ–°è¿›ç¨‹åˆ†é…æƒŸä¸€çš„è¿›ç¨‹æ ‡è¯†ç¬¦</li><li>ä¸ºæ–°è¿›ç¨‹çš„è¿›ç¨‹æ˜ åƒåˆ†é…åœ°å€ç©ºé—´ï¼Œä»¥ä¾¿å®¹çº³è¿›ç¨‹å®ä½“ã€‚è¿›ç¨‹ç®¡ç†ç¨‹åºç¡®å®šåŠ è½½åˆ°è¿›ç¨‹åœ°å€ç©ºé—´ä¸­çš„ç¨‹åº</li><li>ä¸ºæ–°è¿›ç¨‹åˆ†é…é™¤ä¸»å­˜ç©ºé—´å¤–çš„å…¶ä»–å„ç§æ‰€éœ€èµ„æºï¼›</li><li>åˆå§‹åŒ–PCBï¼Œå¦‚è¿›ç¨‹æ ‡è¯†ç¬¦ã€å¤„ç†å™¨åˆå§‹çŠ¶æ€ã€è¿›ç¨‹ä¼˜å…ˆçº§ç­‰ï¼›</li><li>æŠŠæ–°è¿›ç¨‹çŠ¶æ€ç½®ä¸ºå°±ç»ªæ€ï¼Œå¹¶ç§»å…¥å°±ç»ªè¿›ç¨‹é˜Ÿåˆ—ï¼›</li><li>é€šçŸ¥æ“ä½œç³»ç»Ÿçš„æŸäº›æ¨¡å—ï¼Œå¦‚è®°è´¦ç¨‹åºã€æ€§èƒ½ç›‘æ§ç¨‹åºã€‚</li></ol><p>linuxåˆ›å»ºè¿›ç¨‹/çº¿ç¨‹å¯ä»¥ä½¿ç”¨ï¼š</p><ul><li><code>fork()</code>ï¼šçˆ¶å­è¿›ç¨‹æ˜¯ç‹¬ç«‹çš„è¿›ç¨‹ </li><li><code>clone()</code>ï¼šçˆ¶å­è¿›ç¨‹å…è®¸å…±äº«èµ„æº</li><li><code>vfork()</code>ï¼šå­è¿›ç¨‹ç§Ÿç”¨çˆ¶è¿›ç¨‹åœ°å€ç©ºé—´ </li></ul><p>è¿›ç¨‹æ’¤é”€çš„è¯¦ç»†æ­¥éª¤ï¼š</p><ol><li>æ ¹æ®æ’¤é”€è¿›ç¨‹æ ‡è¯†å·ï¼Œä»ç›¸åº”é˜Ÿåˆ—ä¸­æ‰¾åˆ°å¹¶ç§»å‡ºå®ƒ</li><li>å°†è¯¥è¿›ç¨‹æ‹¥æœ‰çš„èµ„æºå½’è¿˜ç»™çˆ¶è¿›ç¨‹æˆ–æ“ä½œç³»ç»Ÿ</li><li>è‹¥è¯¥è¿›ç¨‹æ‹¥æœ‰å­è¿›ç¨‹ï¼Œå…ˆæ’¤é”€å®ƒçš„æ‰€æœ‰å­è¿›ç¨‹ï¼Œä»¥é˜²å®ƒä»¬è„±ç¦»æ§åˆ¶</li><li>å›æ”¶PCBï¼Œå¹¶å½’è¿˜åˆ°PCBæ± </li></ol><p>è¿›ç¨‹é˜»å¡æ­¥éª¤ï¼š</p><ol><li>åœæ­¢è¿›ç¨‹æ‰§è¡Œï¼Œä¿å­˜ç°åœºä¿¡æ¯åˆ°PCB</li><li>ä¿®æ”¹è¿›ç¨‹PCBæœ‰å…³å†…å®¹ï¼Œå¦‚è¿›ç¨‹çŠ¶æ€ç”±è¿è¡Œæ€æ”¹ä¸ºç­‰å¾…æ€ç­‰ï¼Œå¹¶æŠŠä¿®æ”¹çŠ¶æ€åçš„è¿›ç¨‹ç§»å…¥ç›¸åº”äº‹ä»¶çš„ç­‰å¾…é˜Ÿåˆ—ä¸­</li><li>è½¬å…¥è¿›ç¨‹è°ƒåº¦ç¨‹åºå»è°ƒåº¦å…¶ä»–è¿›ç¨‹è¿è¡Œ</li></ol><p>è¿›ç¨‹å”¤é†’æ­¥éª¤ï¼š</p><ol><li>ä»ç›¸åº”çš„ç­‰å¾…é˜Ÿåˆ—ä¸­ç§»å‡ºè¿›ç¨‹</li><li>ä¿®æ”¹è¿›ç¨‹PCBçš„æœ‰å…³ä¿¡æ¯ï¼Œå¦‚è¿›ç¨‹çŠ¶æ€æ”¹ä¸ºå°±ç»ªæ€ï¼Œå¹¶ç§»å…¥å°±ç»ªé˜Ÿåˆ—</li><li>è‹¥è¢«å”¤é†’è¿›ç¨‹æ¯”å½“å‰è¿è¡Œè¿›ç¨‹ä¼˜å…ˆçº§é«˜ï¼Œé‡æ–°è®¾ç½®è°ƒåº¦æ ‡å¿—</li></ol><h1 id="çº¿ç¨‹åŠå…¶å®ç°">4 çº¿ç¨‹åŠå…¶å®ç°</h1><p><img src="https://api.codetool.top/img/15870311193616.png" alt></p><h2 id="çº¿ç¨‹æ¦‚å¿µ">4.1 çº¿ç¨‹æ¦‚å¿µ</h2><p>OSä¸­å¼•å…¥è¿›ç¨‹çš„ç›®çš„æ˜¯ä¸ºäº†ä½¿å¤šä¸ªç¨‹åºå¹¶å‘æ‰§è¡Œï¼Œä»¥æ”¹å–„èµ„æºä½¿ç”¨ç‡å’Œæé«˜ç³»ç»Ÿæ•ˆç‡ï¼ŒOSä¸­å†å¼•å…¥çº¿ç¨‹ï¼Œåˆ™æ˜¯<strong>ä¸ºäº†å‡å°‘ç¨‹åºå¹¶å‘æ‰§è¡Œæ—¶æ‰€ä»˜å‡ºçš„æ—¶ç©ºå¼€é”€ï¼Œä½¿å¾—å¹¶å‘ç²’åº¦æ›´ç»†ã€å¹¶å‘æ€§æ›´å¥½ã€‚</strong></p><p>çº¿ç¨‹æ˜¯OSè¿›ç¨‹ä¸­èƒ½å¤Ÿç‹¬ç«‹æ‰§è¡Œçš„å®ä½“ï¼ˆæ§åˆ¶æµï¼‰ï¼Œ<strong>æ˜¯å¤„ç†å™¨è°ƒåº¦å’Œåˆ†æ´¾çš„åŸºæœ¬å•ä½ã€‚çº¿ç¨‹æ˜¯è¿›ç¨‹çš„ç»„æˆéƒ¨åˆ†</strong>ï¼Œæ¯ä¸ªè¿›ç¨‹å†…å…è®¸åŒ…å«å¤šä¸ªå¹¶å‘æ‰§è¡Œçš„å®ä½“ï¼ˆæ§åˆ¶æµï¼‰ï¼Œè¿™å°±æ˜¯å¤šçº¿ç¨‹ã€‚</p><h2 id="çº¿ç¨‹ä¼˜ç‚¹">4.2 çº¿ç¨‹ä¼˜ç‚¹</h2><ul><li>å¿«é€Ÿçº¿ç¨‹åˆ‡æ¢</li><li>é€šä¿¡æ˜“äºå®ç°</li><li>å‡å°‘ç®¡ç†å¼€é”€</li><li>å¹¶å‘ç¨‹åº¦æé«˜</li></ul><p>è¿›ç¨‹ä½œä¸ºç³»ç»Ÿèµ„æºåˆ†é…å’Œä¿æŠ¤çš„ç‹¬ç«‹å•ä½ï¼Œä¸éœ€è¦é¢‘ç¹åœ°åˆ‡æ¢ï¼Œè€Œçº¿ç¨‹å…±äº«è¿›ç¨‹ä¸­çš„æ•°æ®ï¼Œåˆ©äºé€šä¿¡ã€‚</p><h2 id="å¤šçº¿ç¨‹ç¯å¢ƒ">4.3 å¤šçº¿ç¨‹ç¯å¢ƒ</h2><h3 id="çº¿ç¨‹ç»„æˆ">4.3.1 çº¿ç¨‹ç»„æˆ</h3><ol><li>çº¿ç¨‹æ§åˆ¶å—ï¼šçº¿ç¨‹<strong>å”¯ä¸€æ ‡è¯†ç¬¦åŠçº¿ç¨‹çŠ¶æ€ä¿¡æ¯</strong>(è¿è¡Œæ€ã€å°±ç»ªæ€ã€é˜»å¡æ€å’Œç»ˆæ­¢æ€)</li><li>çº¿ç¨‹æ˜¯ä¸€æ¡æ‰§è¡Œè·¯å¾„ï¼Œ<strong>æœ‰ç‹¬ç«‹çš„ç¨‹åºè®¡æ•°å™¨</strong>ï¼›æœªè¿è¡Œæ—¶ä¿æŠ¤çº¿ç¨‹ä¸Šä¸‹æ–‡</li><li>çº¿ç¨‹æœ‰<strong>æ‰§è¡Œæ ˆå’Œå­˜æ”¾å±€éƒ¨å˜é‡çš„ç§ç”¨å­˜å‚¨ç©ºé—´</strong></li><li><strong>å¯è®¿é—®æ‰€å±è¿›ç¨‹çš„å†…å­˜å’Œèµ„æº</strong>ï¼Œå¹¶ä¸è¯¥è¿›ç¨‹ä¸­çš„å…¶ä»–çº¿ç¨‹å…±äº«è¿™äº›èµ„æº</li></ol><p>çº¿ç¨‹åˆç§°è½»é‡è¿›ç¨‹ï¼Œçº¿ç¨‹è¿è¡Œåœ¨è¿›ç¨‹çš„ä¸Šä¸‹æ–‡ä¸­,å¹¶ä½¿ç”¨è¿›ç¨‹çš„èµ„æºå’Œç¯å¢ƒã€‚ç³»ç»Ÿè°ƒåº¦çš„åŸºæœ¬å•ä½æ˜¯çº¿ç¨‹è€Œä¸æ˜¯è¿›ç¨‹,æ¯å½“åˆ›å»ºä¸€ä¸ªè¿›ç¨‹æ—¶ï¼Œè‡³å°‘è¦åŒæ—¶ä¸ºè¯¥è¿›ç¨‹åˆ›å»ºä¸€ä¸ªçº¿ç¨‹ã€‚</p><h3 id="çº¿ç¨‹çŠ¶æ€">4.3.2 çº¿ç¨‹çŠ¶æ€</h3><p>çº¿ç¨‹çŠ¶æ€æœ‰ï¼šè¿è¡Œã€å°±ç»ªã€ç­‰å¾…å’Œç»ˆæ­¢ï¼ŒçŠ¶æ€è½¬æ¢ä¹Ÿç±»ä¼¼äºè¿›ç¨‹ã€‚</p><p>æŒ‚èµ·çŠ¶æ€å¯¹çº¿ç¨‹æ˜¯æ²¡æœ‰æ„ä¹‰ï¼Œå¦‚æœè¿›ç¨‹æŒ‚èµ·åè¢«å¯¹æ¢å‡ºä¸»å­˜ï¼Œåˆ™å®ƒçš„æ‰€æœ‰çº¿ç¨‹å› å…±äº«è¿›ç¨‹çš„åœ°å€ç©ºé—´ï¼Œä¹Ÿå¿…é¡»å…¨éƒ¨å¯¹æ¢å‡ºå»ã€‚</p><h3 id="çº¿ç¨‹ç»„ç»‡">4.3.3 çº¿ç¨‹ç»„ç»‡</h3><p>è¿›ç¨‹ä¸­çº¿ç¨‹å¤šç§ç»„ç»‡æ–¹å¼ï¼š</p><ul><li>è°ƒåº¦å‘˜ï¼å·¥ä½œè€…æ¨¡å¼ï¼šä¸€ä¸ªçº¿ç¨‹æ‹…ä»»è°ƒåº¦å‘˜ï¼Œç”¨äºåˆ†é…ä»»åŠ¡å¹¶å”¤é†’å·¥ä½œè€…ï¼Œå…¶ä»–çº¿ç¨‹ä¸ºå·¥ä½œè€…ã€‚</li><li>ç»„æ¨¡å¼ï¼šå„ä¸ªçº¿ç¨‹éƒ½å¯ä»¥å–å¾—å¹¶å¤„ç†å·¥ä½œè¯·æ±‚ï¼Œå¯¹ç‰¹å®šä»»åŠ¡å»ºç«‹ç›¸åº”çº¿ç¨‹é˜Ÿåˆ—ï¼ˆæ‰§è¡Œä¸åŒä»»åŠ¡ï¼‰</li><li>æµæ°´çº¿æ¨¡å¼ï¼šçº¿ç¨‹æ’æˆæŸä¸ªæ¬¡åºï¼Œå‰ä¸€ä¸ªçº¿ç¨‹äº§ç”Ÿçš„æ•°æ®äº¤ç»™ä¸‹ä¸€ä¸ªçº¿ç¨‹å¤„ç† </li></ul><h2 id="çº¿ç¨‹çš„å®ç°">4.4 çº¿ç¨‹çš„å®ç°</h2><p>æœ¬èŠ‚å‚è€ƒï¼š<a href="https://blog.csdn.net/cxy19931018/article/details/81435811" target="_blank" rel="noopener">æ“ä½œç³»ç»Ÿå­¦ä¹ è®°å½•ä¹‹äº”ï¼šå¤šçº¿ç¨‹å®ç°çš„æ··åˆç­–ç•¥_å°å°æŸ´çš„åšå®¢-CSDNåšå®¢</a></p><p>ä»å®ç°è§’åº¦çœ‹ï¼Œçº¿ç¨‹åˆ†æˆ:</p><ul><li>ç”¨æˆ·çº§çº¿ç¨‹ULT(å¦‚Java ,Informix)ã€‚</li><li>å†…æ ¸çº§çº¿ç¨‹KLT(å¦‚OS/2)ã€‚</li><li>æ··åˆå¼çº¿ç¨‹(å¦‚Solaris)ã€‚</li></ul><p>å†…æ ¸çº§çº¿ç¨‹æ˜¯å†…æ ¸æ”¯æŒçš„çº¿ç¨‹ï¼Œçº¿ç¨‹ç®¡ç†å·¥ä½œç”±å†…æ ¸å®Œæˆã€‚ä¼˜ç‚¹æ˜¯çº¿ç¨‹åˆ‡æ¢é€Ÿåº¦å¿«ã€æ‰§è¡Œæ•ˆç‡é«˜ã€‚ç¼ºç‚¹æ˜¯ç”¨æˆ·æ€è¿è¡Œã€å†…æ ¸æ€ç®¡ç†å¯¼è‡´ç³»ç»Ÿå¼€é”€å¤§ã€‚</p><p>ç”¨æˆ·çº§çº¿ç¨‹æ˜¯<strong>ç”±åº”ç”¨ç¨‹åºæ‰€æ”¯æŒçš„çº¿ç¨‹å®ç°</strong>, å†…æ ¸æ„è¯†ä¸åˆ°ç”¨æˆ·çº§çº¿ç¨‹çš„å®ç°ã€‚çº¿ç¨‹ç®¡ç†ç”±åº”ç”¨ç¨‹åºå®Œæˆã€‚ä¼˜ç‚¹ï¼š</p><ul><li>èŠ‚çœç³»ç»Ÿæ¨¡å¼è½¬æ¢å¼€é”€å’Œå†…æ ¸çš„å®è´µèµ„æº</li><li>å…è®¸è¿›ç¨‹æŒ‰ç…§åº”ç”¨çš„ç‰¹å®šéœ€è¦é€‰æ‹©è°ƒåº¦ç®—æ³•</li><li>èƒ½å¤Ÿè¿è¡Œåœ¨ä»»ä½•æ“ä½œç³»ç»Ÿä¸Š</li><li>å†…æ ¸æ— é¡»åšä»»ä½•æ”¹å˜</li></ul><p>ç¼ºç‚¹ï¼š</p><ul><li>çº¿ç¨‹çš„é˜»å¡å°†å¼•èµ·æ•´ä¸ªè¿›ç¨‹çš„é˜»å¡</li><li>ä¸å¯èƒ½å¾—ç›Šäºå¤šçº¿ç¨‹çš„å¹¶å‘æ‰§è¡Œ</li></ul><p>æ··åˆå¼çº¿ç¨‹ï¼šçº¿ç¨‹åˆ›å»ºå®Œå…¨åœ¨ç”¨æˆ·ç©ºé—´ä¸­å®Œæˆï¼Œçº¿ç¨‹çš„è°ƒåº¦å’ŒåŒæ­¥ä¹Ÿåœ¨åº”ç”¨ç¨‹åºä¸­è¿›è¡Œã€‚<strong>ä¸€ä¸ªåº”ç”¨ä¸­çš„å¤šä¸ªç”¨æˆ·çº§çº¿ç¨‹è¢«æ˜ å°„åˆ°ä¸€äº›(å°äºç­‰äºç”¨æˆ·çº§çº¿ç¨‹æ•°ç›®)å†…æ ¸çº§çº¿ç¨‹ä¸Šã€‚</strong>è¯¥æ–¹æ³•å°†ä¼šç»“åˆçº¯ç²¹ç”¨æˆ·çº§çº¿ç¨‹æ–¹æ³•å’Œå†…æ ¸çº§çº¿ç¨‹æ–¹æ³•çš„ä¼˜ç‚¹ï¼ŒåŒæ—¶å‡å°‘å®ƒä»¬çš„ç¼ºç‚¹ã€‚</p><p><img src="https://api.codetool.top/img/15870405337015.png" alt></p><h1 id="å¤„ç†å™¨è°ƒåº¦">5 å¤„ç†å™¨è°ƒåº¦</h1><p><img src="https://api.codetool.top/img/15870311366136.png" alt></p><h2 id="è°ƒåº¦å±‚æ¬¡">5.1 è°ƒåº¦å±‚æ¬¡</h2><p>ä½œä¸šä»è¿›å…¥ç³»ç»Ÿæˆä¸ºåå¤‡ä½œä¸šå¼€å§‹ï¼Œç›´åˆ°è¿è¡Œç»“æŸé€€å‡ºç³»ç»Ÿä¸ºæ­¢ï¼Œéœ€ç»å†ä¸åŒçº§åˆ«çš„è°ƒåº¦ï¼š</p><p>é«˜çº§è°ƒåº¦ï¼Œåˆç§°ä½œä¸šè°ƒåº¦ã€é•¿ç¨‹è°ƒåº¦ã€‚ä»»åŠ¡æ˜¯<strong>é€‰æ‹©ä½œä¸šè¿›å…¥å†…å­˜</strong>ï¼Œæ§åˆ¶å¤šé“ç¨‹åºçš„é“æ•°ã€‚</p><p>ä¸­çº§è°ƒåº¦ï¼Œåˆç§°å¹³è¡¡è°ƒåº¦ã€ä¸­ç¨‹è°ƒåº¦ã€‚ä»»åŠ¡æ˜¯<strong>å®Œæˆå¤–å­˜å’Œå†…å­˜ä¸­çš„è¿›ç¨‹å¯¹æ¢å·¥ä½œã€è½¬æ¢å°±ç»ªæ€å’Œç­‰å¾…æ€</strong>,æé«˜å†…å­˜åˆ©ç”¨ç‡å’Œç³»ç»Ÿååç‡ã€‚</p><p>ä½çº§è°ƒåº¦ï¼Œåˆç§°è¿›ç¨‹è°ƒåº¦/çº¿ç¨‹è°ƒåº¦ã€çŸ­ç¨‹è°ƒåº¦ã€‚ä»»åŠ¡æ˜¯<strong>å†³å®šå°±ç»ªé˜Ÿåˆ—ä¸­çš„æŸä¸ªè¿›ç¨‹/çº¿ç¨‹è·å¾—å¤„ç†å™¨</strong>ã€‚</p><h2 id="é€‰æ‹©è°ƒåº¦ç®—æ³•åŸåˆ™">5.2 é€‰æ‹©è°ƒåº¦ç®—æ³•åŸåˆ™</h2><p>åŸåˆ™å°±æ˜¯æ€§èƒ½æŒ‡æ ‡ï¼ŒåŒ…å«ï¼š</p><ul><li>èµ„æºåˆ©ç”¨ç‡ï¼šCPUåˆ©ç”¨ç‡=CPUæœ‰æ•ˆå·¥ä½œæ—¶é—´/CPUæ€»çš„è¿è¡Œæ—¶é—´ã€‚CPUæ€»çš„è¿è¡Œæ—¶é—´=CPUæœ‰æ•ˆå·¥ä½œæ—¶é—´+CPUç©ºé—²ç­‰å¾…æ—¶é—´ã€‚</li><li>ååç‡ï¼šå•ä½æ—¶é—´å†…CPUå¤„ç†ä½œä¸šçš„ä¸ªæ•°ã€‚</li><li>å…¬å¹³æ€§ï¼šç¡®ä¿æ¯ä¸ªè¿›ç¨‹éƒ½èƒ½è·å¾—åˆç†çš„èµ„æºä»½é¢ï¼Œä¸ä¼šå‡ºç°é¥¥é¥¿ç°è±¡ã€‚</li><li>å“åº”æ—¶é—´ï¼šäº¤äº’å¼è¿›ç¨‹ä»æäº¤ä¸€ä¸ªè¯·æ±‚(å‘½ä»¤)åˆ°æ¥æ”¶åˆ°å“åº”ä¹‹é—´çš„æ—¶é—´é—´éš”ç§°å“åº”æ—¶é—´ã€‚</li><li>å‘¨è½¬æ—¶é—´ï¼šä»æäº¤ä½œä¸šå¼€å§‹åˆ°ä½œä¸šå®Œæˆçš„æ—¶é—´ã€‚</li></ul><h2 id="ä½œä¸šçš„ç®¡ç†ä¸è°ƒåº¦">5.3 ä½œä¸šçš„ç®¡ç†ä¸è°ƒåº¦</h2><h3 id="ä½œä¸šå’Œè¿›ç¨‹çš„å…³ç³»">5.3.1 ä½œä¸šå’Œè¿›ç¨‹çš„å…³ç³»</h3><p>ä½œä¸šæ˜¯ä»»åŠ¡å®ä½“ï¼Œè¿›ç¨‹æ˜¯å®Œæˆä»»åŠ¡çš„æ‰§è¡Œå®ä½“;æ²¡æœ‰ä½œä¸šä»»åŠ¡ï¼Œè¿›ç¨‹æ— äº‹å¯å¹²ï¼Œæ²¡æœ‰è¿›ç¨‹ï¼Œä½œä¸šä»»åŠ¡æ²¡æ³•å®Œæˆã€‚</p><p><strong>ä½œä¸šæ¦‚å¿µæ›´å¤šåœ°ç”¨åœ¨æ‰¹å¤„ç†æ“ä½œç³»ç»Ÿï¼Œè€Œè¿›ç¨‹åˆ™å¯ä»¥ç”¨åœ¨å„ç§å¤šé“ç¨‹åºè®¾è®¡ç³»ç»Ÿã€‚</strong></p><h3 id="ä½œä¸šæ§åˆ¶å—">5.3.2 ä½œä¸šæ§åˆ¶å—</h3><p>å¤šé“æ‰¹å¤„ç†æ“ä½œç³»ç»Ÿå…·æœ‰ç‹¬ç«‹çš„ä½œä¸šç®¡ç†æ¨¡å—ï¼Œå¿…é¡»åƒè¿›ç¨‹ç®¡ç†ä¸€æ ·ä¸ºæ¯ä¸€ä¸ªä½œä¸šå»ºç«‹ä½œä¸šæ§åˆ¶å—ï¼ˆJCBï¼‰ã€‚</p><p>JCBé€šå¸¸æ˜¯åœ¨æ‰¹ä½œä¸šè¿›å…¥ç³»ç»Ÿæ—¶ï¼Œç”±Spoolingç³»ç»Ÿå»ºç«‹çš„ï¼Œå®ƒæ˜¯ä½œä¸šå­˜åœ¨äºç³»ç»Ÿçš„æ ‡å¿—ï¼Œä½œä¸šæ’¤ç¦»æ—¶ï¼ŒJCBä¹Ÿè¢«æ’¤é”€ã€‚</p><p>JCBçš„ä¸»è¦å†…å®¹åŒ…æ‹¬ï¼š</p><ol><li>ä½œä¸šæƒ…å†µ</li><li>èµ„æºéœ€æ±‚</li><li>èµ„æºä½¿ç”¨æƒ…å†µ</li></ol><h3 id="æ‰¹å¤„ç†ä½œä¸šçš„è°ƒåº¦">5.3.3 æ‰¹å¤„ç†ä½œä¸šçš„è°ƒåº¦</h3><ol><li>é€‰æ‹©ä½œä¸šï¼šæŒ‰ç…§è°ƒåº¦ç®—æ³•é€‰æ‹©</li><li>åˆ†é…èµ„æº</li><li>åˆ›å»ºè¿›ç¨‹ï¼šè¢«è°ƒåº¦æ—¶ï¼Œç³»ç»Ÿä¸ºä½œä¸šåˆ›å»ºè¿›ç¨‹ï¼Œå¹¶ç”ŸæˆPCBåŠå„ç§è¿›ç¨‹å®ä½“</li><li>ä½œä¸šæ§åˆ¶ï¼šæŒ‰è¯´æ˜ä¹¦è¿è¡Œ</li><li>åç»­å¤„ç†ï¼šè°ƒåº¦ç¨‹åºåšå¥½ä½œä¸šæ’¤ç¦»å’Œå–„åå·¥ä½œ</li></ol><h3 id="ä½çº§è°ƒåº¦åŠŸèƒ½å’Œç±»å‹">5.3.4 ä½çº§è°ƒåº¦åŠŸèƒ½å’Œç±»å‹</h3><p><strong>è°ƒåº¦ç¨‹åºä¸¤é¡¹ä»»åŠ¡ï¼š</strong> è°ƒåº¦å’Œåˆ†æ´¾ã€‚<strong>è°ƒåº¦å†³å®šå°±ç»ªæ€çº¿ç¨‹ç«äº‰ä½¿ç”¨å¤„ç†å™¨çš„æ¬¡åºï¼Œåˆ†æ´¾å†³å®šå¦‚ä½•æ—¶åˆ†å¤ç”¨CPUï¼Œå¤„ç†ä¸Šä¸‹æ–‡åˆ‡æ¢ã€‚</strong></p><p>ä½çº§è°ƒåº¦çš„åŸºæœ¬ç±»å‹ï¼šç¬¬ä¸€ç±»ç§°å‰¥å¤ºå¼ï¼Œæœ‰ä¸¤ç§å¤„ç†å™¨å‰¥å¤ºåŸåˆ™ï¼Œå…¶ä¸€æ˜¯é«˜ä¼˜å…ˆçº§è¿›ç¨‹/çº¿ç¨‹å¯å‰¥å¤ºä½ä¼˜å…ˆçº§è¿›ç¨‹/çº¿ç¨‹ï¼Œå¦ä¸€ç§æ˜¯å½“è¿è¡Œè¿›ç¨‹/çº¿ç¨‹æ—¶é—´ç‰‡ç”¨å®Œåè¢«å‰¥å¤ºã€‚ç¬¬äºŒç±»ç§°éå‰¥å¤ºå¼ï¼Œè¿›ç¨‹/çº¿ç¨‹å¼€å§‹è¿è¡Œåä¸å†è®©å‡ºå¤„ç†å™¨</p><p>ä½œä¸šè°ƒåº¦å’Œä½çº§è°ƒåº¦ç®—æ³•ï¼š</p><ul><li>å…ˆæ¥å…ˆæœåŠ¡ç®—æ³•FCFS</li></ul><p>å…ˆæ¥å…ˆæœåŠ¡æ˜¯<strong>æŒ‰ç…§ä½œä¸šè¿›å…¥ç³»ç»Ÿåå¤‡é˜Ÿåˆ—çš„å…ˆåæ¬¡åºæ¥æŒ‘é€‰ä½œä¸š</strong>ï¼Œå…ˆè¿›å…¥ç³»ç»Ÿçš„ä½œä¸šä¼˜å…ˆè¢«æŒ‘é€‰è¿›å…¥å†…å­˜ã€‚ å®ƒæ˜¯éå‰¥å¤ºå¼ç®—æ³•ï¼Œ<strong>ä¸åˆ©äºçŸ­ä½œä¸šï¼ˆçŸ­ä½œä¸šçš„å¹³å‡å‘¨è½¬æ—¶é—´ä¼šè¾ƒé•¿ï¼Œå› ä¸ºéœ€è¦ç­‰å¾…å‰é¢çš„ä½œä¸šå®Œæˆï¼‰</strong></p><ul><li>æœ€çŸ­ä½œä¸šä¼˜å…ˆç®—æ³•SJF</li></ul><p>SJFç®—æ³•<strong>ä»¥è¿›å…¥ç³»ç»Ÿçš„ä½œä¸šæ‰€è¦æ±‚çš„CPUæ—¶é—´ä¸ºæ ‡å‡†ï¼Œæ€»é€‰å–ä¼°è®¡è®¡ç®—æ—¶é—´æœ€çŸ­çš„ä½œä¸šæŠ•å…¥è¿è¡Œã€‚</strong>ï¼ˆä½†æ˜¯ç”±äºè¿™ä¸ªæ—¶é—´åªæ˜¯ä¼°ç®—çš„ï¼Œå¹¶ä¸èƒ½ä¿è¯å®é™…ä¸Šä¸€å®šæ˜¯æœ€çŸ­ä½œä¸šï¼‰ã€‚å®ƒä¹Ÿæ˜¯éå‰¥å¤ºå¼ç®—æ³•ï¼Œç¼ºç‚¹æ˜¯é•¿ä½œä¸šå¯èƒ½å‡ºç°é¥¥é¥¿ç°è±¡ï¼ˆä¸€ç›´å¾—ä¸åˆ°è°ƒåº¦ï¼‰ï¼Œç¼ºå°‘å‰¥å¤ºæœºåˆ¶ï¼Œå¯¹åˆ†æ—¶å®æ—¶å¤„ç†ä¸ç†æƒ³ã€‚</p><ul><li>æœ€é«˜å“åº”æ¯”ä¼˜å…ˆç®—æ³•HRRF</li></ul><p>FCFSåªè€ƒè™‘ç­‰å¾…æ—¶é—´è€Œå¿½è§†äº†ä½œä¸šçš„è®¡ç®—æ—¶é—´ï¼ŒSJFåªè€ƒè™‘ç”¨æˆ·ä¼°è®¡çš„ä½œä¸šè®¡ç®—æ—¶é—´è€Œå¿½è§†äº†ä½œä¸šç­‰å¾…æ—¶é—´ï¼Œå› è€Œæ¯”è¾ƒç‰‡é¢ã€‚HRRFæ˜¯ä»‹äºFCFSä¸SJFä¹‹é—´çš„æŠ˜ä¸­ç®—æ³•ï¼Œæ—¢è€ƒè™‘ä½œä¸šç­‰å¾…æ—¶é—´ï¼Œåˆè€ƒè™‘ä½œä¸šçš„è¿è¡Œæ—¶é—´ï¼Œæ—¢ç…§é¡¾çŸ­ä½œä¸šåˆä¸ä½¿é•¿ä½œä¸šçš„ç­‰å¾…æ—¶é—´è¿‡é•¿ï¼Œæ”¹è¿›äº†è°ƒåº¦æ€§èƒ½ã€‚ </p><p><code>å“åº”æ¯” = å‘¨è½¬æ—¶é—´/å¤„ç†æ—¶é—´ = 1+å·²ç­‰å¾…æ—¶é—´/ä¼°è®¡è¿è¡Œæ—¶é—´</code></p><p>å› è€Œè¿™ç§ç®—æ³•ä¼š<strong>æ ¹æ®ä½œä¸šå·²ç­‰å¾…çš„æ—¶é—´å’Œä¼°è®¡è¿è¡Œæ—¶é—´åŠ¨æ€è°ƒæ•´è°ƒåº¦çš„ä¼˜å…ˆçº§</strong>ï¼ŒçŸ­ä½œä¸šå®¹æ˜“å¾—åˆ°è¾ƒé«˜å“åº”æ¯”ï¼Œé•¿ä½œä¸šç­‰å¾…æ—¶é—´è¶³å¤Ÿé•¿åï¼Œä¹Ÿå°†è·å¾—è¶³å¤Ÿé«˜çš„å“åº”æ¯”ï¼Œé¥¥é¥¿ç°è±¡ä¸ä¼šå‘ç”Ÿã€‚</p><ul><li>ä¼˜å…ˆçº§è°ƒåº¦ç®—æ³•</li></ul><p>æ°¸è¿œå…ˆé€‰å–ä¼˜å…ˆçº§é«˜çš„ï¼Œè¿™ä¸ªä¼˜å…ˆçº§å¯èƒ½æ˜¯ç”¨æˆ·æŒ‡å®šçš„ï¼Œä¹Ÿå¯èƒ½æ˜¯ç³»ç»Ÿæ ¹æ®ä½œä¸šçš„é‡è¦æ€§ç­‰ä¿¡æ¯è°ƒæ•´çš„ã€‚</p><ul><li>æœ€çŸ­å‰©ä½™æ—¶é—´ä¼˜å…ˆç®—æ³•SRTF</li></ul><p>è¿™æ˜¯ä¸€ç§å‰¥å¤ºå¼ç®—æ³•ï¼Œå½“ä¸€ä¸ªæ–°ä½œä¸šè¿›å…¥å°±ç»ªçŠ¶æ€ï¼Œ<strong>å¦‚æœæ–°ä½œä¸šéœ€è¦çš„CPUæ—¶é—´æ¯”å½“å‰æ­£åœ¨æ‰§è¡Œçš„ä½œä¸šå‰©ä½™ä¸‹æ¥è¿˜éœ€çš„CPUæ—¶é—´çŸ­ï¼ŒSRTFå¼ºè¡Œèµ¶èµ°å½“å‰æ­£åœ¨æ‰§è¡Œä½œä¸šã€‚</strong></p><ul><li>è½®è½¬è°ƒåº¦ç®—æ³•RR</li></ul><p>è½®æµä½¿ç”¨æ—¶é—´ç‰‡ï¼Œå‰¥å¤ºå¼è°ƒåº¦ã€‚<strong>åˆé€‚é€‰å–æ—¶é—´ç‰‡çš„é•¿åº¦å¾ˆé‡è¦ï¼Œå¦‚æœæ—¶é—´ç‰‡å¤ªé•¿äº†å°±ä¼šå˜æˆFCFSï¼Œå¦‚æœå¤ªçŸ­äº†å°±ä¼šä½¿ç³»ç»Ÿè°ƒåº¦å¼€é”€å¾ˆå¤§ã€‚</strong></p><ul><li>å¤šçº§åé¦ˆé˜Ÿåˆ—è°ƒåº¦ç®—æ³•MLFQ</li></ul><p>åˆç§°åé¦ˆå¾ªç¯é˜Ÿåˆ—æˆ–å¤šé˜Ÿåˆ—ç­–ç•¥ã€‚ä¸»è¦æ€æƒ³æ˜¯å°†å°±ç»ªè¿›ç¨‹åˆ†ä¸ºä¸¤çº§æˆ–å¤šçº§ï¼Œç³»ç»Ÿç›¸åº”å»ºç«‹ä¸¤ä¸ªæˆ–å¤šä¸ªå°±ç»ªè¿›ç¨‹é˜Ÿåˆ—ï¼Œ<strong>è¾ƒé«˜ä¼˜å…ˆçº§çš„é˜Ÿåˆ—ä¸€èˆ¬åˆ†é…ç»™è¾ƒçŸ­çš„æ—¶é—´ç‰‡ã€‚</strong></p><p>å¤„ç†å™¨è°ƒåº¦<strong>å…ˆä»é«˜çº§å°±ç»ªè¿›ç¨‹é˜Ÿåˆ—ä¸­é€‰å–å¯å æœ‰å¤„ç†å™¨çš„è¿›ç¨‹ï¼Œåªæœ‰åœ¨é€‰ä¸åˆ°æ—¶ï¼Œæ‰ä»è¾ƒä½çº§çš„å°±ç»ªè¿›ç¨‹é˜Ÿåˆ—ä¸­é€‰å–ã€‚</strong></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;å¤„ç†å™¨æ¦‚å¿µ&quot;&gt;1 å¤„ç†å™¨æ¦‚å¿µ&lt;/h1&gt;&lt;p&gt;&lt;img src=&quot;https://api.codetool.top/img/15870310461239.png&quot; alt&gt;&lt;/p&gt;
&lt;p&gt;ç‰¹æƒæŒ‡ä»¤å’Œéç‰¹æƒæŒ‡ä»¤ã€ç®¡æ€å’Œç›®æ€å·²åœ¨ä¸Šä¸€ç¯‡æåŠã€‚&lt;/p&gt;
&lt;p&gt;Intelçš„X
      
    
    </summary>
    
    
      <category term="è®¡ç®—æœºç›¸å…³" scheme="https://www.codetool.top/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%9B%B8%E5%85%B3/"/>
    
    
      <category term="æ“ä½œç³»ç»Ÿ" scheme="https://www.codetool.top/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/"/>
    
  </entry>
  
  <entry>
    <title>leetcode56-åˆå¹¶åŒºé—´</title>
    <link href="https://www.codetool.top/article/leetcode56-%E5%90%88%E5%B9%B6%E5%8C%BA%E9%97%B4/"/>
    <id>https://www.codetool.top/article/leetcode56-åˆå¹¶åŒºé—´/</id>
    <published>2020-04-16T06:29:48.000Z</published>
    <updated>2020-04-16T06:34:17.942Z</updated>
    
    <content type="html"><![CDATA[<h1 id="åŸé¢˜">1 åŸé¢˜</h1><p>ç»™å‡ºä¸€ä¸ªåŒºé—´çš„é›†åˆï¼Œè¯·åˆå¹¶æ‰€æœ‰é‡å çš„åŒºé—´ã€‚</p><p><strong>ç¤ºä¾‹ 1:</strong></p><blockquote><p><strong>è¾“å…¥:</strong> [[1,3],[2,6],[8,10],[15,18]]<br><strong>è¾“å‡º:</strong> [[1,6],[8,10],[15,18]]<br><strong>è§£é‡Š:</strong> åŒºé—´ [1,3] å’Œ [2,6] é‡å , å°†å®ƒä»¬åˆå¹¶ä¸º [1,6].</p></blockquote><p><strong>ç¤ºä¾‹ 2:</strong></p><blockquote><p><strong>è¾“å…¥:</strong> [[1,4],[4,5]]<br><strong>è¾“å‡º:</strong> [[1,5]]<br><strong>è§£é‡Š:</strong> åŒºé—´ [1,4] å’Œ [4,5] å¯è¢«è§†ä¸ºé‡å åŒºé—´ã€‚</p></blockquote><h1 id="è§£æ³•">2 è§£æ³•</h1><h2 id="æ€æƒ³">2.1 æ€æƒ³</h2><p>è¿™é“é¢˜å’Œ<a href="../leetcode435-æ— é‡å åŒºé—´">leetcode435-æ— é‡å åŒºé—´</a>æ–¹æ³•æœ‰ä¸€ç‚¹ç±»ä¼¼ï¼Œå…ˆæ’åºï¼Œå†å¤„ç†åŒºé—´ã€‚</p><h2 id="ä»£ç ">2.2 ä»£ç </h2><pre class=" language-java"><code class="language-java"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">merge</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> intervals<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>intervals<span class="token punctuation">.</span>length<span class="token operator">&lt;</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">return</span> intervals<span class="token punctuation">;</span>        Arrays<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>intervals<span class="token punctuation">,</span> <span class="token punctuation">(</span>array1<span class="token punctuation">,</span>array2<span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">></span><span class="token punctuation">{</span>            <span class="token keyword">return</span> array1<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">-</span>array2<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> lastIndex <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> cur <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>        List<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token operator">&lt;</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">while</span><span class="token punctuation">(</span>cur <span class="token operator">&lt;</span> intervals<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token comment" spellcheck="true">//å¦‚æœä¸¤ä¸ªåŒºé—´æ²¡æœ‰é‡å éƒ¨åˆ†ï¼Œéƒ½ä¿ç•™</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>intervals<span class="token punctuation">[</span>lastIndex<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">&lt;</span>intervals<span class="token punctuation">[</span>cur<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>intervals<span class="token punctuation">[</span>lastIndex<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                lastIndex <span class="token operator">=</span> cur<span class="token punctuation">;</span>                cur<span class="token operator">++</span><span class="token punctuation">;</span>            <span class="token comment" spellcheck="true">//å¦‚æœä¸¤ä¸ªåŒºé—´é‡å ï¼Œåˆå¹¶ä¸¤ä¸ªåŒºé—´</span>            <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>                intervals<span class="token punctuation">[</span>lastIndex<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>intervals<span class="token punctuation">[</span>lastIndex<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>intervals<span class="token punctuation">[</span>cur<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                cur<span class="token operator">++</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>intervals<span class="token punctuation">[</span>lastIndex<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> ans <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">int</span><span class="token punctuation">[</span>list<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>list<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            ans<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> ans<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;åŸé¢˜&quot;&gt;1 åŸé¢˜&lt;/h1&gt;&lt;p&gt;ç»™å‡ºä¸€ä¸ªåŒºé—´çš„é›†åˆï¼Œè¯·åˆå¹¶æ‰€æœ‰é‡å çš„åŒºé—´ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç¤ºä¾‹ 1:&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;è¾“å…¥:&lt;/strong&gt; [[1,3],[2,6],[8,10],[15
      
    
    </summary>
    
    
      <category term="ç®—æ³•/æ•°æ®ç»“æ„" scheme="https://www.codetool.top/categories/%E7%AE%97%E6%B3%95-%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"/>
    
    
      <category term="leetcode" scheme="https://www.codetool.top/tags/leetcode/"/>
    
      <category term="ç®—æ³•" scheme="https://www.codetool.top/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>leetcode191-ä½1çš„ä¸ªæ•°</title>
    <link href="https://www.codetool.top/article/leetcode191-%E4%BD%8D1%E7%9A%84%E4%B8%AA%E6%95%B0/"/>
    <id>https://www.codetool.top/article/leetcode191-ä½1çš„ä¸ªæ•°/</id>
    <published>2020-04-15T06:23:54.000Z</published>
    <updated>2020-04-15T06:59:12.213Z</updated>
    
    <content type="html"><![CDATA[<h1 id="åŸé¢˜">1 åŸé¢˜</h1><p>ç¼–å†™ä¸€ä¸ªå‡½æ•°ï¼Œè¾“å…¥æ˜¯ä¸€ä¸ªæ— ç¬¦å·æ•´æ•°ï¼Œè¿”å›å…¶äºŒè¿›åˆ¶è¡¨è¾¾å¼ä¸­æ•°å­—ä½æ•°ä¸º â€˜1â€™ çš„ä¸ªæ•°ï¼ˆä¹Ÿè¢«ç§°ä¸ºæ±‰æ˜é‡é‡ï¼‰ã€‚</p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><blockquote><p><strong>è¾“å…¥ï¼š</strong> 00000000000000000000000000001011<br><strong>è¾“å‡ºï¼š</strong> 3<br><strong>è§£é‡Šï¼š</strong> è¾“å…¥çš„äºŒè¿›åˆ¶ä¸² 00000000000000000000000000001011 ä¸­ï¼Œå…±æœ‰ä¸‰ä½ä¸º â€˜1â€™ã€‚</p></blockquote><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><blockquote><p><strong>è¾“å…¥ï¼š</strong> 00000000000000000000000010000000<br><strong>è¾“å‡ºï¼š</strong> 1<br><strong>è§£é‡Šï¼š</strong> è¾“å…¥çš„äºŒè¿›åˆ¶ä¸² 00000000000000000000000010000000 ä¸­ï¼Œå…±æœ‰ä¸€ä½ä¸º â€˜1â€™ã€‚  </p></blockquote><p><strong>ç¤ºä¾‹ 3ï¼š</strong></p><blockquote><p><strong>è¾“å…¥ï¼š</strong> 00000000000000000000000000001011<br><strong>è¾“å‡ºï¼š</strong> 31<br><strong>è§£é‡Šï¼š</strong> è¾“å…¥çš„äºŒè¿›åˆ¶ä¸² 11111111111111111111111111111101 ä¸­ï¼Œå…±æœ‰ 31 ä½ä¸º â€˜1â€™ã€‚</p></blockquote><p><strong>æç¤ºï¼š</strong></p><ul><li>è¯·æ³¨æ„ï¼Œåœ¨æŸäº›è¯­è¨€ï¼ˆå¦‚ Javaï¼‰ä¸­ï¼Œæ²¡æœ‰æ— ç¬¦å·æ•´æ•°ç±»å‹ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè¾“å…¥å’Œè¾“å‡ºéƒ½å°†è¢«æŒ‡å®šä¸ºæœ‰ç¬¦å·æ•´æ•°ç±»å‹ï¼Œå¹¶ä¸”ä¸åº”å½±å“æ‚¨çš„å®ç°ï¼Œå› ä¸ºæ— è®ºæ•´æ•°æ˜¯æœ‰ç¬¦å·çš„è¿˜æ˜¯æ— ç¬¦å·çš„ï¼Œå…¶å†…éƒ¨çš„äºŒè¿›åˆ¶è¡¨ç¤ºå½¢å¼éƒ½æ˜¯ç›¸åŒçš„ã€‚</li><li>åœ¨ Java ä¸­ï¼Œç¼–è¯‘å™¨ä½¿ç”¨äºŒè¿›åˆ¶è¡¥ç è®°æ³•æ¥è¡¨ç¤ºæœ‰ç¬¦å·æ•´æ•°ã€‚å› æ­¤ï¼Œåœ¨ä¸Šé¢çš„ <strong>ç¤ºä¾‹ 3</strong> ä¸­ï¼Œè¾“å…¥è¡¨ç¤ºæœ‰ç¬¦å·æ•´æ•° <code>-3</code>ã€‚</li></ul><p><strong>è¿›é˜¶:</strong><br>å¦‚æœå¤šæ¬¡è°ƒç”¨è¿™ä¸ªå‡½æ•°ï¼Œä½ å°†å¦‚ä½•ä¼˜åŒ–ä½ çš„ç®—æ³•ï¼Ÿ</p><h1 id="è§£æ³•">2 è§£æ³•</h1><h2 id="æ€æƒ³">2.1 æ€æƒ³</h2><p>å¯ä»¥ç”¨ä½è¿ç®—</p><h2 id="ä»£ç ">2.2 ä»£ç </h2><p>å†·é…·æ— æƒ…çš„APIé€‰æ‰‹åšæ³•ï¼š</p><pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">hammingWeight</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> chars <span class="token operator">=</span> Integer<span class="token punctuation">.</span><span class="token function">toBinaryString</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toCharArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">char</span> num <span class="token operator">:</span>chars<span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>num <span class="token operator">==</span> <span class="token string">'1'</span><span class="token punctuation">)</span>  sum <span class="token operator">++</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> sum<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p>æŒ‰ä½ä¸ç®—æ³•ï¼š</p><pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">hammingWeight</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> num <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> mask <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">32</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>n <span class="token operator">&amp;</span> mask<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            num<span class="token operator">++</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        mask <span class="token operator">&lt;&lt;=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> num<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;åŸé¢˜&quot;&gt;1 åŸé¢˜&lt;/h1&gt;&lt;p&gt;ç¼–å†™ä¸€ä¸ªå‡½æ•°ï¼Œè¾“å…¥æ˜¯ä¸€ä¸ªæ— ç¬¦å·æ•´æ•°ï¼Œè¿”å›å…¶äºŒè¿›åˆ¶è¡¨è¾¾å¼ä¸­æ•°å­—ä½æ•°ä¸º â€˜1â€™ çš„ä¸ªæ•°ï¼ˆä¹Ÿè¢«ç§°ä¸ºæ±‰æ˜é‡é‡ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç¤ºä¾‹ 1ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;è¾“å…¥ï¼š&lt;/
      
    
    </summary>
    
    
      <category term="ç®—æ³•/æ•°æ®ç»“æ„" scheme="https://www.codetool.top/categories/%E7%AE%97%E6%B3%95-%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"/>
    
    
      <category term="leetcode" scheme="https://www.codetool.top/tags/leetcode/"/>
    
      <category term="ç®—æ³•" scheme="https://www.codetool.top/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>HTTPæµè§ˆå™¨ç¼“å­˜ç­–ç•¥å’Œç›¸å…³é¦–éƒ¨å­—æ®µ</title>
    <link href="https://www.codetool.top/article/HTTP%E6%B5%8F%E8%A7%88%E5%99%A8%E7%BC%93%E5%AD%98%E7%AD%96%E7%95%A5%E5%92%8C%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%9A%84%E7%BC%93%E5%AD%98%E6%8E%A7%E5%88%B6/"/>
    <id>https://www.codetool.top/article/HTTPæµè§ˆå™¨ç¼“å­˜ç­–ç•¥å’ŒæœåŠ¡å™¨çš„ç¼“å­˜æ§åˆ¶/</id>
    <published>2020-04-14T16:11:19.000Z</published>
    <updated>2020-04-14T17:58:07.305Z</updated>
    
    <content type="html"><![CDATA[<p>æœ¬æ–‡å‚è€ƒèµ„æºï¼š</p><p><a href="https://segmentfault.com/a/1190000008956069" target="_blank" rel="noopener">HTTPå¼ºç¼“å­˜å’Œåå•†ç¼“å­˜ - JavaScriptå­¦ä¹ ç¬”è®° - SegmentFault æ€å¦</a></p><p><a href="https://blog.csdn.net/jiangshangchunjiezi/article/details/88581824" target="_blank" rel="noopener">ï¼ˆä¸ƒï¼‰æ¡ä»¶è¯·æ±‚If-Matchã€If-Modified-Sinceã€If-None-Matchã€If-Rangeã€If-Unmodified-Since_Python_FixedStar çš„åšå®¢-CSDNåšå®¢</a></p><p><a href="https://blog.csdn.net/zl399615007/article/details/84534884" target="_blank" rel="noopener">å¼ºåˆ¶ç¼“å­˜ï¼ˆ200ï¼‰å’Œåå•†ç¼“å­˜ï¼ˆ304ï¼‰æ•´ç†_ç½‘ç»œ_zlongçš„åšå®¢-CSDNåšå®¢</a></p><p>åœ¨ä¸€æ¬¡HTTPé€šä¿¡ä¸­ï¼Œæœ€æ¥è¿‘ç”¨æˆ·çš„ç¼“å­˜åº”è¯¥å°±æ˜¯æµè§ˆå™¨çš„ç¼“å­˜äº†ï¼Œè€Œæµè§ˆå™¨åˆ°åº•ä»€ä¹ˆæ—¶å€™èµ°ç¼“å­˜ï¼Œä»€ä¹ˆæ—¶å€™è¯·æ±‚æœåŠ¡å™¨å‘¢ï¼Ÿå’ŒæœåŠ¡å™¨æœ‰å…³å—ï¼Ÿè¿™ç¯‡æ–‡ç« é‡Œï¼Œå°±æ¥è°ˆä¸€è°ˆæµè§ˆå™¨çš„ç¼“å­˜ç­–ç•¥ã€‚</p><h1 id="æµè§ˆå™¨ç¼“å­˜æ¦‚è¿°">1 æµè§ˆå™¨ç¼“å­˜æ¦‚è¿°</h1><p>æµè§ˆå™¨ç¼“å­˜æ˜¯æŒ‡æµè§ˆå™¨åœ¨æœ¬åœ°ç£ç›˜å¯¹ç”¨æˆ·æœ€è¿‘è¯·æ±‚è¿‡çš„æ–‡æ¡£è¿›è¡Œå­˜å‚¨ï¼Œå½“è®¿é—®è€…å†æ¬¡è®¿é—®åŒä¸€é¡µé¢æ—¶ï¼Œæµè§ˆå™¨å°±å¯ä»¥ç›´æ¥ä»æœ¬åœ°ç£ç›˜åŠ è½½æ–‡æ¡£ã€‚</p><p>æµè§ˆå™¨ç¼“å­˜æœ‰ä»¥ä¸‹ä¼˜ç‚¹ï¼š</p><ol><li>å‡å°‘å†—ä½™æ•°æ®ä¼ è¾“</li><li>å‡å°‘æœåŠ¡å™¨è´Ÿæ‹…</li><li>åŠ è½½å®¢æˆ·ç«¯åŠ è½½ç½‘é¡µçš„é€Ÿåº¦</li></ol><h1 id="æµè§ˆå™¨è¯·æ±‚èµ„æºæµç¨‹å›¾">2 æµè§ˆå™¨è¯·æ±‚èµ„æºæµç¨‹å›¾</h1><p><img src="https://api.codetool.top/img/15868806136371.png" alt></p><p>è¿™å¼ å›¾é‡Œæ¶‰åŠåˆ°ä¸¤ä¸ªæ¦‚å¿µï¼š<code>å¼ºç¼“å­˜</code>å’Œ<code>åå•†ç¼“å­˜</code>ï¼Œæµè§ˆå™¨HTTPç¼“å­˜å¯ä»¥åˆ†ä¸ºå¼ºç¼“å­˜å’Œåå•†ç¼“å­˜ã€‚å¼ºç¼“å­˜å’Œåå•†ç¼“å­˜æœ€å¤§ä¹Ÿæ˜¯æœ€æ ¹æœ¬çš„åŒºåˆ«æ˜¯ï¼š<strong>å¼ºç¼“å­˜å‘½ä¸­çš„è¯ä¸ä¼šå‘è¯·æ±‚åˆ°æœåŠ¡å™¨ï¼ˆæ¯”å¦‚ chrome ä¸­çš„ 200 from memory cacheï¼‰</strong>ï¼Œåå•†ç¼“å­˜ä¸€å®šä¼šå‘è¯·æ±‚åˆ°æœåŠ¡å™¨ï¼Œé€šè¿‡èµ„æºçš„è¯·æ±‚é¦–éƒ¨å­—æ®µéªŒè¯èµ„æºæ˜¯å¦å‘½ä¸­åå•†ç¼“å­˜ï¼Œ<strong>å¦‚æœåå•†ç¼“å­˜å‘½ä¸­ï¼ŒæœåŠ¡å™¨ä¼šå°†è¿™ä¸ªè¯·æ±‚è¿”å›ï¼Œä½†æ˜¯ä¸ä¼šè¿”å›è¿™ä¸ªèµ„æºçš„å®ä½“ï¼Œè€Œæ˜¯é€šçŸ¥å®¢æˆ·ç«¯å¯ä»¥ä»ç¼“å­˜ä¸­åŠ è½½è¿™ä¸ªèµ„æºï¼ˆ304 not modifiedï¼‰ã€‚</strong></p><h1 id="å¼ºç¼“å­˜">3 å¼ºç¼“å­˜</h1><p>ä»€ä¹ˆæ—¶å€™ä¼šä½¿ç”¨å¼ºç¼“å­˜ï¼Ÿ<strong>æ‰“å¼€é¡µé¢è¯·æ±‚èµ„æºï¼ˆæˆ–å‰è¿›ã€åé€€ã€é‡å®šå‘ï¼‰</strong>çš„æ—¶å€™ä¼šå…ˆè·å–è¯¥èµ„æºç¼“å­˜çš„headerä¿¡æ¯ï¼Œç„¶åæ ¹æ®headerä¸­çš„<code>Cache-Control</code>å’Œ<code>Expires</code>æ¥åˆ¤æ–­æ˜¯å¦è¿‡æœŸï¼Œ<strong>å¦‚æœå‘ç°æœ¬åœ°ç¼“å­˜è¿˜æ²¡è¿‡æœŸï¼Œåˆ™ä½¿ç”¨å¼ºç¼“å­˜ã€‚</strong></p><p>å¼ºç¼“å­˜åˆ©ç”¨httpå¤´ä¸­çš„<code>Expires</code>å’Œ<code>Cache-Control</code>ä¸¤ä¸ªå­—æ®µæ¥æ§åˆ¶ï¼Œç”¨æ¥è¡¨ç¤º<strong>èµ„æºç¼“å­˜æ—¶é—´</strong>ã€‚ä½†<strong>åªè¦åˆ·æ–°å°±ä¸ä¼šä½¿ç”¨å¼ºç¼“å­˜</strong>ï¼Œæ™®é€šåˆ·æ–°ï¼ˆF5æˆ–ç‚¹å‡»åˆ·æ–°æŒ‰é’®ï¼‰ä¼šå¿½ç•¥å®ƒï¼Œä½†æ˜¯ä¸ä¼šæ¸…é™¤å®ƒï¼Œå¹¶ä¸”è¯·æ±‚ä¼šå¸¦ä¸Š<code>Cache-Control: max-age=0</code>ã€‚å¼ºåˆ¶åˆ·æ–°ï¼ˆCtrl+F5ï¼‰åˆ™ä¼šæ¸…é™¤ç¼“å­˜ã€‚<strong>å¹¶ä¸”è¯·æ±‚ä¼šå¸¦ä¸Š<code>Cache-Control:no-cache</code></strong>ï¼Œä»£è¡¨è¯¥è¯·æ±‚ä¸ä¼šä½¿ç”¨ç¼“å­˜ï¼Œä¸”ä¸ä¼šè®°å½•ç¼“å­˜ã€‚</p><p>æ§åˆ¶å¼ºç¼“å­˜çš„å­—æ®µï¼ˆé€‰å…¶ä¸€ä½¿ç”¨å³å¯ï¼‰ï¼š</p><h2 id="Expires">3.1 Expires</h2><p>Expiresæ˜¯HTTP/1.0çš„è§„èŒƒï¼Œå®ƒçš„å€¼æ˜¯ä¸€ä¸ªç»å¯¹æ—¶é—´çš„GMTæ ¼å¼çš„æ—¶é—´å­—ç¬¦ä¸²ï¼Œä»£è¡¨èµ„æºçš„å¤±æ•ˆæ—¶é—´ï¼Œåªè¦å‘é€çš„è¯·æ±‚åœ¨Expiresä¹‹å‰ï¼Œé‚£ä¹ˆæœ¬åœ°ç¼“å­˜å§‹ç»ˆæœ‰æ•ˆï¼Œåˆ™åœ¨ç¼“å­˜ä¸­è¯»å–æ•°æ®ã€‚æ‰€ä»¥è¿™ç§æ–¹å¼æœ‰ä¸€ä¸ªæ˜æ˜¾çš„ç¼ºç‚¹ï¼Œç”±äºå¤±æ•ˆæ—¶é—´æ˜¯ä¸€ä¸ªç»å¯¹æ—¶é—´ï¼Œæ‰€ä»¥<strong>å½“æœåŠ¡å™¨ä¸å®¢æˆ·ç«¯æ—¶é—´åå·®è¾ƒå¤§æ—¶ï¼Œå°±ä¼šå¯¼è‡´ç¼“å­˜æ··ä¹±</strong>ã€‚å¦‚æœåŒæ—¶å‡ºç°Cache-Control:max-ageå’ŒExpiresï¼Œé‚£ä¹ˆ<strong>max-ageçš„ä¼˜å…ˆçº§æ›´é«˜</strong>ã€‚</p><h2 id="Cache-Control">3.2 Cache-Control</h2><p>Cache-Control æ˜¯ä¸€ä¸ªé€šç”¨é¦–éƒ¨å­—æ®µï¼ˆè¯·æ±‚å¤´å’Œå“åº”å¤´éƒ½å¯ä»¥ç”¨ï¼‰ï¼Œä¹Ÿæ˜¯ HTTP/1.1 æ§åˆ¶æµè§ˆå™¨ç¼“å­˜çš„ä¸»æµå­—æ®µã€‚å’Œæµè§ˆå™¨ç¼“å­˜ç›¸å…³çš„æ˜¯å¦‚ä¸‹å‡ ä¸ªå“åº”æŒ‡ä»¤ï¼š</p><ul><li><code>max-age</code>ï¼ˆå•ä½ä¸º sï¼‰ï¼šè®¾ç½®<strong>ç¼“å­˜çš„å­˜åœ¨æ—¶é—´ï¼Œç›¸å¯¹äºå‘é€è¯·æ±‚çš„æ—¶é—´ï¼ˆå³å“åº”å¤´ä¸­çš„Dateå­—æ®µï¼‰</strong>ã€‚åªæœ‰å“åº”æŠ¥æ–‡é¦–éƒ¨è®¾ç½®<code>Cache-Control</code>ä¸º<strong>é0çš„max-age</strong>æˆ–è€…è®¾ç½®äº†å¤§äºè¯·æ±‚æ—¥æœŸçš„ Expiresæ‰æœ‰å¯èƒ½å‘½ä¸­å¼ºç¼“å­˜ã€‚</li><li><code>no-cache</code> è¡¨ç¤º<strong>è¯·æ±‚å¿…é¡»å…ˆä¸æœåŠ¡å™¨ç¡®è®¤ç¼“å­˜çš„æœ‰æ•ˆæ€§ï¼Œå¦‚æœæœ‰æ•ˆæ‰èƒ½ä½¿ç”¨ç¼“å­˜ï¼ˆåå•†ç¼“å­˜ï¼‰</strong>ï¼Œæ— è®ºæ˜¯å“åº”æŠ¥æ–‡é¦–éƒ¨è¿˜æ˜¯è¯·æ±‚æŠ¥æ–‡é¦–éƒ¨å‡ºç°è¿™ä¸ªå­—æ®µå‡ä¸€å®šä¸ä¼šå‘½ä¸­å¼ºç¼“å­˜ã€‚æµè§ˆå™¨å¼ºåˆ¶åˆ·æ–°å°±ä¼šå¸¦ä¸Š<code>Cache-Control:no-cache</code>ã€‚</li><li><code>no-store</code>ï¼šä¸å…è®¸ç¼“å­˜ï¼Œç”¨äºæŸäº›å˜åŒ–éå¸¸é¢‘ç¹çš„æ•°æ®ï¼Œä¾‹å¦‚ç§’æ€é¡µé¢ï¼Œ<strong>ä¸€å®šä¸ä¼šå‡ºç°å¼ºç¼“å­˜å’Œåå•†ç¼“å­˜</strong>ã€‚</li><li><code>must-revalidate</code>ï¼šå¦‚æœç¼“å­˜ä¸è¿‡æœŸå°±å¯ä»¥ç»§ç»­ä½¿ç”¨ï¼Œä½†è¿‡æœŸäº†å¦‚æœè¿˜æƒ³ç”¨å°±å¿…é¡»å»æœåŠ¡å™¨éªŒè¯ã€‚è¿™ä¸ªå€¼é€šå¸¸é…åˆ<code>max-age</code>ä½¿ç”¨ã€‚</li><li><code>public</code>ï¼šè¡¨æ˜å“åº”å¯ä»¥è¢«æµè§ˆå™¨ã€CDN ç­‰ç­‰ç¼“å­˜ã€‚</li><li><code>private</code>ï¼šå“åº”åªä½œä¸ºç§æœ‰çš„ç¼“å­˜ï¼Œä¸èƒ½è¢« CDN ç­‰ç¼“å­˜ã€‚å¦‚æœè¦æ±‚ HTTP è®¤è¯ï¼Œå“åº”ä¼šè‡ªåŠ¨è®¾ç½®ä¸º privateã€‚</li></ul><h1 id="åå•†ç¼“å­˜">4 åå•†ç¼“å­˜</h1><p>åå•†ç¼“å­˜å°±æ˜¯<strong>ç”±æœåŠ¡å™¨æ¥ç¡®å®šç¼“å­˜çš„èµ„æºæ˜¯å¦å¯ç”¨</strong>ï¼Œæ‰€ä»¥å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨è¦é€šè¿‡æŸç§æ ‡è¯†æ¥è¿›è¡Œé€šä¿¡ï¼Œä»è€Œè®©æœåŠ¡å™¨åˆ¤æ–­è¯·æ±‚èµ„æºæ˜¯å¦å¯ä»¥ç¼“å­˜è®¿é—®ã€‚</p><p>å½“ç¼“å­˜çš„<code>max-age</code>è¿‡æœŸæˆ–æµè§ˆå™¨æ™®é€šåˆ·æ–°ï¼Œå°±ä¼šå¯ç”¨åå•†ç¼“å­˜ã€‚æµè§ˆå™¨ä¼šå‘æœåŠ¡å™¨ç«¯å‘é€è¯·æ±‚ï¼Œè¿™ä¸ªè¯·æ±‚ä¼šæºå¸¦ç¬¬ä¸€æ¬¡è¯·æ±‚è¿”å›çš„æœ‰å…³ç¼“å­˜çš„headerå­—æ®µä¿¡æ¯ï¼Œæ¯”å¦‚å®¢æˆ·ç«¯ä¼šé€šè¿‡<code>If-None-Match</code>å¤´å°†å…ˆå‰æœåŠ¡å™¨ç«¯å‘é€è¿‡æ¥çš„<code>Etag</code>å‘é€ç»™æœåŠ¡å™¨ï¼ŒæœåŠ¡ä¼šå¯¹æ¯”è¿™ä¸ªå®¢æˆ·ç«¯å‘è¿‡æ¥çš„<code>Etag</code>æ˜¯å¦ä¸æœåŠ¡å™¨çš„ç›¸åŒï¼Œè‹¥ç›¸åŒï¼Œå°±å°†<code>If-None-Match</code>çš„å€¼è®¾ä¸º<code>false</code>ï¼Œè¿”å›çŠ¶æ€<code>304</code>ï¼Œå®¢æˆ·ç«¯ç»§ç»­ä½¿ç”¨æœ¬åœ°ç¼“å­˜ï¼Œä¸è§£ææœåŠ¡å™¨ç«¯å‘å›æ¥çš„æ•°æ®ï¼Œè‹¥ä¸ç›¸åŒå°±å°†<code>If-None-Match</code>çš„å€¼è®¾ä¸º<code>true</code>ï¼Œè¿”å›çŠ¶æ€ä¸º200ï¼Œå®¢æˆ·ç«¯é‡æ–°è§£ææœåŠ¡å™¨ç«¯è¿”å›çš„æ•°æ®ï¼›<strong>å®¢æˆ·ç«¯è¿˜ä¼šé€šè¿‡<code>If-Modified-Since</code>å¤´å°†å…ˆå‰æœåŠ¡å™¨ç«¯å‘è¿‡æ¥çš„æœ€åä¿®æ”¹æ—¶é—´æˆ³ï¼ˆ<code>Last-Modified</code>ï¼‰å‘é€ç»™æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨ç«¯é€šè¿‡è¿™ä¸ªæ—¶é—´æˆ³åˆ¤æ–­å®¢æˆ·ç«¯çš„é¡µé¢æ˜¯å¦æ˜¯æœ€æ–°çš„</strong>ï¼Œå¦‚æœä¸æ˜¯æœ€æ–°çš„ï¼Œåˆ™è¿”å›æœ€æ–°çš„å†…å®¹ï¼Œå¦‚æœæ˜¯æœ€æ–°çš„ï¼Œåˆ™è¿”å›304ï¼Œå®¢æˆ·ç«¯ç»§ç»­ä½¿ç”¨æœ¬åœ°ç¼“å­˜ã€‚</p><p>æ§åˆ¶åå•†ç¼“å­˜çš„å­—æ®µï¼ˆé€‰å…¶ä¸€ä½¿ç”¨å³å¯ï¼‰ï¼š</p><h2 id="Last-Modified-If-Modified-Since">4.1 Last-Modified/If-Modified-Since</h2><p><strong><code>If-Modified-Since</code> æ˜¯ä¸€ä¸ªè¯·æ±‚é¦–éƒ¨å­—æ®µ</strong>ï¼Œå¹¶ä¸”åªèƒ½ç”¨åœ¨ GET æˆ–è€… HEAD è¯·æ±‚ä¸­ã€‚<strong><code>Last-Modified</code> æ˜¯ä¸€ä¸ªå“åº”é¦–éƒ¨å­—æ®µ</strong>ï¼ŒåŒ…å«æœåŠ¡å™¨è®¤å®šçš„èµ„æºä½œå‡ºä¿®æ”¹çš„æ—¥æœŸåŠæ—¶é—´ã€‚<strong>å½“å¸¦ç€ If-Modified-Since å¤´è®¿é—®æœåŠ¡å™¨è¯·æ±‚èµ„æºæ—¶ï¼ŒæœåŠ¡å™¨ä¼šæ£€æŸ¥ Last-Modifiedï¼Œå¦‚æœ Last-Modified çš„æ—¶é—´æ—©äºæˆ–ç­‰äºIf-Modified-Since åˆ™ä¼šè¿”å›ä¸€ä¸ªä¸å¸¦ä¸»ä½“çš„ 304 å“åº”ï¼Œ</strong>å¦åˆ™å°†é‡æ–°è¿”å›èµ„æºã€‚</p><h2 id="ETag-If-None-Match">4.2 ETag/If-None-Match</h2><p><code>ETag</code> æ˜¯ä¸€ä¸ªå“åº”é¦–éƒ¨å­—æ®µï¼Œå®ƒæ˜¯<strong>æ ¹æ®å®ä½“å†…å®¹ç”Ÿæˆçš„ä¸€æ®µ hash å­—ç¬¦ä¸²ï¼Œæ ‡è¯†èµ„æºçš„çŠ¶æ€</strong>ï¼Œç”±æœåŠ¡ç«¯äº§ç”Ÿã€‚<code>If-None-Match</code> æ˜¯ä¸€ä¸ªæ¡ä»¶å¼çš„è¯·æ±‚é¦–éƒ¨ã€‚<strong>å¦‚æœè¯·æ±‚èµ„æºæ—¶åœ¨è¯·æ±‚é¦–éƒ¨åŠ ä¸Šè¿™ä¸ªå­—æ®µï¼Œå€¼ä¸ºä¹‹å‰æœåŠ¡å™¨ç«¯è¿”å›çš„èµ„æºä¸Šçš„ ETagï¼Œåˆ™å½“ä¸”ä»…å½“æœåŠ¡å™¨ä¸Šæ²¡æœ‰ä»»ä½•èµ„æºçš„ ETag å±æ€§å€¼ä¸è¿™ä¸ªé¦–éƒ¨ä¸­åˆ—å‡ºçš„æ—¶å€™ï¼ŒæœåŠ¡å™¨æ‰ä¼šè¿”å›å¸¦æœ‰æ‰€è¯·æ±‚èµ„æºå®ä½“çš„ 200 å“åº”ï¼Œå¦åˆ™æœåŠ¡å™¨ä¼šè¿”å›ä¸å¸¦å®ä½“çš„ 304 å“åº”ã€‚</strong> <strong>ETag ä¼˜å…ˆçº§æ¯” Last-Modified é«˜</strong>ï¼ŒåŒæ—¶å­˜åœ¨æ—¶ä¼šä»¥ ETag ä¸ºå‡†ã€‚</p><p><img src="https://api.codetool.top/img/15868853077728.png" alt></p><p>ETag è¿˜æœ‰â€œå¼ºâ€â€œå¼±â€ä¹‹åˆ†ï¼š<strong>å¼º ETag è¦æ±‚èµ„æºåœ¨å­—èŠ‚çº§åˆ«å¿…é¡»å®Œå…¨ç›¸ç¬¦ï¼Œå¼± ETag åœ¨å€¼å‰æœ‰ä¸ª<code>â€œW/â€</code>æ ‡è®°ï¼Œåªè¦æ±‚èµ„æºåœ¨è¯­ä¹‰ä¸Šæ²¡æœ‰å˜åŒ–</strong>ï¼Œä½†å†…éƒ¨å¯èƒ½ä¼šæœ‰éƒ¨åˆ†å‘ç”Ÿäº†æ”¹å˜ï¼ˆä¾‹å¦‚ HTML é‡Œçš„æ ‡ç­¾é¡ºåºè°ƒæ•´ï¼Œæˆ–è€…å¤šäº†å‡ ä¸ªç©ºæ ¼ï¼‰ã€‚</p><p>ä¸‹é¢æ˜¯ä¸€æ¬¡etagå‘½ä¸­ï¼ˆä½ å¯ä»¥æ‰“å¼€å¼€å‘è€…å·¥å…·ï¼Œå°è¯•åˆ·æ–°æˆ‘çš„åšå®¢ï¼Œè§‚å¯Ÿç»“æœï¼‰ï¼š</p><p><img src="https://api.codetool.top/img/15868860702089.png" alt="è¯·æ±‚å¤´"></p><p><img src="https://api.codetool.top/img/15868861139012.png" alt="å“åº”å¤´"></p><p>å› ä¸º ETag çš„ç‰¹æ€§ï¼Œæ‰€ä»¥ç›¸è¾ƒäº Last-Modified æœ‰ä¸€äº›ä¼˜åŠ¿ï¼š</p><ol><li>æŸäº›æƒ…å†µä¸‹æœåŠ¡å™¨æ— æ³•è·å–èµ„æºçš„æœ€åä¿®æ”¹æ—¶é—´</li><li><strong>èµ„æºçš„æœ€åä¿®æ”¹æ—¶é—´å˜äº†ä½†æ˜¯å†…å®¹æ²¡å˜ï¼Œä½¿ç”¨ <code>ETag</code>å¯ä»¥æ­£ç¡®ç¼“å­˜</strong></li><li>å¦‚æœèµ„æºä¿®æ”¹éå¸¸é¢‘ç¹ï¼Œåœ¨ç§’ä»¥ä¸‹çš„æ—¶é—´è¿›è¡Œä¿®æ”¹ï¼Œ<code>Last-Modified</code> åªèƒ½ç²¾ç¡®åˆ°ç§’</li></ol><p>åå•†ç¼“å­˜å±äºHTTP<strong>æ¡ä»¶è¯·æ±‚</strong>çš„ä¸€éƒ¨åˆ†ï¼Œæ¡ä»¶è¯·æ±‚è¿˜æœ‰<code>If-Unmodified-Since</code>ï¼Œ<code>If-Match</code>ï¼Œ<code>If-Range</code>ç­‰å­—æ®µï¼ˆç”¨äºæ–­ç‚¹ç»­ä¼ ï¼Œå’Œ412çŠ¶æ€ç æœ‰å…³ï¼‰</p><h1 id="è¯¦ç»†æ€»ç»“æµç¨‹å›¾">5 è¯¦ç»†æ€»ç»“æµç¨‹å›¾</h1><p><img src="https://api.codetool.top/img/15868850187041.png" alt></p><p>æ³¨æ„ï¼šPragmaå·²è¢«åºŸå¼ƒã€‚</p><p>ä¸‹è¡¨æ˜¯ç”¨æˆ·æ“ä½œå¯¹å¼ºç¼“å­˜/åå•†ç¼“å­˜çš„å½±å“ï¼š</p><table><thead><tr><th>ç”¨æˆ·æ“ä½œ</th><th>Expires/Cache-Control</th><th>Last-Modified/Etag</th></tr></thead><tbody><tr><td>åœ°å€æ å›è½¦</td><td>æœ‰æ•ˆ</td><td>æœ‰æ•ˆ</td></tr><tr><td>é¡µé¢é“¾æ¥è·³è½¬</td><td>æœ‰æ•ˆ</td><td>æœ‰æ•ˆ</td></tr><tr><td>æ–°å¼€çª—å£</td><td>æœ‰æ•ˆ</td><td>æœ‰æ•ˆ</td></tr><tr><td>å‰è¿›åé€€</td><td>æœ‰æ•ˆ</td><td>æœ‰æ•ˆ</td></tr><tr><td>F5åˆ·æ–°</td><td>æ— æ•ˆ</td><td>æœ‰æ•ˆ</td></tr><tr><td>Ctrl+F5å¼ºåˆ¶åˆ·æ–°</td><td>æ— æ•ˆ</td><td>æ— æ•ˆ</td></tr></tbody></table><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæˆ‘åœ¨chromeä¸­å®éªŒå‘ç°ï¼Œå½“æœåŠ¡å™¨æ²¡æœ‰å“åº”Cache-Controlã€Expireç›¸å…³å­—æ®µçš„æ—¶å€™ï¼Œä¸€å®šæ—¶é—´å†…å†æ¬¡è®¿é—®ç½‘ç«™ä¾ç„¶ä¼šèµ°<code>200(from disk cache)</code>å¼ºç¼“å­˜ï¼Œå¯èƒ½æ˜¯å’Œæµè§ˆå™¨æœ¬èº«çš„ç­–ç•¥æœ‰å…³ï¼Œæˆ–æ˜¯<code>Cache-Control</code>æœ‰é»˜è®¤å€¼ï¼Ÿæˆ‘åœ¨ç½‘ç»œä¸Šæ²¡æœ‰æŸ¥è¯¢åˆ°èµ„æ–™æ˜ç¡®æŒ‡å‡º<code>Cache-Control</code>æ˜¯å¦æœ‰é»˜è®¤å€¼ï¼Œæˆ–è€…<code>max-age</code>çš„é»˜è®¤å€¼ä¸ºå¤šå°‘ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;æœ¬æ–‡å‚è€ƒèµ„æºï¼š&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://segmentfault.com/a/1190000008956069&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;HTTPå¼ºç¼“å­˜å’Œåå•†ç¼“å­˜ - JavaScriptå­¦ä¹ ç¬”è®° - Segme
      
    
    </summary>
    
    
      <category term="è®¡ç®—æœºç›¸å…³" scheme="https://www.codetool.top/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%9B%B8%E5%85%B3/"/>
    
    
      <category term="è®¡ç®—æœºç½‘ç»œ" scheme="https://www.codetool.top/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"/>
    
      <category term="HTTP" scheme="https://www.codetool.top/tags/HTTP/"/>
    
  </entry>
  
  <entry>
    <title>è®¡ç½‘å¤ä¹ 07-åº”ç”¨å±‚ä¹‹HTTPæŠ¥æ–‡æ ¼å¼</title>
    <link href="https://www.codetool.top/article/%E8%AE%A1%E7%BD%91%E5%A4%8D%E4%B9%A007-%E5%BA%94%E7%94%A8%E5%B1%82%E4%B9%8BHTTP%E6%8A%A5%E6%96%87%E6%A0%BC%E5%BC%8F/"/>
    <id>https://www.codetool.top/article/è®¡ç½‘å¤ä¹ 07-åº”ç”¨å±‚ä¹‹HTTPæŠ¥æ–‡æ ¼å¼/</id>
    <published>2020-04-14T14:18:50.000Z</published>
    <updated>2020-04-14T15:49:30.715Z</updated>
    
    <content type="html"><![CDATA[<h1 id="HTTPæŠ¥æ–‡æ¦‚è¿°">1 HTTPæŠ¥æ–‡æ¦‚è¿°</h1><p>HTTPæ¦‚è¿°åœ¨<a href="../HTTPç‰ˆæœ¬å‘å±•ä¸Googleçš„æš—ä¸­åŠ©åŠ›/">HTTPç‰ˆæœ¬å‘å±•ä¸Googleçš„æš—ä¸­åŠ©åŠ›</a> ä¸­å·²ç»è¯´å¾—å·®ä¸å¤šäº†ï¼Œè¿™ç¯‡æ–‡ç« æ¥ä¸“é—¨è®²ä¸€ä¸‹HTTPçš„æŠ¥æ–‡æ ¼å¼</p><p><img src="https://api.codetool.top/img/15868743125701.png" alt></p><p>HTTP åè®®çš„è¯·æ±‚æŠ¥æ–‡å’Œå“åº”æŠ¥æ–‡çš„ç»“æ„åŸºæœ¬ç›¸åŒï¼Œç”±ä¸‰å¤§éƒ¨åˆ†ç»„æˆï¼š</p><ul><li>èµ·å§‹è¡Œï¼ˆstart lineï¼‰ï¼šæè¿°è¯·æ±‚æˆ–å“åº”çš„åŸºæœ¬ä¿¡æ¯ï¼›</li><li>å¤´éƒ¨å­—æ®µé›†åˆï¼ˆheaderï¼‰ï¼šä½¿ç”¨ key-value å½¢å¼æ›´è¯¦ç»†åœ°è¯´æ˜æŠ¥æ–‡ï¼›</li><li>æ¶ˆæ¯æ­£æ–‡ï¼ˆentityï¼‰ï¼šå®é™…ä¼ è¾“çš„æ•°æ®ï¼Œå®ƒä¸ä¸€å®šæ˜¯çº¯æ–‡æœ¬ï¼Œå¯ä»¥æ˜¯å›¾ç‰‡ã€è§†é¢‘ç­‰äºŒè¿›åˆ¶æ•°æ®ã€‚</li></ul><p>è¿™å…¶ä¸­å‰ä¸¤éƒ¨åˆ†èµ·å§‹è¡Œå’Œå¤´éƒ¨å­—æ®µç»å¸¸åˆåˆç§°ä¸ºâ€œè¯·æ±‚å¤´â€æˆ–â€œå“åº”å¤´â€ï¼Œæ¶ˆæ¯æ­£æ–‡åˆç§°ä¸ºâ€œå®ä½“â€ï¼Œä½†ä¸â€œheaderâ€å¯¹åº”ï¼Œå¾ˆå¤šæ—¶å€™å°±ç›´æ¥ç§°ä¸ºâ€œbodyâ€ã€‚</p><p>HTTPæŠ¥æ–‡æ˜¯é¢å‘æ–‡æœ¬çš„ï¼Œå› æ­¤headeréƒ½æ˜¯ä¸€äº›ASCIIç ä¸²ï¼Œå¯ä»¥å¾ˆå®¹æ˜“åœ°ç”¨è‚‰çœ¼é˜…è¯»ï¼Œä¸ç”¨å€ŸåŠ©ç¨‹åºè§£æä¹Ÿèƒ½å¤Ÿçœ‹æ‡‚ã€‚ï¼ˆæ‰€ä»¥ä¸­æ–‡é€šå¸¸è¦ç»è¿‡urlencodeï¼‰</p><p>HTTP åè®®è§„å®šæŠ¥æ–‡å¿…é¡»æœ‰ headerï¼Œä½†å¯ä»¥æ²¡æœ‰ bodyï¼Œ<strong>è€Œä¸”åœ¨ header ä¹‹åå¿…é¡»è¦æœ‰ä¸€ä¸ªâ€œç©ºè¡Œâ€</strong>ï¼Œä¹Ÿå°±æ˜¯â€œCRLFâ€ï¼Œåå…­è¿›åˆ¶çš„<code>â€œ0D0Aâ€</code>ã€‚</p><h1 id="è¯·æ±‚è¡Œ-amp-çŠ¶æ€è¡Œ">2 è¯·æ±‚è¡Œ&amp;çŠ¶æ€è¡Œ</h1><h2 id="è¯·æ±‚è¡Œ">2.1 è¯·æ±‚è¡Œ</h2><p><img src="https://api.codetool.top/img/15868744881740.png" alt></p><p>è¯·æ±‚è¡Œæ˜¯è¯·æ±‚æŠ¥æ–‡ä¸­çš„ç¬¬ä¸€è¡Œï¼Œè¯·æ±‚è¡Œç”±ä¸‰éƒ¨åˆ†æ„æˆï¼š</p><ol><li>è¯·æ±‚æ–¹æ³•ï¼šæ˜¯ä¸€ä¸ªåŠ¨è¯ï¼Œå¦‚ GET/POSTï¼Œè¡¨ç¤ºå¯¹èµ„æºçš„æ“ä½œã€‚äº‹å®ä¸Šï¼Œè¯·æ±‚æ–¹æ³•çš„è¯­ä¹‰å¹¶æ²¡æœ‰è¢«ä¸¥æ ¼éµå®ˆï¼Œç›´åˆ°RESTful APIçš„å¹¿æ³›åº”ç”¨ï¼Œæ‰ä½¿å¾—è¯·æ±‚æ–¹æ³•çš„è¯­ä¹‰å˜å¾—é‡è¦äº†èµ·æ¥ã€‚</li></ol><table><thead><tr><th>æ–¹æ³•ï¼ˆæ“ä½œï¼‰</th><th>æ„ä¹‰</th></tr></thead><tbody><tr><td>OPTION</td><td>è¯·æ±‚ä¸€äº›é€‰é¡¹çš„ä¿¡æ¯</td></tr><tr><td>GET</td><td>è¯·æ±‚è¯»å–ç”± URLæ‰€æ ‡å¿—çš„ä¿¡æ¯</td></tr><tr><td>HEAD</td><td>è¯·æ±‚è¯»å–ç”± URLæ‰€æ ‡å¿—çš„ä¿¡æ¯çš„é¦–éƒ¨</td></tr><tr><td>POST</td><td>ç»™æœåŠ¡å™¨æ·»åŠ ä¿¡æ¯ï¼ˆä¾‹å¦‚ï¼Œæ³¨é‡Šï¼‰</td></tr><tr><td>PUT</td><td>åœ¨æŒ‡æ˜çš„ URLä¸‹å­˜å‚¨ä¸€ä¸ªæ–‡æ¡£</td></tr><tr><td>DELETE</td><td>åˆ é™¤æŒ‡æ˜çš„ URLæ‰€æ ‡å¿—çš„èµ„æº</td></tr><tr><td>TRACE</td><td>ç”¨æ¥è¿›è¡Œç¯å›æµ‹è¯•çš„è¯·æ±‚æŠ¥æ–‡</td></tr><tr><td>CONNECT</td><td>ç”¨äºä»£ç†æœåŠ¡å™¨</td></tr></tbody></table><p>å…³äºè¯·æ±‚æ–¹æ³•ï¼Œæˆ‘ä»¬é€šå¸¸è°ˆåˆ°å¹‚ç­‰æ€§ï¼Œç›¸å…³å†…å®¹å¯ä»¥å‚è€ƒ<a href="../Httpè¯·æ±‚çš„å¹‚ç­‰æ€§/">Httpè¯·æ±‚çš„å¹‚ç­‰æ€§</a></p><ol start="2"><li>è¯·æ±‚ç›®æ ‡ï¼šé€šå¸¸æ˜¯ä¸€ä¸ª URIï¼Œæ ‡è®°äº†è¯·æ±‚æ–¹æ³•è¦æ“ä½œçš„èµ„æºã€‚</li><li>ç‰ˆæœ¬å·ï¼šè¡¨ç¤ºæŠ¥æ–‡ä½¿ç”¨çš„ HTTP åè®®ç‰ˆæœ¬ã€‚</li></ol><p>è¿™ä¸‰ä¸ªéƒ¨åˆ†é€šå¸¸ä½¿ç”¨ç©ºæ ¼ï¼ˆspaceï¼‰æ¥åˆ†éš”ï¼Œæœ€åè¦ç”¨ CRLF æ¢è¡Œè¡¨ç¤ºç»“æŸã€‚</p><h2 id="çŠ¶æ€è¡Œ">2.2 çŠ¶æ€è¡Œ</h2><p>çŠ¶æ€è¡Œæ˜¯å“åº”æŠ¥æ–‡ä¸­çš„ç¬¬ä¸€è¡Œï¼Œä¸è¯·æ±‚è¡Œçš„ç»“æ„ç±»ä¼¼ã€‚</p><p><img src="https://api.codetool.top/img/15868750209984.png" alt></p><p>çŠ¶æ€è¡ŒåŒ…æ‹¬ä¸‰é¡¹å†…å®¹:</p><ol><li>ç‰ˆæœ¬å·ï¼šè¡¨ç¤ºæŠ¥æ–‡ä½¿ç”¨çš„ HTTP åè®®ç‰ˆæœ¬ã€‚</li><li>çŠ¶æ€ç ï¼šä¸€ä¸ªä¸‰ä½æ•°ï¼Œç”¨ä»£ç çš„å½¢å¼è¡¨ç¤ºå¤„ç†çš„ç»“æœã€‚æˆ‘åœ¨<a href="../SpringBootå¼€å‘RESTful%20API">SpringBootå¼€å‘RESTful API</a>ä¸­åˆ—ä¸¾äº†å¸¸ç”¨çš„HTTPçŠ¶æ€ç ã€‚</li><li>çŸ­è¯­ï¼šè§£é‡ŠçŠ¶æ€ç çš„ç®€å•çŸ­è¯­ï¼Œå¸®åŠ©äººç†è§£åŸå› ã€‚å¯¹äºå¸¸è§çš„çŠ¶æ€ç 200ï¼Œåé¢è·Ÿçš„çŸ­è¯­å¯èƒ½å°±æ˜¯<code>OK</code>ã€‚</li></ol><h1 id="å¤´éƒ¨å­—æ®µï¼ˆé¦–éƒ¨è¡Œï¼‰">3 å¤´éƒ¨å­—æ®µï¼ˆé¦–éƒ¨è¡Œï¼‰</h1><p>è¯·æ±‚è¡Œæˆ–çŠ¶æ€è¡Œå†åŠ ä¸Šå¤´éƒ¨å­—æ®µé›†åˆå°±æ„æˆäº† HTTP æŠ¥æ–‡é‡Œå®Œæ•´çš„è¯·æ±‚å¤´æˆ–å“åº”å¤´ã€‚è¯·æ±‚æŠ¥æ–‡å’Œå“åº”æŠ¥æ–‡ä¸­çš„å¤´éƒ¨å­—æ®µçš„æ ¼å¼éƒ½æ˜¯ä¸€æ ·çš„ï¼Œåªæ˜¯å­—æ®µå¯èƒ½æœ‰æ‰€åŒºåˆ«ã€‚</p><p>å¤´éƒ¨å­—æ®µæ˜¯ key-value çš„å½¢å¼ï¼Œkey å’Œ value ä¹‹é—´ç”¨<code>â€œ: â€</code>åˆ†éš”ï¼Œæœ€åç”¨ CRLF æ¢è¡Œè¡¨ç¤ºå­—æ®µç»“æŸã€‚æ¯”å¦‚åœ¨<code>â€œHost: 127.0.0.1â€</code>è¿™ä¸€è¡Œé‡Œ key å°±æ˜¯<code>â€œHostâ€</code>ï¼Œvalue å°±æ˜¯<code>â€œ127.0.0.1â€</code>ã€‚</p><p>ä½¿ç”¨å¤´å­—æ®µéœ€è¦æ³¨æ„ä¸‹é¢å‡ ç‚¹ï¼š</p><ul><li>å­—æ®µå<strong>ä¸åŒºåˆ†å¤§å°å†™</strong>ï¼Œä¾‹å¦‚â€œHostâ€ä¹Ÿå¯ä»¥å†™æˆâ€œhostâ€ï¼Œä½†é¦–å­—æ¯å¤§å†™çš„å¯è¯»æ€§æ›´å¥½ï¼›</li><li>å­—æ®µåé‡Œ<strong>ä¸å…è®¸å‡ºç°ç©ºæ ¼ï¼Œå¯ä»¥ä½¿ç”¨è¿å­—ç¬¦â€œ-â€ï¼Œä½†ä¸èƒ½ä½¿ç”¨ä¸‹åˆ’çº¿â€œ_â€</strong>ã€‚ä¾‹å¦‚ï¼Œ<code>â€œtest-nameâ€</code>æ˜¯åˆæ³•çš„å­—æ®µåï¼Œè€Œ<code>â€œtest nameâ€``â€œtest_nameâ€</code>æ˜¯ä¸æ­£ç¡®çš„å­—æ®µåï¼›</li><li>å­—æ®µååé¢å¿…é¡»ç´§æ¥ç€â€œ:â€ï¼Œä¸èƒ½æœ‰ç©ºæ ¼ï¼Œ<strong>è€Œâ€œ:â€åçš„å­—æ®µå€¼å‰å¯ä»¥æœ‰å¤šä¸ªç©ºæ ¼</strong>ï¼›</li><li>å­—æ®µçš„é¡ºåºæ˜¯æ²¡æœ‰æ„ä¹‰çš„ï¼Œå¯ä»¥ä»»æ„æ’åˆ—ä¸å½±å“è¯­ä¹‰ï¼›</li><li>å­—æ®µ<strong>åŸåˆ™ä¸Šä¸èƒ½é‡å¤</strong>ï¼Œé™¤éè¿™ä¸ªå­—æ®µæœ¬èº«çš„è¯­ä¹‰å…è®¸ï¼Œä¾‹å¦‚ Set-Cookieã€‚</li></ul><h2 id="Content-Type-amp-Content-Encoding">3.1 Content-Type&amp;Content-Encoding</h2><p><code>Content-Type</code>ï¼šæ ‡è¯†bodyçš„å†…å®¹ç±»å‹ï¼Œå–å€¼é€šè¿‡<code>â€œMIME typeâ€</code>æ ‡å‡†ç¡®å®šï¼ŒMIME æŠŠæ•°æ®åˆ†æˆäº†å…«å¤§ç±»ï¼Œæ¯ä¸ªå¤§ç±»ä¸‹å†ç»†åˆ†å‡ºå¤šä¸ªå­ç±»ï¼Œå½¢å¼æ˜¯â€œtype/subtypeâ€çš„å­—ç¬¦ä¸²ï¼Œå·§å¾—å¾ˆï¼Œåˆšå¥½ä¹Ÿç¬¦åˆäº† HTTP æ˜æ–‡çš„ç‰¹ç‚¹ï¼Œæ‰€ä»¥èƒ½å¤Ÿå¾ˆå®¹æ˜“åœ°çº³å…¥ HTTP å¤´å­—æ®µé‡Œã€‚</p><p>è¿™é‡Œç®€å•åˆ—ä¸¾ä¸€ä¸‹åœ¨ HTTP é‡Œç»å¸¸é‡åˆ°çš„å‡ ä¸ªç±»åˆ«ï¼š</p><ul><li><code>text</code>ï¼šå³æ–‡æœ¬æ ¼å¼çš„å¯è¯»æ•°æ®ï¼Œæˆ‘ä»¬æœ€ç†Ÿæ‚‰çš„åº”è¯¥å°±æ˜¯ <code>text/html</code> äº†ï¼Œè¡¨ç¤ºè¶…æ–‡æœ¬æ–‡æ¡£ï¼Œæ­¤å¤–è¿˜æœ‰çº¯æ–‡æœ¬ <code>text/plain</code>ã€æ ·å¼è¡¨ <code>text/css</code> ç­‰ã€‚</li><li><code>image</code>ï¼šå³å›¾åƒæ–‡ä»¶ï¼Œæœ‰ <code>image/gif</code>ã€<code>image/jpeg</code>ã€<code>image/png</code> ç­‰ã€‚</li><li><code>audio/video</code>ï¼šéŸ³é¢‘å’Œè§†é¢‘æ•°æ®ï¼Œä¾‹å¦‚ <code>audio/mpeg</code>ã€<code>video/mp4</code> ç­‰ã€‚</li><li><code>application</code>ï¼šæ•°æ®æ ¼å¼ä¸å›ºå®šï¼Œå¯èƒ½æ˜¯æ–‡æœ¬ä¹Ÿå¯èƒ½æ˜¯äºŒè¿›åˆ¶ï¼Œå¿…é¡»ç”±ä¸Šå±‚åº”ç”¨ç¨‹åºæ¥è§£é‡Šã€‚å¸¸è§çš„æœ‰ <code>application/json</code>ï¼Œ<code>application/javascript</code>ã€<code>application/pdf</code> ç­‰ï¼Œå¦å¤–ï¼Œå¦‚æœå®åœ¨æ˜¯ä¸çŸ¥é“æ•°æ®æ˜¯ä»€ä¹ˆç±»å‹ï¼Œåƒåˆšæ‰è¯´çš„â€œé»‘ç›’â€ï¼Œå°±ä¼šæ˜¯ <code>application/octet-stream</code>ï¼Œå³ä¸é€æ˜çš„äºŒè¿›åˆ¶æ•°æ®ã€‚</li></ul><p>éœ€è¦æ³¨æ„çš„æ˜¯ä»¥<code>x-</code>å¼€å¤´çš„ç±»å‹æ˜¯æˆ‘ä»¬è‡ªå®šä¹‰çš„ç±»å‹ã€‚ä½¿ç”¨<code>*</code>ä»£è¡¨ä»»æ„ç±»å‹ã€‚</p><p><code>Content-Encoding</code>ï¼šå‘Šè¯‰æ•°æ®æ˜¯ç”¨çš„ä»€ä¹ˆç¼–ç æ ¼å¼ï¼Œè¿™æ ·å¯¹æ–¹æ‰èƒ½æ­£ç¡®è§£å‹ç¼©ï¼Œè¿˜åŸå‡ºåŸå§‹çš„æ•°æ®ã€‚å¦‚æœå“åº”æŠ¥æ–‡é‡Œæ²¡æœ‰ <code>Content-Encoding</code> å­—æ®µï¼Œå°±è¡¨ç¤ºå“åº”æ•°æ®æ²¡æœ‰è¢«å‹ç¼©ã€‚å¸¸è§çš„<code>Content-Encoding</code>ï¼š</p><ul><li><code>gzip</code>ï¼šGNU zip å‹ç¼©æ ¼å¼ï¼Œä¹Ÿæ˜¯äº’è”ç½‘ä¸Šæœ€æµè¡Œçš„å‹ç¼©æ ¼å¼ï¼›</li><li><code>deflate</code>ï¼šzlibï¼ˆdeflateï¼‰å‹ç¼©æ ¼å¼ï¼Œæµè¡Œç¨‹åº¦ä»…æ¬¡äº gzipï¼›</li><li><code>br</code>ï¼šä¸€ç§ä¸“é—¨ä¸º HTTP ä¼˜åŒ–çš„æ–°å‹ç¼©ç®—æ³•ï¼ˆBrotliï¼‰ã€‚</li></ul><h2 id="Accept-amp-Accept-Encoding">3.2 Accept&amp;Accept-Encoding</h2><p>å¦‚æœæœåŠ¡å™¨ä¸€å¢æƒ…æ„¿å‘é€ç‰¹å®šçš„æ•°æ®ç±»å‹è€Œå®¢æˆ·ç«¯è§£æä¸äº†ä¹Ÿä¸è¡Œï¼Œæ‰€ä»¥è¯·æ±‚é¦–éƒ¨å­—æ®µä¸­é€šå¸¸ä¼šæœ‰<code>Accept</code>å­—æ®µï¼Œä»£è¡¨å®¢æˆ·ç«¯å¯ç†è§£çš„ MIME typeï¼Œç”¨<code>,</code>åšåˆ†éš”ç¬¦åˆ—å‡ºå¤šä¸ªç±»å‹ã€‚å¯¹åº”çš„ï¼Œä¹Ÿå­˜åœ¨<code>Accept-Encoding</code>å­—æ®µï¼Œä»£è¡¨å®¢æˆ·ç«¯æ”¯æŒçš„å‹ç¼©æ ¼å¼ã€‚æœåŠ¡å™¨é€šå¸¸è¦é€šè¿‡è¿™ä¸¤ä¸ªå­—æ®µå†³å®šå“åº”çš„æ•°æ®ç±»å‹ã€‚</p><h2 id="å…¶ä»–Accept-å’ŒContent-å­—æ®µ">3.3 å…¶ä»–Accept-å’ŒContent-å­—æ®µ</h2><p><code>Accept-Language</code>ä»£è¡¨å®¢æˆ·ç«¯å¯ç†è§£çš„è‡ªç„¶è¯­è¨€ï¼Œ<code>Content-Language</code>å‘Šè¯‰å®¢æˆ·ç«¯å®ä½“æ•°æ®ä½¿ç”¨çš„å®é™…è¯­è¨€ç±»å‹ã€‚</p><p><code>Accept-Charset</code>ä»£è¡¨å®¢æˆ·ç«¯å¯è§£æçš„å­—ç¬¦é›†ï¼Œ<strong>å“åº”æŠ¥æ–‡å¹¶ä¸ä¼šæœ‰<code>Content-Charset</code>ï¼Œè€Œæ˜¯åœ¨Content-Typeå­—æ®µçš„æ•°æ®ç±»å‹åé¢ç”¨â€œcharset=xxxâ€æ¥è¡¨ç¤ºã€‚</strong></p><p>ä¸è¿‡ç°åœ¨çš„æµè§ˆå™¨éƒ½æ”¯æŒå¤šç§å­—ç¬¦é›†ï¼Œé€šå¸¸ä¸ä¼šå‘é€ <code>Accept-Charset</code>ï¼Œè€ŒæœåŠ¡å™¨ä¹Ÿä¸ä¼šå‘é€ <code>Content-Language</code>ï¼Œå› ä¸ºä½¿ç”¨çš„è¯­è¨€å®Œå…¨å¯ä»¥ç”±å­—ç¬¦é›†æ¨æ–­å‡ºæ¥ï¼Œæ‰€ä»¥åœ¨è¯·æ±‚å¤´é‡Œä¸€èˆ¬åªä¼šæœ‰ <code>Accept-Language</code> å­—æ®µï¼Œå“åº”å¤´é‡Œåªä¼šæœ‰ <code>Content-Type</code> å­—æ®µã€‚</p><h2 id="å†…å®¹åå•†çš„è´¨é‡å€¼">3.4 å†…å®¹åå•†çš„è´¨é‡å€¼</h2><p>æˆ‘ä»¬ç§°ä»¥ä¸Š<code>Accept-*</code>å’Œ<code>Content-*</code>å­—æ®µä¸ºå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯å¯¹ä¼ è¾“çš„å†…å®¹è¿›è¡Œ<strong>å†…å®¹åå•†</strong>ï¼Œåœ¨ HTTP åè®®é‡Œç”¨ Acceptã€Accept-Encodingã€Accept-Language ç­‰è¯·æ±‚å¤´å­—æ®µè¿›è¡Œå†…å®¹åå•†çš„æ—¶å€™ï¼Œ<strong>è¿˜å¯ä»¥ç”¨ä¸€ç§ç‰¹æ®Šçš„â€œqâ€å‚æ•°è¡¨ç¤ºæƒé‡æ¥è®¾å®šä¼˜å…ˆçº§</strong>ï¼Œè¿™é‡Œçš„â€œqâ€æ˜¯â€œquality factorâ€çš„æ„æ€ã€‚</p><p>æƒé‡çš„æœ€å¤§å€¼æ˜¯ 1ï¼Œæœ€å°å€¼æ˜¯ 0.01ï¼Œé»˜è®¤å€¼æ˜¯ 1ï¼Œå¦‚æœå€¼æ˜¯ 0 å°±è¡¨ç¤ºæ‹’ç»ã€‚å…·ä½“çš„å½¢å¼æ˜¯åœ¨æ•°æ®ç±»å‹æˆ–è¯­è¨€ä»£ç åé¢åŠ ä¸€ä¸ª<code>;</code>ï¼Œç„¶åæ˜¯<code>q=value</code>ã€‚</p><p>ä¾‹å¦‚ï¼š</p><pre><code>Accept: text/html,application/xml;q=0.9,*/*;q=0.8</code></pre><p>å®ƒè¡¨ç¤ºæµè§ˆå™¨æœ€å¸Œæœ›ä½¿ç”¨çš„æ˜¯ HTML æ–‡ä»¶ï¼Œæƒé‡æ˜¯ <code>1</code>ï¼Œå…¶æ¬¡æ˜¯ XML æ–‡ä»¶ï¼Œæƒé‡æ˜¯ <code>0.9</code>ï¼Œæœ€åæ˜¯ä»»æ„æ•°æ®ç±»å‹ï¼Œæƒé‡æ˜¯ <code>0.8</code>ã€‚æœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚å¤´åï¼Œå°±ä¼šè®¡ç®—æƒé‡ï¼Œå†æ ¹æ®è‡ªå·±çš„å®é™…æƒ…å†µä¼˜å…ˆè¾“å‡º HTML æˆ–è€… XMLã€‚</p><h2 id="å†…å®¹åå•†çš„ç»“æœ">3.5 å†…å®¹åå•†çš„ç»“æœ</h2><p>å†…å®¹åå•†çš„è¿‡ç¨‹æ˜¯ä¸é€æ˜çš„ï¼Œæ¯ä¸ª Web æœåŠ¡å™¨ä½¿ç”¨çš„ç®—æ³•éƒ½ä¸ä¸€æ ·ã€‚ä½†æœ‰çš„æ—¶å€™ï¼ŒæœåŠ¡å™¨ä¼šåœ¨å“åº”å¤´é‡Œå¤šåŠ ä¸€ä¸ª<code>Vary</code>å­—æ®µï¼Œè®°å½•æœåŠ¡å™¨åœ¨å†…å®¹åå•†æ—¶å‚è€ƒçš„è¯·æ±‚å¤´å­—æ®µï¼Œç»™å‡ºä¸€ç‚¹ä¿¡æ¯ï¼Œä¾‹å¦‚ï¼š</p><pre><code>Vary: Accept-Encoding,User-Agent,Accept</code></pre><p>è¿™ä¸ª <code>Vary</code> å­—æ®µè¡¨ç¤ºæœåŠ¡å™¨ä¾æ®äº† <code>Accept-Encoding</code>ã€<code>User-Agent</code> å’Œ <code>Accept</code> è¿™ä¸‰ä¸ªå¤´å­—æ®µï¼Œç„¶åå†³å®šäº†å‘å›çš„å“åº”æŠ¥æ–‡ã€‚</p><h2 id="å…¶ä»–å¸¸è§çš„å¤´éƒ¨å­—æ®µ">3.6 å…¶ä»–å¸¸è§çš„å¤´éƒ¨å­—æ®µ</h2><p><code>Host</code>å­—æ®µï¼Œå®ƒå±äº<strong>è¯·æ±‚å­—æ®µ</strong>ï¼Œåªèƒ½å‡ºç°åœ¨è¯·æ±‚å¤´é‡Œï¼Œå®ƒåŒæ—¶ä¹Ÿæ˜¯å”¯ä¸€ä¸€ä¸ª HTTP/1.1 è§„èŒƒé‡Œ<strong>è¦æ±‚å¿…é¡»å‡ºç°çš„å­—æ®µ</strong>ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœè¯·æ±‚å¤´é‡Œæ²¡æœ‰ Hostï¼Œé‚£è¿™å°±æ˜¯ä¸€ä¸ªé”™è¯¯çš„æŠ¥æ–‡ã€‚<strong>Host å­—æ®µå‘Šè¯‰æœåŠ¡å™¨è¿™ä¸ªè¯·æ±‚åº”è¯¥ç”±å“ªä¸ªä¸»æœºæ¥å¤„ç†</strong>ï¼Œå½“ä¸€å°è®¡ç®—æœºä¸Šæ‰˜ç®¡äº†å¤šä¸ªè™šæ‹Ÿä¸»æœºçš„æ—¶å€™ï¼ŒæœåŠ¡å™¨ç«¯å°±éœ€è¦ç”¨ Host å­—æ®µæ¥é€‰æ‹©ï¼Œæœ‰ç‚¹åƒæ˜¯ä¸€ä¸ªç®€å•çš„â€œè·¯ç”±é‡å®šå‘â€ã€‚</p><p><code>User-Agent</code>æ˜¯<strong>è¯·æ±‚å­—æ®µ</strong>ï¼Œåªå‡ºç°åœ¨è¯·æ±‚å¤´é‡Œã€‚å®ƒä½¿ç”¨ä¸€ä¸ªå­—ç¬¦ä¸²æ¥æè¿°å‘èµ· HTTP è¯·æ±‚çš„å®¢æˆ·ç«¯ï¼ŒæœåŠ¡å™¨å¯ä»¥ä¾æ®å®ƒæ¥è¿”å›æœ€åˆé€‚æ­¤æµè§ˆå™¨æ˜¾ç¤ºçš„é¡µé¢ã€‚ä½†ç”±äºå†å²çš„åŸå› ï¼ŒUser-Agent éå¸¸æ··ä¹±ï¼Œæ¯ä¸ªæµè§ˆå™¨éƒ½è‡ªç§°æ˜¯<code>â€œMozillaâ€``â€œChromeâ€``â€œSafariâ€</code>ï¼Œä¼å›¾ä½¿ç”¨è¿™ä¸ªå­—æ®µæ¥äº’ç›¸â€œä¼ªè£…â€ï¼Œå¯¼è‡´ User-Agent å˜å¾—è¶Šæ¥è¶Šé•¿ï¼Œæœ€ç»ˆå˜å¾—æ¯«æ— æ„ä¹‰ã€‚</p><p><code>Date</code>å­—æ®µæ˜¯ä¸€ä¸ªé€šç”¨å­—æ®µï¼Œä½†<strong>é€šå¸¸å‡ºç°åœ¨å“åº”å¤´é‡Œï¼Œè¡¨ç¤º HTTP æŠ¥æ–‡åˆ›å»ºçš„æ—¶é—´</strong>ï¼Œå®¢æˆ·ç«¯å¯ä»¥ä½¿ç”¨è¿™ä¸ªæ—¶é—´å†æ­é…å…¶ä»–å­—æ®µå†³å®šç¼“å­˜ç­–ç•¥ã€‚</p><p><code>Server</code>å­—æ®µæ˜¯å“åº”å­—æ®µï¼Œåªèƒ½å‡ºç°åœ¨å“åº”å¤´é‡Œã€‚å®ƒå‘Šè¯‰å®¢æˆ·ç«¯å½“å‰æ­£åœ¨æä¾› Web æœåŠ¡çš„è½¯ä»¶åç§°å’Œç‰ˆæœ¬å·ï¼Œä¾‹å¦‚<code>nginx/1.**</code>ã€‚<strong>Server å­—æ®µä¹Ÿä¸æ˜¯å¿…é¡»è¦å‡ºç°çš„</strong>ï¼Œå› ä¸ºè¿™ä¼šæŠŠæœåŠ¡å™¨çš„ä¸€éƒ¨åˆ†ä¿¡æ¯æš´éœ²ç»™å¤–ç•Œï¼Œå¦‚æœè¿™ä¸ªç‰ˆæœ¬æ°å¥½å­˜åœ¨ bugï¼Œé‚£ä¹ˆé»‘å®¢å°±æœ‰å¯èƒ½åˆ©ç”¨ bug æ”»é™·æœåŠ¡å™¨ã€‚æ‰€ä»¥ï¼Œ<strong>æœ‰çš„ç½‘ç«™å“åº”å¤´é‡Œè¦ä¹ˆæ²¡æœ‰è¿™ä¸ªå­—æ®µï¼Œè¦ä¹ˆå°±ç»™å‡ºä¸€ä¸ªå®Œå…¨æ— å…³çš„æè¿°ä¿¡æ¯ã€‚</strong></p><p><code>Content-Length</code>ï¼Œå®ƒè¡¨ç¤ºæŠ¥æ–‡é‡Œ body çš„é•¿åº¦ï¼Œä¹Ÿå°±æ˜¯<strong>è¯·æ±‚å¤´æˆ–å“åº”å¤´ç©ºè¡Œåé¢æ•°æ®çš„é•¿åº¦</strong>ã€‚æœåŠ¡å™¨çœ‹åˆ°è¿™ä¸ªå­—æ®µï¼Œå°±çŸ¥é“äº†åç»­æœ‰å¤šå°‘æ•°æ®ï¼Œå¯ä»¥ç›´æ¥æ¥æ”¶ã€‚<strong>å¦‚æœæ²¡æœ‰è¿™ä¸ªå­—æ®µï¼Œé‚£ä¹ˆ body å°±æ˜¯ä¸å®šé•¿çš„ï¼Œéœ€è¦ä½¿ç”¨ <code>chunked</code> æ–¹å¼åˆ†æ®µä¼ è¾“ã€‚</strong></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;HTTPæŠ¥æ–‡æ¦‚è¿°&quot;&gt;1 HTTPæŠ¥æ–‡æ¦‚è¿°&lt;/h1&gt;&lt;p&gt;HTTPæ¦‚è¿°åœ¨&lt;a href=&quot;../HTTPç‰ˆæœ¬å‘å±•ä¸Googleçš„æš—ä¸­åŠ©åŠ›/&quot;&gt;HTTPç‰ˆæœ¬å‘å±•ä¸Googleçš„æš—ä¸­åŠ©åŠ›&lt;/a&gt; ä¸­å·²ç»è¯´å¾—å·®ä¸å¤šäº†ï¼Œè¿™ç¯‡æ–‡ç« æ¥ä¸“é—¨è®²ä¸€ä¸‹HTTPçš„æŠ¥æ–‡æ ¼å¼&lt;/p&gt;
&lt;p&gt;
      
    
    </summary>
    
    
      <category term="è®¡ç®—æœºç›¸å…³" scheme="https://www.codetool.top/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%9B%B8%E5%85%B3/"/>
    
    
      <category term="è®¡ç®—æœºç½‘ç»œ" scheme="https://www.codetool.top/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"/>
    
      <category term="HTTP" scheme="https://www.codetool.top/tags/HTTP/"/>
    
  </entry>
  
  <entry>
    <title>è®¡ç½‘å¤ä¹ 06-åº”ç”¨å±‚ä¹‹åŸŸåç³»ç»ŸDNS</title>
    <link href="https://www.codetool.top/article/%E8%AE%A1%E7%BD%91%E5%A4%8D%E4%B9%A006-%E5%BA%94%E7%94%A8%E5%B1%82%E4%B9%8B%E5%9F%9F%E5%90%8D%E7%B3%BB%E7%BB%9FDNS/"/>
    <id>https://www.codetool.top/article/è®¡ç½‘å¤ä¹ 06-åº”ç”¨å±‚ä¹‹åŸŸåç³»ç»ŸDNS/</id>
    <published>2020-04-14T04:11:10.000Z</published>
    <updated>2020-04-14T05:24:05.417Z</updated>
    
    <content type="html"><![CDATA[<p>æœ¬æ–‡å‚è€ƒèµ„æºï¼š</p><p><a href="https://blog.csdn.net/grace_yi/article/details/89419106" target="_blank" rel="noopener">å…¨å±€è´Ÿè½½å‡è¡¡ï¼ˆGSLBï¼‰çš„å®ç°æ–¹æ¡ˆ_è¿ç»´_å¥”å‘äº‘è®¡ç®—çš„ç¬¨é¸Ÿçš„ä¸“æ -CSDNåšå®¢</a></p><p><a href="https://blog.csdn.net/cywosp/article/details/38017027" target="_blank" rel="noopener">æ¯å¤©è¿›æ­¥ä¸€ç‚¹ç‚¹â€”â€”è´Ÿè½½å‡è¡¡ä¹‹DNSåŸŸåè§£æ_è¿ç»´_Cynric çš„åšå®¢-CSDNåšå®¢</a></p><p><a href="https://www.cnblogs.com/zhuxiangru/p/9536092.html" target="_blank" rel="noopener">å‡ ç§åŸŸåè§£æç±»å‹å’Œä½¿ç”¨æ–¹å¼ - èœé¸Ÿçš„ä¸€å¤© - åšå®¢å›­</a></p><p>ç°åœ¨ç½‘ç«™çš„æ•°ç›®éå¸¸å¤šï¼Œå¦‚æœå…¨éƒ¨ç”¨ IP åœ°å€è¿›è¡Œè®¿é—®ï¼Œææ€•å¾ˆéš¾è®°ä½ã€‚è®¸å¤šåº”ç”¨å±‚è½¯ä»¶ç»å¸¸ç›´æ¥ä½¿ç”¨<strong>åŸŸåç³»ç»Ÿ</strong>(DNS, Domain Name System)ï¼Œä½†è®¡ç®—æœºçš„ç”¨æˆ·åªæ˜¯é—´æ¥è€Œä¸æ˜¯ç›´æ¥ä½¿ç”¨åŸŸåç³»ç»Ÿã€‚ </p><h1 id="åŸŸåç³»ç»ŸDNS">1 åŸŸåç³»ç»ŸDNS</h1><p>ä»»ä½•ä¸€ä¸ªè¿æ¥åœ¨äº’è”ç½‘ä¸Šçš„ä¸»æœºæˆ–è·¯ç”±å™¨ï¼Œéƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„å±‚æ¬¡ç»“æ„çš„åå­—ï¼Œå³åŸŸåã€‚<br>äº’è”ç½‘é‡‡ç”¨äº†<strong>å±‚æ¬¡æ ‘çŠ¶ç»“æ„</strong>çš„å‘½åæ–¹æ³•ï¼ŒåŸŸåçš„ç»“æ„ç”±æ ‡å·åºåˆ—ç»„æˆï¼Œå„æ ‡å·ä¹‹é—´ç”¨ç‚¹éš”å¼€ï¼š</p><pre><code>â€¦.ä¸‰çº§åŸŸå.äºŒçº§åŸŸå.é¡¶çº§åŸŸå</code></pre><p>å¯¹äºæˆ‘çš„åšå®¢ <a href="http://www.codetool.top">http://www.codetool.top</a> ï¼Œtopå°±æ˜¯é¡¶çº§åŸŸåï¼Œcodetoolæ˜¯äºŒçº§åŸŸåã€‚</p><p>æœ€å·¦è¾¹çš„æ˜¯ä¸»æœºåï¼Œé€šå¸¸ç”¨æ¥è¡¨æ˜ä¸»æœºçš„ç”¨é€”ï¼Œæ¯”å¦‚â€œwwwâ€è¡¨ç¤ºæä¾›ä¸‡ç»´ç½‘æœåŠ¡ã€â€œmailâ€è¡¨ç¤ºæä¾›é‚®ä»¶æœåŠ¡ï¼Œä¸è¿‡è¿™ä¹Ÿä¸æ˜¯ç»å¯¹çš„ï¼Œåå­—çš„å…³é”®æ˜¯è¦è®©æˆ‘ä»¬å®¹æ˜“è®°å¿†ã€‚</p><p>åŸŸååªæ˜¯ä¸ªé€»è¾‘æ¦‚å¿µï¼Œå¹¶ä¸ä»£è¡¨è®¡ç®—æœºæ‰€åœ¨çš„ç‰©ç†åœ°ç‚¹ã€‚</p><h2 id="å¸¸è§é¡¶çº§åŸŸå">1.1 å¸¸è§é¡¶çº§åŸŸå</h2><ol><li>å›½å®¶é¡¶çº§åŸŸå nTLD<ul><li><code>.cn</code> è¡¨ç¤ºä¸­å›½ï¼Œ</li><li><code>.us</code> è¡¨ç¤ºç¾å›½ï¼Œ</li><li><code>.uk</code> è¡¨ç¤ºè‹±å›½ï¼Œç­‰ç­‰ã€‚</li></ul></li><li>é€šç”¨é¡¶çº§åŸŸå gTLD<br> æœ€æ—©çš„é¡¶çº§åŸŸåæ˜¯ï¼š<ul><li><code>.com</code>    ï¼ˆå…¬å¸å’Œä¼ä¸šï¼‰</li><li><code>.net</code>    ï¼ˆç½‘ç»œæœåŠ¡æœºæ„</li><li><code>.org</code>    ï¼ˆéèµ¢åˆ©æ€§ç»„ç»‡ï¼‰</li><li><code>.edu</code>    ï¼ˆç¾å›½ä¸“ç”¨çš„æ•™è‚²æœºæ„ï¼‰</li><li><code>.gov</code>    ï¼ˆç¾å›½ä¸“ç”¨çš„æ”¿åºœéƒ¨é—¨ï¼‰</li><li><code>.mil</code>    ï¼ˆç¾å›½ä¸“ç”¨çš„å†›äº‹éƒ¨é—¨ï¼‰</li><li><code>.int</code>    ï¼ˆå›½é™…ç»„ç»‡ï¼‰</li></ul></li><li>åŸºç¡€ç»“æ„åŸŸå (infrastructure domain)ï¼šè¿™ç§é¡¶çº§åŸŸååªæœ‰ä¸€ä¸ªï¼Œå³ <code>arpa</code>ï¼Œç”¨äºåå‘åŸŸåè§£æï¼Œå› æ­¤åˆç§°ä¸ºåå‘åŸŸåã€‚ </li></ol><p>éšç€äº’è”ç½‘çš„å‘å±•ï¼Œå‡ºç°äº†å¾ˆå¤šæ–°å¢çš„é¡¶çº§åŸŸåï¼Œè¿™é‡Œä¸è°ˆã€‚</p><h2 id="æ³¨æ„äº‹é¡¹">1.2 æ³¨æ„äº‹é¡¹</h2><ol><li>åŸŸåå·²ç»æ”¯æŒä¸­æ–‡ï¼Œä¸è¿‡ä¸è¢«å¹¿æ³›ä½¿ç”¨</li><li>åŸŸåçš„æ€»é•¿åº¦é™åˆ¶åœ¨253ä¸ªå­—ç¬¦ä»¥å†…ï¼Œè€Œ<strong>æ¯ä¸€çº§åŸŸåé•¿åº¦ä¸èƒ½è¶…è¿‡63ä¸ªå­—ç¬¦</strong>ã€‚</li><li>åŸŸåæ˜¯å¤§å°å†™æ— å…³çš„ï¼Œä½†é€šå¸¸éƒ½ä½¿ç”¨å°å†™çš„å½¢å¼ã€‚</li><li>è¿‡é•¿çš„åŸŸåæˆ–è€…è¿‡å¤šçš„å±‚æ¬¡å…³ç³»ä¹Ÿä¼šå¯¼è‡´ä¸IP åœ°å€åŒæ ·éš¾äºè®°å¿†çš„é—®é¢˜ï¼Œæ‰€ä»¥å¸¸è§çš„åŸŸåå¤§å¤šæ˜¯ä¸¤çº§æˆ–ä¸‰çº§ï¼Œå››çº§ä»¥ä¸Šçš„å¾ˆå°‘è§ã€‚</li></ol><h1 id="DNSæœåŠ¡å™¨">2 DNSæœåŠ¡å™¨</h1><p><strong>åŸŸååˆ° IP åœ°å€çš„è§£ææ˜¯ç”±è‹¥å¹²ä¸ªåŸŸåæœåŠ¡å™¨ç¨‹åºå®Œæˆçš„</strong>ã€‚åŸŸåæœåŠ¡å™¨ç¨‹åºåœ¨ä¸“è®¾çš„ç»“ç‚¹ä¸Šè¿è¡Œï¼Œè¿è¡Œè¯¥ç¨‹åºçš„æœºå™¨ç§°ä¸ºåŸŸåæœåŠ¡å™¨ã€‚  </p><p>ä¸€ä¸ªæœåŠ¡å™¨æ‰€è´Ÿè´£ç®¡è¾–çš„ï¼ˆæˆ–æœ‰æƒé™çš„ï¼‰èŒƒå›´å«åšåŒº (zone)ã€‚å„å•ä½æ ¹æ®å…·ä½“æƒ…å†µæ¥åˆ’åˆ†è‡ªå·±ç®¡è¾–èŒƒå›´çš„åŒºã€‚ä½†åœ¨ä¸€ä¸ªåŒºä¸­çš„æ‰€æœ‰èŠ‚ç‚¹å¿…é¡»æ˜¯èƒ½å¤Ÿè¿é€šçš„ã€‚æ¯ä¸€ä¸ªåŒºè®¾ç½®ç›¸åº”çš„æƒé™åŸŸåæœåŠ¡å™¨ï¼Œç”¨æ¥ä¿å­˜è¯¥åŒºä¸­çš„æ‰€æœ‰ä¸»æœºçš„åŸŸååˆ° IP åœ°å€çš„æ˜ å°„ã€‚DNS æœåŠ¡å™¨çš„ç®¡è¾–èŒƒå›´ä¸æ˜¯ä»¥â€œåŸŸâ€ä¸ºå•ä½ï¼Œè€Œæ˜¯ä»¥â€œåŒºâ€ä¸ºå•ä½ã€‚  </p><p><img src="https://api.codetool.top/img/15868392791161.png" alt></p><p>åŸŸåæœåŠ¡å™¨æœ‰ä»¥ä¸‹å››ç§ç±»å‹ï¼š</p><ul><li>æ ¹åŸŸåæœåŠ¡å™¨ï¼šè¿”å›é¡¶çº§åŸŸ DNS æœåŠ¡å™¨çš„ IP åœ°å€</li><li>é¡¶çº§åŸŸåæœåŠ¡å™¨ï¼šè¿”å›æƒå¨ DNS æœåŠ¡å™¨çš„ IP åœ°å€</li><li>æƒé™ï¼ˆæƒå¨ï¼‰åŸŸåæœåŠ¡å™¨ï¼šè¿”å›ç›¸åº”ä¸»æœºçš„ IP åœ°å€</li><li>æœ¬åœ°åŸŸåæœåŠ¡å™¨ </li></ul><p><img src="https://api.codetool.top/img/15868398223943.png" alt></p><h2 id="æ ¹åŸŸåæœåŠ¡å™¨">2.1 æ ¹åŸŸåæœåŠ¡å™¨</h2><p>æ ¹åŸŸåæœåŠ¡å™¨æ˜¯æœ€é«˜å±‚æ¬¡çš„åŸŸåæœåŠ¡å™¨ï¼Œä¹Ÿæ˜¯æœ€é‡è¦çš„åŸŸåæœåŠ¡å™¨ã€‚<strong>æ‰€æœ‰çš„æ ¹åŸŸåæœåŠ¡å™¨éƒ½çŸ¥é“æ‰€æœ‰çš„é¡¶çº§åŸŸåæœåŠ¡å™¨çš„åŸŸåå’Œ IP åœ°å€ã€‚</strong></p><p>ä¸ç®¡æ˜¯å“ªä¸€ä¸ªæœ¬åœ°åŸŸåæœåŠ¡å™¨ï¼Œè‹¥è¦å¯¹äº’è”ç½‘ä¸Šä»»ä½•ä¸€ä¸ªåŸŸåè¿›è¡Œè§£æï¼Œåªè¦è‡ªå·±æ— æ³•è§£æï¼Œå°±é¦–å…ˆæ±‚åŠ©äºæ ¹åŸŸåæœåŠ¡å™¨ã€‚</p><p>åœ¨äº’è”ç½‘ä¸Šå…±æœ‰ 13 ä¸ªä¸åŒ IP åœ°å€çš„æ ¹åŸŸåæœåŠ¡å™¨ï¼Œå®ƒä»¬çš„åå­—æ˜¯ç”¨ä¸€ä¸ªè‹±æ–‡å­—æ¯å‘½åï¼Œä»aä¸€ç›´åˆ°mï¼ˆå‰ 13 ä¸ªå­—æ¯ï¼‰ï¼Œå®ƒä»¬åˆæœ‰æ•°ç™¾å°çš„é•œåƒï¼Œä¿è¯ä¸€å®šèƒ½å¤Ÿè¢«è®¿é—®åˆ°ã€‚</p><p>æ ¹åŸŸåæœåŠ¡å™¨å…±æœ‰ 13 å¥—è£…ç½®ï¼Œä¸æ˜¯ 13 ä¸ªæœºå™¨ã€‚è¿™äº›æ ¹åŸŸåæœåŠ¡å™¨ç›¸åº”çš„åŸŸååˆ†åˆ«æ˜¯ï¼š</p><pre><code>a.rootservers.netb.rootservers.netâ€¦ m.rootservers.net</code></pre><p>åˆ°2016å¹´2æœˆï¼Œå…¨ä¸–ç•Œå·²ç»åœ¨ 588 ä¸ªåœ°ç‚¹å®‰è£…äº†æ ¹åŸŸåæœåŠ¡å™¨ï¼Œä½¿ä¸–ç•Œä¸Šå¤§éƒ¨åˆ† DNS åŸŸåæœåŠ¡å™¨éƒ½èƒ½å°±è¿‘æ‰¾åˆ°ä¸€ä¸ªæ ¹åŸŸåæœåŠ¡å™¨ã€‚ </p><h2 id="é¡¶çº§åŸŸåæœåŠ¡å™¨">2.2 é¡¶çº§åŸŸåæœåŠ¡å™¨</h2><p>é¡¶çº§åŸŸåæœåŠ¡å™¨ï¼ˆå³ TLD æœåŠ¡å™¨ï¼‰è´Ÿè´£ç®¡ç†åœ¨è¯¥é¡¶çº§åŸŸåæœåŠ¡å™¨æ³¨å†Œçš„æ‰€æœ‰äºŒçº§åŸŸåã€‚</p><p>å½“æ”¶åˆ° DNS æŸ¥è¯¢è¯·æ±‚æ—¶ï¼Œå°±ç»™å‡ºç›¸åº”çš„å›ç­”ï¼ˆå¯èƒ½æ˜¯æœ€åçš„ç»“æœï¼Œä¹Ÿå¯èƒ½æ˜¯ä¸‹ä¸€æ­¥åº”å½“æ‰¾çš„åŸŸåæœåŠ¡å™¨çš„ IP åœ°å€ï¼‰ã€‚ </p><h2 id="æƒé™åŸŸåæœåŠ¡å™¨">2.3 æƒé™åŸŸåæœåŠ¡å™¨</h2><p>è´Ÿè´£ä¸€ä¸ªåŒºçš„åŸŸåæœåŠ¡å™¨ã€‚</p><p>å½“ä¸€ä¸ªæƒé™åŸŸåæœåŠ¡å™¨è¿˜ä¸èƒ½ç»™å‡ºæœ€åçš„æŸ¥è¯¢å›ç­”æ—¶ï¼Œå°±ä¼šå‘Šè¯‰å‘å‡ºæŸ¥è¯¢è¯·æ±‚çš„ DNS å®¢æˆ·ï¼Œä¸‹ä¸€æ­¥åº”å½“æ‰¾å“ªä¸€ä¸ªæƒé™åŸŸåæœåŠ¡å™¨ã€‚ </p><h2 id="æœ¬åœ°åŸŸåæœåŠ¡å™¨">2.4 æœ¬åœ°åŸŸåæœåŠ¡å™¨</h2><p>æœ¬åœ°åŸŸåæœåŠ¡å™¨å¯¹åŸŸåç³»ç»Ÿéå¸¸é‡è¦ã€‚</p><p>å½“ä¸€ä¸ªä¸»æœºå‘å‡º DNS æŸ¥è¯¢è¯·æ±‚æ—¶ï¼Œè¿™ä¸ªæŸ¥è¯¢è¯·æ±‚æŠ¥æ–‡å°±å‘é€ç»™æœ¬åœ°åŸŸåæœåŠ¡å™¨ã€‚</p><p>æ¯ä¸€ä¸ªäº’è”ç½‘æœåŠ¡æä¾›è€… ISPï¼Œæˆ–ä¸€ä¸ªå¤§å­¦ï¼Œç”šè‡³ä¸€ä¸ªå¤§å­¦é‡Œçš„ç³»ï¼Œéƒ½å¯ä»¥æ‹¥æœ‰ä¸€ä¸ªæœ¬åœ°åŸŸåæœåŠ¡å™¨ï¼Œè¿™ç§åŸŸåæœåŠ¡å™¨æœ‰æ—¶ä¹Ÿç§°ä¸ºé»˜è®¤åŸŸåæœåŠ¡å™¨ã€‚ </p><h1 id="åŸŸåçš„è§£æè¿‡ç¨‹">3 åŸŸåçš„è§£æè¿‡ç¨‹</h1><p><strong>ä¸»æœºå‘æœ¬åœ°åŸŸåæœåŠ¡å™¨çš„æŸ¥è¯¢ä¸€èˆ¬éƒ½æ˜¯é‡‡ç”¨é€’å½’æŸ¥è¯¢ã€‚</strong>å¦‚æœä¸»æœºæ‰€è¯¢é—®çš„æœ¬åœ°åŸŸåæœåŠ¡å™¨ä¸çŸ¥é“è¢«æŸ¥è¯¢åŸŸåçš„ IP åœ°å€ï¼Œé‚£ä¹ˆæœ¬åœ°åŸŸåæœåŠ¡å™¨å°±ä»¥ DNS å®¢æˆ·çš„èº«ä»½ï¼Œå‘å…¶ä»–æ ¹åŸŸåæœåŠ¡å™¨ç»§ç»­å‘å‡ºæŸ¥è¯¢è¯·æ±‚æŠ¥æ–‡ã€‚</p><p><img src="https://api.codetool.top/img/15868400281344.png" alt></p><p><strong>æœ¬åœ°åŸŸåæœåŠ¡å™¨å‘æ ¹åŸŸåæœåŠ¡å™¨çš„æŸ¥è¯¢é€šå¸¸æ˜¯é‡‡ç”¨è¿­ä»£æŸ¥è¯¢ã€‚</strong>å½“æ ¹åŸŸåæœåŠ¡å™¨æ”¶åˆ°æœ¬åœ°åŸŸåæœåŠ¡å™¨çš„è¿­ä»£æŸ¥è¯¢è¯·æ±‚æŠ¥æ–‡æ—¶ï¼Œè¦ä¹ˆç»™å‡ºæ‰€è¦æŸ¥è¯¢çš„ IP åœ°å€ï¼Œè¦ä¹ˆå‘Šè¯‰æœ¬åœ°åŸŸåæœåŠ¡å™¨ï¼šâ€œä½ ä¸‹ä¸€æ­¥åº”å½“å‘å“ªä¸€ä¸ªåŸŸåæœåŠ¡å™¨è¿›è¡ŒæŸ¥è¯¢â€ã€‚ç„¶åè®©æœ¬åœ°åŸŸåæœåŠ¡å™¨è¿›è¡Œåç»­çš„æŸ¥è¯¢ã€‚</p><p><img src="https://api.codetool.top/img/1586840043224.png" alt></p><h1 id="åŸŸåçš„é«˜é€Ÿç¼“å­˜">4 åŸŸåçš„é«˜é€Ÿç¼“å­˜</h1><p>æ¯ä¸ªåŸŸåæœåŠ¡å™¨éƒ½ç»´æŠ¤ä¸€ä¸ªé«˜é€Ÿç¼“å­˜ï¼Œå­˜æ”¾æœ€è¿‘ç”¨è¿‡çš„åå­—ä»¥åŠä»ä½•å¤„è·å¾—åå­—æ˜ å°„ä¿¡æ¯çš„è®°å½•ã€‚å¯å¤§å¤§å‡è½»æ ¹åŸŸåæœåŠ¡å™¨çš„è´Ÿè·ï¼Œä½¿äº’è”ç½‘ä¸Šçš„ DNS æŸ¥è¯¢è¯·æ±‚å’Œå›ç­”æŠ¥æ–‡çš„æ•°é‡å¤§ä¸ºå‡å°‘ã€‚ </p><p><strong>ä¸ºä¿æŒé«˜é€Ÿç¼“å­˜ä¸­çš„å†…å®¹æ­£ç¡®ï¼ŒåŸŸåæœåŠ¡å™¨åº”ä¸ºæ¯é¡¹å†…å®¹è®¾ç½®è®¡æ—¶å™¨ï¼Œå¹¶å¤„ç†è¶…è¿‡åˆç†æ—¶é—´çš„é¡¹</strong>ï¼ˆä¾‹å¦‚ï¼Œæ¯ä¸ªé¡¹ç›®åªå­˜æ”¾ä¸¤å¤©ï¼‰ã€‚</p><p>å½“æƒé™åŸŸåæœåŠ¡å™¨å›ç­”ä¸€ä¸ªæŸ¥è¯¢è¯·æ±‚æ—¶ï¼Œåœ¨å“åº”ä¸­éƒ½æŒ‡æ˜ç»‘å®šæœ‰æ•ˆå­˜åœ¨çš„æ—¶é—´å€¼ã€‚å¢åŠ æ­¤æ—¶é—´å€¼å¯å‡å°‘ç½‘ç»œå¼€é”€ï¼Œè€Œå‡å°‘æ­¤æ—¶é—´å€¼å¯æé«˜åŸŸåè½¬æ¢çš„å‡†ç¡®æ€§ã€‚ </p><p>å¦å¤–ï¼Œ<strong>æ“ä½œç³»ç»Ÿé‡Œä¹Ÿä¼šå¯¹ DNS è§£æç»“æœåšç¼“å­˜</strong>ï¼Œå¦‚æœä½ ä¹‹å‰è®¿é—®è¿‡â€œ<a href="http://www.apple.comâ€ï¼Œé‚£ä¹ˆä¸‹ä¸€æ¬¡åœ¨æµè§ˆå™¨é‡Œå†è¾“å…¥è¿™ä¸ªç½‘å€çš„æ—¶å€™å°±ä¸ä¼šå†è·‘åˆ°" target="_blank" rel="noopener">www.apple.comâ€ï¼Œé‚£ä¹ˆä¸‹ä¸€æ¬¡åœ¨æµè§ˆå™¨é‡Œå†è¾“å…¥è¿™ä¸ªç½‘å€çš„æ—¶å€™å°±ä¸ä¼šå†è·‘åˆ°</a> DNS é‚£é‡Œå»é—®äº†ï¼Œç›´æ¥åœ¨æ“ä½œç³»ç»Ÿé‡Œå°±å¯ä»¥æ‹¿åˆ° IP åœ°å€ã€‚</p><h1 id="hostsæ–‡ä»¶">5 hostsæ–‡ä»¶</h1><p>æ“ä½œç³»ç»Ÿé‡Œè¿˜æœ‰ä¸€ä¸ªç‰¹æ®Šçš„â€œä¸»æœºæ˜ å°„â€æ–‡ä»¶ï¼Œé€šå¸¸æ˜¯ä¸€ä¸ªå¯ç¼–è¾‘çš„æ–‡æœ¬ï¼Œåœ¨ Linux é‡Œæ˜¯<code>â€œ/etc/hostsâ€</code>ï¼Œåœ¨ Windows é‡Œæ˜¯<code>â€œC:\WINDOWS\system32\drivers\etc\hostsâ€</code>ï¼Œå¦‚æœæ“ä½œç³»ç»Ÿåœ¨ç¼“å­˜é‡Œæ‰¾ä¸åˆ° DNS è®°å½•ï¼Œå°±ä¼šæ‰¾è¿™ä¸ªæ–‡ä»¶ã€‚</p><h1 id="å‡ ç§åŸŸåè§£æç±»å‹">6 å‡ ç§åŸŸåè§£æç±»å‹</h1><h2 id="Aè®°å½•">6.1 Aè®°å½•</h2><p>æœ€ç®€å•æœ€å¸¸ç”¨ï¼Œæ·»åŠ è®°å½•æ—¶å€™å¡«å†™IPåœ°å€å³å¯ã€‚Aè®°å½•(Address)æ˜¯ç”¨æ¥<strong>æŒ‡å®šä¸»æœºåï¼ˆæˆ–åŸŸåï¼‰å¯¹åº”çš„IPåœ°å€è®°å½•ã€‚</strong>é€šè¿‡Aè®°å½•æ‚¨å¯ä»¥å°†è¯¥åŸŸåæŒ‡å‘åˆ°è‡ªå·±çš„ç½‘ç«™æœåŠ¡å™¨IPåœ°å€ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥è®¾ç½®æ‚¨åŸŸåçš„äºŒçº§åŸŸåã€‚ </p><h2 id="MXè®°å½•">6.2 MXè®°å½•</h2><p>æ˜¯<code>Mail Exchanger</code>çš„ç¼©å†™ï¼Œæ„æ€æ˜¯é‚®ä»¶äº¤æ¢è®°å½•ã€‚å®ƒ<strong>æŒ‡å‘ä¸€ä¸ªé‚®ä»¶æœåŠ¡å™¨ï¼Œç”¨äºç”µå­é‚®ä»¶ç³»ç»Ÿå‘é‚®ä»¶æ—¶æ ¹æ®æ”¶ä¿¡äººçš„åœ°å€åç¼€æ¥å®šä½é‚®ä»¶æœåŠ¡å™¨ã€‚</strong>ä¾‹å¦‚ï¼Œå½“Internetä¸Šçš„æŸç”¨æˆ·è¦å‘ä¸€å°ä¿¡ç»™ <a href="mailto:user@vipiis.com" target="_blank" rel="noopener">user@vipiis.com</a>æ—¶ï¼Œè¯¥ç”¨æˆ·çš„é‚®ä»¶ç³»ç»Ÿé€šè¿‡DNSæŸ¥æ‰¾vipiis.comè¿™ä¸ªåŸŸåçš„MXè®°å½•ï¼Œå¦‚æœMXè®°å½•å­˜åœ¨ï¼Œ ç”¨æˆ·è®¡ç®—æœºå°±å°†é‚®ä»¶å‘é€åˆ°MXè®°å½•æ‰€æŒ‡å®šçš„é‚®ä»¶æœåŠ¡å™¨ä¸Šã€‚ </p><h2 id="CNAMEè®°å½•">6.3 CNAMEè®°å½•</h2><p>ä¹Ÿè¢«ç§°ä¸ºåˆ«åè®°å½•ï¼Œ<strong>æ˜¯åŒçº¿æ™ºèƒ½è§£æå’Œä½¿ç”¨CDNåŠ é€Ÿå¿…é¡»ç”¨åˆ°çš„è§£ææ–¹æ³•</strong>ã€‚CNAMEè§£æé€šå¸¸æ˜¯ä¸€ä¸ªä¸‰çº§åŸŸååœ°å€ï¼Œæ‚¨å¯ä»¥åœ¨ä¸»æœºç®¡ç†åå°â€ç»‘å®šåŸŸåâ€ä½ç½®çœ‹åˆ°cnameè§£æåœ°å€çš„ä¿¡æ¯æç¤ºï¼Œä¸åŒæœåŠ¡å™¨ä¼šä½¿ç”¨ä¸åŒçš„cnameè§£æåœ°å€ã€‚<strong>é€šè¿‡cnameè§£æï¼Œå¯ä»¥è®©åŸŸåæ†ç»‘åˆ°å¤šä¸ªæœåŠ¡å™¨IPåœ°å€</strong>ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯cnameè§£æåœ°å€åé¢æœ‰ä¸ªè‹±æ–‡â€œ.â€ç¬¦å·ã€‚ </p><p>é€šå¸¸æ¥è¯´ï¼Œåˆ«åè§£æå¯ä»¥æä¾›æ›´å¤§çš„çµæ´»æ€§ï¼Œä¾¿äºç»Ÿä¸€ç®¡ç†ã€‚ä¸¾ä¸ªä¾‹å­æ¥è¯´ï¼Œå½“ä¸»æœºå› å„ç§å› ç´ çš„å½±å“éœ€è¦æ›´æ¢IPæ—¶ï¼Œå¦‚æœåŸŸååšäº†CNAMEè®°å½•ï¼Œå°±å¯ä»¥åŒæ—¶æ›´æ–°åˆ«åçš„è§£ææŒ‡å‘ï¼Œä¸ç”¨éœ€è¦è¿›è¡Œæ–°çš„è§£ææ“ä½œï¼Œä¹Ÿå°±æ˜¯è¯´å¯ä»¥åšåˆ°æ— ç¼æ›´æ¢IPï¼Œè¿™å¯¹å®é™…ä¸­IPçš„ç»´æŠ¤æ˜¯å¾ˆå®ç”¨çš„ã€‚è€Œä¸”å¯¹äºåŒçº¿ä¸»æœºæ¥è¯´ï¼Œç”µä¿¡å’Œè”é€šæœ‰ä¸åŒçš„æ¥å£å¯¹åº”ä¸åŒçš„IP,ç”±äºAè®°å½•åªèƒ½æŒ‡å‘ä¸€ä¸ªIP,è¿™æ—¶é‡‡ç”¨åˆ«åè§£æå°±å¯ä»¥å¾ˆå¥½çš„è§£å†³è¿™ä¸ªé—®é¢˜ã€‚å½“ç„¶äº†CNAMEè®°å½•ä¹Ÿå­˜åœ¨ä¸€å®šçš„ä¸è¶³ï¼Œå¾ˆå¤šäººè®¤ä¸ºä¸åŒçš„IPä¼šå¯¹ç½‘ç«™ä¼˜åŒ–äº§ç”Ÿä¸€å®šçš„å½±å“ï¼Œå½“æœç´¢å¼•æ“çˆ¬è™«æ¯æ¬¡çˆ¬è¡Œçš„æ—¶å€™ï¼ŒIPå˜åŒ–å®¹æ˜“è®©çˆ¬è™«äº§ç”Ÿç½‘ç«™ä¸ç¨³å®šçš„è¯¯è§£ã€‚ä¸è¿‡è§ä»è§æ™ºï¼Œåˆ°åº•å¥½ä¸å¥½è¿˜éœ€è¦è‡ªå·±å»åˆ¤æ–­ã€‚</p><h2 id="NSè®°å½•">6.4 NSè®°å½•</h2><p>æ˜¯åŸŸåDNSæœåŠ¡å™¨è®°å½•ï¼Œå…¨ç§°Name Serverè®°å½•ï¼Œ<strong>ç”¨æ¥æŒ‡å®šè¯¥åŸŸåç”±å“ªä¸ªDNSæœåŠ¡å™¨æ¥å¯¹æ‚¨çš„åŸŸåè¿›è¡Œè§£æã€‚</strong>æ‚¨æ³¨å†ŒåŸŸåæ—¶ï¼Œæ€»æœ‰é»˜è®¤çš„DNSæœåŠ¡å™¨ï¼Œæ¯ä¸ªæ³¨å†Œçš„åŸŸåéƒ½æ˜¯ç”±ä¸€ç»„DNSåŸŸåæœåŠ¡å™¨æ¥è§£æçš„ã€‚</p><h2 id="TXTè®°å½•">6.5 TXTè®°å½•</h2><p>ä¸€ç§æ–‡æœ¬è®°å½•ï¼Œä»…ç”¨äºå¯¹ä¸»æœºåæˆ–è€…åŸŸåçš„è®°å½•ä¿¡æ¯ï¼Œå¯¹è§£ææ— å®è´¨å½±å“ã€‚</p><h2 id="TTLå€¼">6.6 TTLå€¼</h2><p>å…¨ç§°æ˜¯â€œç”Ÿå­˜æ—¶é—´ï¼ˆTime To Live)â€ï¼Œç®€å•çš„è¯´å®ƒè¡¨ç¤ºDNSè®°å½•åœ¨DNSæœåŠ¡å™¨ä¸Šç¼“å­˜æ—¶é—´ã€‚é»˜è®¤å³å¯ã€‚ </p><h1 id="åŸºäºDNSçš„è´Ÿè½½å‡è¡¡">7 åŸºäºDNSçš„è´Ÿè½½å‡è¡¡</h1><p>è¿™é‡Œå…ˆè°ˆè°ˆä»€ä¹ˆæ˜¯å†…éƒ¨è´Ÿè½½å‡è¡¡ï¼ˆSLBï¼‰å’Œå…¨å±€è´Ÿè½½å‡è¡¡ï¼ˆGSLBï¼‰ï¼Ÿ</p><p>SLB(Server load balancing)æ˜¯<strong>å¯¹é›†ç¾¤å†…ç‰©ç†ä¸»æœºçš„è´Ÿè½½å‡è¡¡</strong>ï¼Œè€ŒGSLBæ˜¯<strong>å¯¹ç‰©ç†é›†ç¾¤çš„è´Ÿè½½å‡è¡¡ã€‚</strong>è¿™é‡Œçš„è´Ÿè½½å‡è¡¡å¯èƒ½ä¸åªæ˜¯ç®€å•çš„æµé‡å‡åŒ€åˆ†é…,è€Œæ˜¯ä¼šæ ¹æ®ç­–ç•¥çš„ä¸åŒå®ç°ä¸åŒåœºæ™¯çš„åº”ç”¨äº¤ä»˜ã€‚</p><p>GSLBæ˜¯ä¾èµ–äºç”¨æˆ·å’Œå®é™…éƒ¨ç½²ç¯å¢ƒçš„äº’è”ç½‘èµ„æºåˆ†å‘æŠ€æœ¯ï¼Œä¸åŒçš„ç›®çš„å¯¹åº”ç€ä¸€ç³»åˆ—ä¸åŒçš„æŠ€æœ¯å®ç°ã€‚</p><h2 id="å†…éƒ¨è´Ÿè½½å‡è¡¡">7.1 å†…éƒ¨è´Ÿè½½å‡è¡¡</h2><p>ä½¿ç”¨DNSå®ç°å†…éƒ¨è´Ÿè½½å‡è¡¡è¾ƒç®€å•ï¼Œç›´æ¥<strong>å°†åŸŸåè§£æåˆ°å¤šä¸ªIPåœ°å€</strong>ï¼Œä¸‹é¢æ˜¯åˆ©ç”¨DNSå·¥ä½œåŸç†å¤„ç†è´Ÿè½½å‡è¡¡çš„å·¥ä½œåŸç†å›¾ï¼š</p><p><img src="https://api.codetool.top/img/15868409833833.png" alt></p><p>ç”±ä¸Šå›¾å¯ä»¥çœ‹å‡ºï¼Œåœ¨DNSæœåŠ¡å™¨ä¸­åº”è¯¥é…ç½®äº†å¤šä¸ªAè®°å½•ï¼Œå¦‚ï¼š</p><pre><code>www.apusapp.com IN A 114.100.20.201;www.apusapp.com IN A 114.100.20.202;www.apusapp.com IN A 114.100.20.203;</code></pre><h2 id="å…¨å±€è´Ÿè½½å‡è¡¡">7.2 å…¨å±€è´Ÿè½½å‡è¡¡</h2><p>ä¸ºäº†ä¿è¯æˆ‘ä»¬çš„åº”ç”¨é«˜å¯ç”¨ï¼Œå¾€å¾€ä¼šéƒ¨ç½²åœ¨å¤šä¸ªæœºæˆ¿ï¼Œæ¯ä¸ªåœ°æ–¹éƒ½ä¼šæœ‰è‡ªå·±çš„ IP åœ°å€ã€‚å½“ç”¨æˆ·è®¿é—®æŸä¸ªåŸŸåçš„æ—¶å€™ï¼Œè¿™ä¸ª IP åœ°å€å¯ä»¥è½®è¯¢è®¿é—®å¤šä¸ªæ•°æ®ä¸­å¿ƒã€‚å¦‚æœä¸€ä¸ªæ•°æ®ä¸­å¿ƒå› ä¸ºæŸç§åŸå› æŒ‚äº†ï¼Œåªè¦åœ¨ DNS æœåŠ¡å™¨é‡Œé¢ï¼Œå°†è¿™ä¸ªæ•°æ®ä¸­å¿ƒå¯¹åº”çš„ IP åœ°å€åˆ é™¤ï¼Œå°±å¯ä»¥å®ç°ä¸€å®šçš„é«˜å¯ç”¨ã€‚</p><p>å¦å¤–ï¼Œæˆ‘ä»¬è‚¯å®šå¸Œæœ›åŒ—äº¬çš„ç”¨æˆ·è®¿é—®åŒ—äº¬çš„æ•°æ®ä¸­å¿ƒï¼Œä¸Šæµ·çš„ç”¨æˆ·è®¿é—®ä¸Šæµ·çš„æ•°æ®ä¸­å¿ƒï¼ˆå°±è¿‘è®¿é—®ï¼‰ï¼Œè¿™æ ·ï¼Œå®¢æˆ·ä½“éªŒå°±ä¼šéå¸¸å¥½ï¼Œè®¿é—®é€Ÿåº¦å°±ä¼šè¶…å¿«ã€‚</p><p>ä½¿ç”¨DNSå®ç°å…¨å±€è´Ÿè½½å‡è¡¡æ˜¯åœ¨DNSæœåŠ¡å™¨å…³è”GSLBè®¾å¤‡ï¼Œå®ƒé€šè¿‡è‡ªå®šä¹‰çš„ç­–ç•¥æ ¹æ®å®¢æˆ·IPåœ°ç†ä½ç½®ã€è¿è¥å•†ã€å¯ç”¨é›†ç¾¤ç­‰ä¿¡æ¯ä¸ºå®¢æˆ·åˆ†é…åˆé€‚çš„ä¸»æœºã€‚</p><p><img src="https://api.codetool.top/img/15868416855058.png" alt></p><h1 id="DNSåŠ«æŒ">8 DNSåŠ«æŒ</h1><p>åŸŸååŠ«æŒæ˜¯äº’è”ç½‘æ”»å‡»çš„ä¸€ç§æ–¹å¼ï¼Œé€šè¿‡æ”»å‡»åŸŸåè§£ææœåŠ¡å™¨ï¼ˆDNSï¼‰ï¼Œæˆ–ä¼ªé€ åŸŸåè§£ææœåŠ¡å™¨ï¼ˆDNSï¼‰çš„æ–¹æ³•ï¼Œ<strong>æŠŠç›®æ ‡ç½‘ç«™åŸŸåè§£æåˆ°é”™è¯¯çš„IPåœ°å€</strong>ä»è€Œå®ç°ç”¨æˆ·æ— æ³•è®¿é—®ç›®æ ‡ç½‘ç«™çš„ç›®çš„æˆ–è€…è“„æ„æˆ–æ¶æ„è¦æ±‚ç”¨æˆ·è®¿é—®æŒ‡å®šIPåœ°å€ï¼ˆç½‘ç«™ï¼‰çš„ç›®çš„ã€‚</p><p>å¦‚ä½•è§£å†³ï¼Ÿä½¿ç”¨å¯é çš„DNSæœåŠ¡ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;æœ¬æ–‡å‚è€ƒèµ„æºï¼š&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://blog.csdn.net/grace_yi/article/details/89419106&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;å…¨å±€è´Ÿè½½å‡è¡¡ï¼ˆGSLBï¼‰çš„å®ç°æ–¹æ¡ˆ_è¿ç»´_å¥”å‘äº‘è®¡
      
    
    </summary>
    
    
      <category term="è®¡ç®—æœºç›¸å…³" scheme="https://www.codetool.top/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%9B%B8%E5%85%B3/"/>
    
    
      <category term="è®¡ç®—æœºç½‘ç»œ" scheme="https://www.codetool.top/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"/>
    
  </entry>
  
  <entry>
    <title>leetcode445-ä¸¤æ•°ç›¸åŠ II</title>
    <link href="https://www.codetool.top/article/leetcode445-%E4%B8%A4%E6%95%B0%E7%9B%B8%E5%8A%A0II/"/>
    <id>https://www.codetool.top/article/leetcode445-ä¸¤æ•°ç›¸åŠ II/</id>
    <published>2020-04-14T02:42:43.000Z</published>
    <updated>2020-04-14T05:24:08.122Z</updated>
    
    <content type="html"><![CDATA[<h1 id="åŸé¢˜">1 åŸé¢˜</h1><p>ç»™ä½ ä¸¤ä¸ª <strong>éç©º</strong> é“¾è¡¨æ¥ä»£è¡¨ä¸¤ä¸ªéè´Ÿæ•´æ•°ã€‚æ•°å­—æœ€é«˜ä½ä½äºé“¾è¡¨å¼€å§‹ä½ç½®ã€‚å®ƒä»¬çš„æ¯ä¸ªèŠ‚ç‚¹åªå­˜å‚¨ä¸€ä½æ•°å­—ã€‚å°†è¿™ä¸¤æ•°ç›¸åŠ ä¼šè¿”å›ä¸€ä¸ªæ–°çš„é“¾è¡¨ã€‚</p><p>ä½ å¯ä»¥å‡è®¾é™¤äº†æ•°å­— 0 ä¹‹å¤–ï¼Œè¿™ä¸¤ä¸ªæ•°å­—éƒ½ä¸ä¼šä»¥é›¶å¼€å¤´ã€‚</p><p><strong>è¿›é˜¶ï¼š</strong></p><p>å¦‚æœè¾“å…¥é“¾è¡¨ä¸èƒ½ä¿®æ”¹è¯¥å¦‚ä½•å¤„ç†ï¼Ÿæ¢å¥è¯è¯´ï¼Œä½ ä¸èƒ½å¯¹åˆ—è¡¨ä¸­çš„èŠ‚ç‚¹è¿›è¡Œç¿»è½¬ã€‚</p><p><strong>ç¤ºä¾‹:</strong></p><blockquote><p><strong>è¾“å…¥:</strong> (7 -&gt; 2 -&gt; 4 -&gt; 3) + (5 -&gt; 6 -&gt; 4)<br><strong>è¾“å‡º:</strong> 7 -&gt; 8 -&gt; 0 -&gt; 7  </p></blockquote><h1 id="è§£æ³•">2 è§£æ³•</h1><h2 id="æ€æƒ³">2.1 æ€æƒ³</h2><p>æ ˆ</p><h2 id="ä»£ç ">2.2 ä»£ç </h2><pre class=" language-java"><code class="language-java"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> ListNode <span class="token function">addTwoNumbers</span><span class="token punctuation">(</span>ListNode l1<span class="token punctuation">,</span> ListNode l2<span class="token punctuation">)</span> <span class="token punctuation">{</span>        ListNode head <span class="token operator">=</span> null<span class="token punctuation">;</span>        Stack<span class="token operator">&lt;</span>Integer<span class="token operator">></span> stack1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Stack</span><span class="token operator">&lt;</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        Stack<span class="token operator">&lt;</span>Integer<span class="token operator">></span> stack2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Stack</span><span class="token operator">&lt;</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">while</span><span class="token punctuation">(</span>l1<span class="token operator">!=</span>null<span class="token punctuation">)</span><span class="token punctuation">{</span>            stack1<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>l1<span class="token punctuation">.</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>            l1 <span class="token operator">=</span> l1<span class="token punctuation">.</span>next<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">while</span><span class="token punctuation">(</span>l2<span class="token operator">!=</span>null<span class="token punctuation">)</span><span class="token punctuation">{</span>            stack2<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>l2<span class="token punctuation">.</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>            l2 <span class="token operator">=</span> l2<span class="token punctuation">.</span>next<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">int</span> val1<span class="token punctuation">,</span>val2<span class="token punctuation">,</span>sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> carry <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token operator">!</span>stack1<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token operator">!</span>stack2<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">||</span> carry <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            val1 <span class="token operator">=</span> stack1<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token number">0</span><span class="token operator">:</span>stack1<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            val2 <span class="token operator">=</span> stack2<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token number">0</span><span class="token operator">:</span>stack2<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            sum <span class="token operator">=</span> val1<span class="token operator">+</span>val2<span class="token operator">+</span>carry<span class="token punctuation">;</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>sum<span class="token operator">>=</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                carry <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>                sum <span class="token operator">-=</span> <span class="token number">10</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span><span class="token keyword">else</span> carry <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>            ListNode node <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ListNode</span><span class="token punctuation">(</span>sum<span class="token punctuation">)</span><span class="token punctuation">;</span>            node<span class="token punctuation">.</span>next <span class="token operator">=</span> head<span class="token punctuation">;</span>            head <span class="token operator">=</span> node<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> head<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;åŸé¢˜&quot;&gt;1 åŸé¢˜&lt;/h1&gt;&lt;p&gt;ç»™ä½ ä¸¤ä¸ª &lt;strong&gt;éç©º&lt;/strong&gt; é“¾è¡¨æ¥ä»£è¡¨ä¸¤ä¸ªéè´Ÿæ•´æ•°ã€‚æ•°å­—æœ€é«˜ä½ä½äºé“¾è¡¨å¼€å§‹ä½ç½®ã€‚å®ƒä»¬çš„æ¯ä¸ªèŠ‚ç‚¹åªå­˜å‚¨ä¸€ä½æ•°å­—ã€‚å°†è¿™ä¸¤æ•°ç›¸åŠ ä¼šè¿”å›ä¸€ä¸ªæ–°çš„é“¾è¡¨ã€‚&lt;/p&gt;
&lt;p&gt;ä½ å¯ä»¥å‡è®¾é™¤äº†æ•°å­— 0 ä¹‹å¤–ï¼Œè¿™ä¸¤ä¸ªæ•°å­—éƒ½ä¸ä¼šä»¥é›¶å¼€
      
    
    </summary>
    
    
      <category term="ç®—æ³•/æ•°æ®ç»“æ„" scheme="https://www.codetool.top/categories/%E7%AE%97%E6%B3%95-%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"/>
    
    
      <category term="leetcode" scheme="https://www.codetool.top/tags/leetcode/"/>
    
      <category term="ç®—æ³•" scheme="https://www.codetool.top/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>HTTPç‰ˆæœ¬å‘å±•ä¸Googleçš„æš—ä¸­åŠ©åŠ›</title>
    <link href="https://www.codetool.top/article/HTTP%E7%89%88%E6%9C%AC%E5%8F%91%E5%B1%95%E4%B8%8EGoogle%E7%9A%84%E6%9A%97%E4%B8%AD%E5%8A%A9%E5%8A%9B/"/>
    <id>https://www.codetool.top/article/HTTPç‰ˆæœ¬å‘å±•ä¸Googleçš„æš—ä¸­åŠ©åŠ›/</id>
    <published>2020-04-13T06:57:58.000Z</published>
    <updated>2020-04-16T15:27:47.266Z</updated>
    
    <content type="html"><![CDATA[<p>æœ¬æ–‡å‚è€ƒèµ„æºï¼š</p><p><a href="https://www.cnblogs.com/hanxuming/p/8026206.html" target="_blank" rel="noopener">httpåè®®å†å² - æ‰¿è½½æ¢¦æƒ³-éŸ©æ—­æ˜ - åšå®¢å›­</a></p><p><a href="https://www.cnblogs.com/wupeixuan/p/8642100.html" target="_blank" rel="noopener">HTTP 0.9 HTTP 1.0 HTTP 1.1 HTTP 2.0åŒºåˆ« - æ­¦åŸ¹è½© - åšå®¢å›­</a></p><p><a href="https://segmentfault.com/a/1190000013028798?utm_source=tag-newest" target="_blank" rel="noopener">HTTP1.0 HTTP1.1 HTTP2.0 ä¸»è¦ç‰¹æ€§å¯¹æ¯” - å‰ç«¯ç¢ç¢å¿µ - SegmentFault æ€å¦</a></p><p><a href="http://www.52im.net/thread-1309-1-1.html" target="_blank" rel="noopener">æŠ€æœ¯æ‰«ç›²ï¼šæ–°ä¸€ä»£åŸºäºUDPçš„ä½å»¶æ—¶ç½‘ç»œä¼ è¾“å±‚åè®®â€”â€”QUICè¯¦è§£-ç½‘ç»œç¼–ç¨‹/ä¸“é¡¹æŠ€æœ¯åŒº - å³æ—¶é€šè®¯å¼€å‘è€…ç¤¾åŒº!</a></p><p>æå®¢æ—¶é—´ã€Šé€è§†HTTPåè®®ã€‹è¯¾ç¨‹</p><h1 id="HTTPåè®®æ¦‚è¿°">1 HTTPåè®®æ¦‚è¿°</h1><p>HTTPï¼ˆHyperText Transfer Protocolï¼‰æ˜¯ä¸€ä¸ªç®€å•çš„è¯·æ±‚-å“åº”åè®®ï¼Œå®ƒé€šå¸¸è¿è¡Œåœ¨TCPä¹‹ä¸Šã€‚æœ€åˆè®¾æƒ³çš„åŸºæœ¬ç†å¿µæ˜¯ï¼šå€ŸåŠ©å¤šæ–‡æ¡£ä¹‹é—´ç›¸äº’å…³è”å½¢æˆçš„è¶…æ–‡æœ¬ï¼ˆHyperTextï¼‰ï¼Œè¿æˆå¯ç›¸äº’å‚é˜…çš„ WWWï¼ˆWorld Wide Webï¼Œ ä¸‡ç»´ç½‘ï¼‰</p><p>HTTPçš„å‘å±•æ˜¯ç”±è’‚å§†Â·ä¼¯çº³æ–¯-æäº1989å¹´åœ¨æ¬§æ´²æ ¸å­ç ”ç©¶ç»„ç»‡ï¼ˆCERNï¼‰æ‰€å‘èµ·ã€‚ä»–æå‡ºä¸‡ç»´ç½‘çš„æ ¸å¿ƒæ¦‚å¿µæœ‰ï¼š</p><ul><li>URIï¼šå³ç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦ï¼Œä½œä¸ºäº’è”ç½‘ä¸Šèµ„æºçš„å”¯ä¸€èº«ä»½</li><li>HTMLï¼šå³è¶…æ–‡æœ¬æ ‡è®°è¯­è¨€ï¼Œæè¿°è¶…æ–‡æœ¬æ–‡æ¡£</li><li>HTTPï¼šå³è¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼Œç”¨æ¥ä¼ è¾“è¶…æ–‡æœ¬ã€‚</li></ul><h1 id="HTTPç‰ˆæœ¬å®¡è§†">2 HTTPç‰ˆæœ¬å®¡è§†</h1><h2 id="HTTP-0-9">2.1 HTTP/0.9</h2><p>20 ä¸–çºª 90 å¹´ä»£åˆæœŸçš„äº’è”ç½‘ä¸–ç•Œéå¸¸ç®€é™‹ï¼Œè®¡ç®—æœºå¤„ç†èƒ½åŠ›ä½ï¼Œå­˜å‚¨å®¹é‡å°ï¼Œç½‘é€Ÿå¾ˆæ…¢ï¼Œè¿˜æ˜¯ä¸€ç‰‡â€œä¿¡æ¯è’æ¼ â€ã€‚ç½‘ç»œä¸Šç»å¤§å¤šæ•°çš„èµ„æºéƒ½æ˜¯<strong>çº¯æ–‡æœ¬</strong>ï¼Œå¾ˆå¤šé€šä¿¡åè®®ä¹Ÿéƒ½ä½¿ç”¨çº¯æ–‡æœ¬ï¼Œæ‰€ä»¥ HTTP çš„è®¾è®¡ä¹Ÿä¸å¯é¿å…åœ°å—åˆ°äº†æ—¶ä»£çš„é™åˆ¶ã€‚</p><p>è¿™ä¸€æ—¶æœŸçš„ HTTP è¢«å®šä¹‰ä¸º 0.9 ç‰ˆï¼Œç»“æ„æ¯”è¾ƒç®€å•ï¼Œä¸ºäº†ä¾¿äºæœåŠ¡å™¨å’Œå®¢æˆ·ç«¯å¤„ç†ï¼Œå®ƒä¹Ÿé‡‡ç”¨äº†çº¯æ–‡æœ¬æ ¼å¼ã€‚è’‚å§†Â·ä¼¯çº³æ–¯-ææœ€åˆè®¾æƒ³çš„ç³»ç»Ÿé‡Œçš„æ–‡æ¡£éƒ½æ˜¯åªè¯»çš„ï¼Œæ‰€ä»¥<strong>åªå…è®¸ç”¨â€œGETâ€åŠ¨ä½œä»æœåŠ¡å™¨ä¸Šè·å– HTML æ–‡æ¡£ï¼ˆä¸èƒ½æ˜¯å…¶ä»–æ ¼å¼ï¼‰ï¼Œå¹¶ä¸”åœ¨å“åº”è¯·æ±‚ä¹‹åç«‹å³å…³é—­è¿æ¥</strong>ï¼ŒåŠŸèƒ½éå¸¸æœ‰é™ã€‚</p><p>è¿™ä¸ªæ—¶æœŸçš„HTTPå¹¶æ²¡æœ‰ä½œä¸ºæ­£å¼çš„æ ‡å‡†è¢«å»ºç«‹ã€‚HTTP/0.9å…·æœ‰å…¸å‹çš„æ— çŠ¶æ€æ€§ï¼Œæ¯ä¸ªäº‹åŠ¡ç‹¬ç«‹è¿›è¡Œå¤„ç†ï¼Œäº‹åŠ¡ç»“æŸæ—¶å°±é‡Šæ”¾è¿™ä¸ªè¿æ¥ã€‚ç”±æ­¤å¯è§ï¼ŒHTTPåè®®çš„æ— çŠ¶æ€ç‰¹ç‚¹åœ¨å…¶ç¬¬ä¸€ä¸ªç‰ˆæœ¬0.9ä¸­å·²ç»æˆå‹ã€‚ä¸€æ¬¡HTTP/0.9çš„ä¼ è¾“é¦–å…ˆè¦å»ºç«‹ä¸€ä¸ªç”±å®¢æˆ·ç«¯åˆ°WebæœåŠ¡å™¨çš„TCPè¿æ¥ï¼Œç”±å®¢æˆ·ç«¯å‘èµ·ä¸€ä¸ªè¯·æ±‚ï¼Œç„¶åç”±WebæœåŠ¡å™¨è¿”å›é¡µé¢å†…å®¹ï¼Œç„¶åè¿æ¥ä¼šå…³é—­ã€‚å¦‚æœè¯·æ±‚çš„é¡µé¢ä¸å­˜åœ¨ï¼Œä¹Ÿä¸ä¼šè¿”å›ä»»ä½•é”™è¯¯ç ã€‚</p><h2 id="HTTP-1-0">2.2 HTTP/1.0</h2><p>1993 å¹´ï¼ŒNCSAï¼ˆç¾å›½å›½å®¶è¶…çº§è®¡ç®—åº”ç”¨ä¸­å¿ƒï¼‰å¼€å‘å‡ºäº† Mosaicï¼Œæ˜¯ç¬¬ä¸€ä¸ªå¯ä»¥å›¾æ–‡æ··æ’çš„æµè§ˆå™¨ï¼Œéšååˆåœ¨ 1995 å¹´å¼€å‘å‡ºäº†æœåŠ¡å™¨è½¯ä»¶ Apacheï¼Œç®€åŒ–äº† HTTP æœåŠ¡å™¨çš„æ­å»ºå·¥ä½œã€‚åŒä¸€æ—¶æœŸï¼Œè®¡ç®—æœºå¤šåª’ä½“æŠ€æœ¯ä¹Ÿæœ‰äº†æ–°çš„å‘å±•ã€‚è¿™äº›æ–°è½¯ä»¶æ–°æŠ€æœ¯ä¸€ç»æ¨å‡ºç«‹åˆ»å°±å¸å¼•äº†å¹¿å¤§ç½‘æ°‘çš„çƒ­æƒ…ï¼Œæ›´å¤šçš„äººå¼€å§‹ä½¿ç”¨äº’è”ç½‘ï¼Œç ”ç©¶ HTTP å¹¶æå‡ºæ”¹è¿›æ„è§ï¼Œç”šè‡³å®éªŒæ€§åœ°å¾€åè®®é‡Œæ·»åŠ å„ç§ç‰¹æ€§ï¼Œä»ç”¨æˆ·éœ€æ±‚çš„è§’åº¦ä¿ƒè¿›äº† HTTP çš„å‘å±•ã€‚</p><p>äºæ˜¯åœ¨è¿™äº›å·²æœ‰å®è·µçš„åŸºç¡€ä¸Šï¼Œç»è¿‡ä¸€ç³»åˆ—çš„è‰æ¡ˆï¼ŒHTTP/1.0 ç‰ˆæœ¬åœ¨1996å¹´çš„5æœˆæ­£å¼å‘å¸ƒï¼Œå¹¶è®°è½½äºRFC1945ã€‚è™½ç„¶è¯´æ˜¯åˆæœŸæ ‡å‡†ï¼Œä½†è¯¥åè®®æ ‡å‡†è‡³ä»Šä»è¢«ä½¿ç”¨åœ¨æœåŠ¡å™¨ç«¯ã€‚å®ƒåœ¨å¤šæ–¹é¢å¢å¼ºäº† 0.9 ç‰ˆï¼Œå½¢å¼ä¸Šå·²ç»å’Œæˆ‘ä»¬ç°åœ¨çš„ HTTP å·®åˆ«ä¸å¤§äº†ï¼Œç‰¹ç‚¹æœ‰ï¼š</p><ul><li>ä»»ä½•æ ¼å¼çš„å†…å®¹éƒ½å¯ä»¥å‘é€ã€‚è¿™ä½¿å¾—äº’è”ç½‘ä¸ä»…å¯ä»¥ä¼ è¾“æ–‡å­—ï¼Œè¿˜èƒ½ä¼ è¾“å›¾åƒã€è§†é¢‘ã€äºŒè¿›åˆ¶æ–‡ä»¶ã€‚è¿™ä¸ºäº’è”ç½‘çš„å¤§å‘å±•å¥ å®šäº†åŸºç¡€ã€‚</li><li>é™¤äº†GETå‘½ä»¤ï¼Œè¿˜å¼•å…¥äº†POSTå‘½ä»¤å’ŒHEADå‘½ä»¤ï¼Œä¸°å¯Œäº†æµè§ˆå™¨ä¸æœåŠ¡å™¨çš„äº’åŠ¨æ‰‹æ®µ</li><li>å¢åŠ äº†å“åº”çŠ¶æ€ç ï¼Œæ ‡è®°å¯èƒ½çš„é”™è¯¯åŸå› </li><li>å¼•å…¥äº†åè®®ç‰ˆæœ¬å·æ¦‚å¿µ</li><li>å¼•å…¥äº† HTTP Headerï¼ˆå¤´éƒ¨ï¼‰çš„æ¦‚å¿µï¼Œè®© HTTP å¤„ç†è¯·æ±‚å’Œå“åº”æ›´åŠ çµæ´»</li><li>å…¶ä»–è¿˜æœ‰æ”¯æŒé•¿è¿æ¥ï¼ˆä½¿ç”¨<code>Connection: keep-alive</code>ï¼Œä½†é»˜è®¤è¿˜æ˜¯ä½¿ç”¨çŸ­è¿æ¥ï¼‰ï¼Œç¼“å­˜æœºåˆ¶ï¼Œä»¥åŠèº«ä»½è®¤è¯ç­‰</li></ul><p>HTTP/1.0çš„ä¸è¶³ï¼š</p><p>HTTP1.0è§„å®šæµè§ˆå™¨å’ŒæœåŠ¡å™¨ä¿æŒçŸ­æš‚çš„è¿æ¥ï¼Œ<strong>æµè§ˆå™¨çš„æ¯æ¬¡è¯·æ±‚éƒ½éœ€è¦ä¸æœåŠ¡å™¨å»ºç«‹ä¸€ä¸ªTCPè¿æ¥ï¼ŒæœåŠ¡å™¨å¤„ç†å®Œæˆåç«‹å³æ–­å¼€TCPè¿æ¥ï¼ˆæ— è¿æ¥ï¼‰ï¼Œæ— æ³•å¤ç”¨è¿æ¥</strong>ï¼ŒæœåŠ¡å™¨ä¸è·Ÿè¸ªæ¯ä¸ªå®¢æˆ·ç«¯ä¹Ÿä¸è®°å½•è¿‡å»çš„è¯·æ±‚ï¼ˆæ— çŠ¶æ€ï¼‰ã€‚ç„¶è€ŒTCPè¿æ¥çš„æ–°å»ºæˆæœ¬å¾ˆé«˜ï¼Œå› ä¸ºéœ€è¦å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¸‰æ¬¡æ¡æ‰‹ï¼Œå¹¶ä¸”å¼€å§‹æ—¶å‘é€é€Ÿç‡è¾ƒæ…¢ï¼ˆslow startï¼‰ã€‚æ‰€ä»¥ï¼ŒHTTP 1.0ç‰ˆæœ¬çš„æ€§èƒ½æ¯”è¾ƒå·®ã€‚éšç€ç½‘é¡µåŠ è½½çš„å¤–éƒ¨èµ„æºè¶Šæ¥è¶Šå¤šï¼Œè¿™ä¸ªé—®é¢˜å°±æ„ˆå‘çªå‡ºäº†ã€‚</p><p>å…¶æ¬¡å°±æ˜¯é˜Ÿå¤´é˜»å¡ï¼ˆhead of line blockingï¼‰ã€‚ç”±äºHTTP1.0è§„å®šä¸‹ä¸€ä¸ªè¯·æ±‚å¿…é¡»åœ¨å‰ä¸€ä¸ªè¯·æ±‚å“åº”åˆ°è¾¾ä¹‹å‰æ‰èƒ½å‘é€ã€‚å‡è®¾å‰ä¸€ä¸ªè¯·æ±‚å“åº”ä¸€ç›´ä¸åˆ°è¾¾ï¼Œé‚£ä¹ˆä¸‹ä¸€ä¸ªè¯·æ±‚å°±ä¸å‘é€ï¼ŒåŒæ ·çš„åé¢çš„è¯·æ±‚ä¹Ÿç»™é˜»å¡äº†ã€‚</p><p>ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜ï¼ŒHTTP1.1å‡ºç°äº†ã€‚</p><h2 id="HTTP-1-1">2.3 HTTP/1.1</h2><p>1997å¹´å…¬å¸ƒçš„HTTP/1.1æ˜¯ç›®å‰ä¸»æµçš„HTTPåè®®ç‰ˆæœ¬ã€‚ä¹‹å‰çš„æ ‡å‡†æ˜¯RFC2068ï¼Œä¹‹ååˆå‘å¸ƒäº†ä¿®è®¢ç‰ˆRFC2616ã€‚</p><p>è¿™ä¸ªæ—¶æœŸå¼€å§‹ï¼ŒHTTPåè®®å·²ç»æˆä¸ºäº†ä¸€ä»½æ­£å¼çš„æ ‡å‡†â€ï¼Œè€Œä¸æ˜¯ä¸€ä»½å¯æœ‰å¯æ— çš„â€œå‚è€ƒæ–‡æ¡£â€ã€‚è¿™æ„å‘³ç€ä»Šåäº’è”ç½‘ä¸Šæ‰€æœ‰çš„æµè§ˆå™¨ã€æœåŠ¡å™¨ã€ç½‘å…³ã€ä»£ç†ç­‰ç­‰ï¼Œåªè¦ç”¨åˆ° HTTP åè®®ï¼Œå°±å¿…é¡»ä¸¥æ ¼éµå®ˆè¿™ä¸ªæ ‡å‡†ï¼Œç›¸å½“äºæ˜¯äº’è”ç½‘ä¸–ç•Œçš„ä¸€ä¸ªâ€œç«‹æ³•â€ã€‚</p><p>HTTP/1.1çš„ç‰¹ç‚¹æœ‰ï¼š</p><ul><li>å¼•å…¥äº†æŒä¹…è¿æ¥ï¼ˆpersistent connectionï¼‰ï¼Œå³<strong>TCPè¿æ¥é»˜è®¤ä¸å…³é—­ï¼Œå¯ä»¥è¢«å¤šä¸ªè¯·æ±‚å¤ç”¨ï¼Œé»˜è®¤ä½¿ç”¨<code>Connection: keep-alive</code>ã€‚</strong>å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨å‘ç°å¯¹æ–¹ä¸€æ®µæ—¶é—´æ²¡æœ‰æ´»åŠ¨ï¼Œå°±å¯ä»¥ä¸»åŠ¨å…³é—­è¿æ¥ã€‚ä¸è¿‡ï¼Œè§„èŒƒçš„åšæ³•æ˜¯ï¼Œå®¢æˆ·ç«¯åœ¨æœ€åä¸€ä¸ªè¯·æ±‚æ—¶ï¼Œå‘é€<code>Connection: close</code>ï¼Œæ˜ç¡®è¦æ±‚æœåŠ¡å™¨å…³é—­TCPè¿æ¥</li><li>å¼•å…¥äº†ç®¡é“æœºåˆ¶ï¼ˆpipeliningï¼‰ï¼Œå³<strong>åœ¨åŒä¸€ä¸ªTCPè¿æ¥é‡Œé¢ï¼Œå®¢æˆ·ç«¯å¯ä»¥åŒæ—¶å‘é€å¤šä¸ªè¯·æ±‚ã€‚è¿™æ ·å°±è¿›ä¸€æ­¥æ”¹è¿›äº†HTTPåè®®çš„æ•ˆç‡ã€‚</strong>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ<strong>æœåŠ¡å™¨å¿…é¡»æŒ‰ç…§å®¢æˆ·ç«¯è¯·æ±‚çš„å…ˆåé¡ºåºä¾æ¬¡å›é€ç›¸åº”çš„ç»“æœï¼Œä»¥ä¿è¯å®¢æˆ·ç«¯èƒ½å¤ŸåŒºåˆ†å‡ºæ¯æ¬¡è¯·æ±‚çš„å“åº”å†…å®¹ã€‚</strong>è€Œè¿™ä¸ªå“åº”è¿‡ç¨‹æ˜¯ä¸²è¡Œçš„ã€‚</li><li>æ–°å¢äº†è®¸å¤šåŠ¨è¯æ–¹æ³•ï¼šPUTã€PATCHã€HEADã€ OPTIONSã€DELETEã€‚å¦å¤–ï¼Œå®¢æˆ·ç«¯è¯·æ±‚çš„å¤´ä¿¡æ¯æ–°å¢äº†Hostå­—æ®µï¼Œç”¨æ¥æŒ‡å®šæœåŠ¡å™¨çš„åŸŸå</li><li>å¢åŠ äº†ç¼“å­˜ç®¡ç†å’Œæ§åˆ¶ï¼›</li><li>å…è®¸å“åº”æ•°æ®åˆ†å—ï¼ˆchunkedï¼‰ï¼Œåˆ©äºä¼ è¾“å¤§æ–‡ä»¶ã€‚å¯¹äºä¸€äº›å¾ˆè€—æ—¶çš„åŠ¨æ€æ“ä½œï¼ŒæœåŠ¡å™¨éœ€è¦ç­‰åˆ°æ‰€æœ‰æ“ä½œå®Œæˆï¼Œæ‰èƒ½å‘é€æ•°æ®ï¼Œæ˜¾ç„¶è¿™æ ·çš„æ•ˆç‡ä¸é«˜ã€‚æ›´å¥½çš„å¤„ç†æ–¹æ³•æ˜¯ï¼Œäº§ç”Ÿä¸€å—æ•°æ®ï¼Œå°±å‘é€ä¸€å—ï¼Œé‡‡ç”¨â€æµæ¨¡å¼â€ï¼ˆstreamï¼‰å–ä»£â€ç¼“å­˜æ¨¡å¼â€ï¼ˆbufferï¼‰</li><li>å¼ºåˆ¶è¦æ±‚ Host å¤´ï¼Œè®©äº’è”ç½‘ä¸»æœºæ‰˜ç®¡æˆä¸ºå¯èƒ½ã€‚</li><li>æä¾›äº†èŒƒå›´è¯·æ±‚åŠŸèƒ½(å®½å¸¦ä¼˜åŒ–)ï¼šHTTP1.0ä¸­ï¼Œå­˜åœ¨ä¸€äº›æµªè´¹å¸¦å®½çš„ç°è±¡ï¼Œä¾‹å¦‚å®¢æˆ·ç«¯åªæ˜¯éœ€è¦æŸä¸ªå¯¹è±¡çš„ä¸€éƒ¨åˆ†ï¼Œè€ŒæœåŠ¡å™¨å´å°†æ•´ä¸ªå¯¹è±¡é€è¿‡æ¥äº†ï¼Œå¹¶ä¸”ä¸æ”¯æŒæ–­ç‚¹ç»­ä¼ åŠŸèƒ½ï¼Œ<strong>HTTP1.1åˆ™åœ¨è¯·æ±‚å¤´å¼•å…¥äº†rangeå¤´åŸŸï¼Œå®ƒå…è®¸åªè¯·æ±‚èµ„æºçš„æŸä¸ªéƒ¨åˆ†ï¼Œå³è¿”å›ç æ˜¯206ï¼ˆPartial Contentï¼‰ï¼Œè¿™æ ·å°±æ–¹ä¾¿äº†å¼€å‘è€…è‡ªç”±çš„é€‰æ‹©ä»¥ä¾¿äºå……åˆ†åˆ©ç”¨å¸¦å®½å’Œè¿æ¥ã€‚è¿™æ˜¯æ”¯æŒæ–‡ä»¶æ–­ç‚¹ç»­ä¼ çš„åŸºç¡€ã€‚</strong></li></ul><p>HTTP/1.1çš„ä¸è¶³ï¼š</p><p>è™½ç„¶1.1ç‰ˆå…è®¸å¤ç”¨TCPè¿æ¥ï¼Œä½†é˜Ÿå¤´é˜»å¡çš„é—®é¢˜ä»å­˜åœ¨ï¼ŒæœåŠ¡å™¨åªæœ‰å¤„ç†å®Œä¸€ä¸ªå›åº”ï¼Œæ‰ä¼šè¿›è¡Œä¸‹ä¸€ä¸ªå›åº”ã€‚è¦æ˜¯å‰é¢çš„å›åº”ç‰¹åˆ«æ…¢ï¼Œåé¢å°±ä¼šæœ‰è®¸å¤šè¯·æ±‚æ’é˜Ÿç­‰ç€ã€‚</p><p>ä¸ºäº†é¿å…è¿™ä¸ªé—®é¢˜ï¼Œåªæœ‰ä¸¤ç§æ–¹æ³•ï¼šä¸€æ˜¯å‡å°‘è¯·æ±‚æ•°ï¼ŒäºŒæ˜¯åŒæ—¶å¤šå¼€æŒä¹…è¿æ¥ï¼ˆå¹¶å‘è¿æ¥ï¼‰ã€‚è¿™å¯¼è‡´äº†å¾ˆå¤šçš„ç½‘é¡µä¼˜åŒ–æŠ€å·§ï¼Œæ¯”å¦‚<strong>åˆå¹¶è„šæœ¬å’Œæ ·å¼è¡¨ã€å°†å›¾ç‰‡åµŒå…¥CSSä»£ç ã€åŸŸååˆ†ç‰‡ï¼ˆdomain shardingï¼‰</strong>ç­‰ç­‰ã€‚å¦‚æœHTTPåè®®è®¾è®¡å¾—æ›´å¥½ä¸€äº›ï¼Œè¿™äº›é¢å¤–çš„å·¥ä½œæ˜¯å¯ä»¥é¿å…çš„ã€‚</p><h2 id="SPDYåè®®ä¸HTTP-2">2.4 SPDYåè®®ä¸HTTP/2</h2><p>HTTP/1.1æ ‡å‡†æ•°åå¹´æ²¡æœ‰æ›´æ–°ï¼Œè€Œä¸ºäº†è§£å†³å¯¹é˜Ÿå¤´é˜»å¡çš„é—®é¢˜ï¼Œåªèƒ½ä½¿ç”¨åˆ‡å›¾ã€JS åˆå¹¶ç­‰ç½‘é¡µä¼˜åŒ–æ‰‹æ®µã€‚</p><p>Google å¯¹æ­¤è¡¨ç¤ºä¸æ»¡ï¼Œå¹¶ç€æ‰‹è‡´åŠ›æ”¹è¿›HTTP/1.1åè®®ã€‚é¦–å…ˆå¼€å‘äº†è‡ªå·±çš„æµè§ˆå™¨ Chromeï¼Œç„¶åæ¨å‡ºäº†æ–°çš„ SPDY ï¼ˆè¯»ä½œSPeeDYï¼‰åè®®ï¼Œå¹¶åœ¨ Chrome é‡Œåº”ç”¨äºè‡ªå®¶çš„æœåŠ¡å™¨ã€‚<strong>SPDY æ²¡æœ‰å®Œå…¨æ”¹å†™ HTTP åè®®ï¼Œè€Œæ˜¯åœ¨ TCP/IP çš„åº”ç”¨å±‚ä¸è¿è¾“å±‚ä¹‹é—´é€šè¿‡æ–°åŠ ä¼šè¯å±‚çš„å½¢å¼è¿ä½œ</strong>ã€‚åŒæ—¶ï¼Œè€ƒè™‘åˆ°å®‰å…¨æ€§é—®é¢˜ï¼ŒSPDY è§„å®šé€šä¿¡ä¸­ä½¿ç”¨ SSLã€‚</p><p>åæ¥éšç€Chromeåæ¥æ—¥è¶‹å¢é«˜çš„ç”¨æˆ·å æœ‰ç‡ï¼ŒSPDYä¹Ÿæˆä¸ºäº†ä¸»æµçš„åè®®ï¼Œç»ˆäºï¼Œäº’è”ç½‘æ ‡å‡†åŒ–ç»„ç»‡å¿ä¸ä½äº†ï¼Œå¼€å§‹ä»¥ SPDY ä¸ºåŸºç¡€åˆ¶å®šæ–°ç‰ˆæœ¬çš„ HTTP åè®®ï¼Œæœ€ç»ˆåœ¨ 2015 å¹´å‘å¸ƒäº† HTTP/2ï¼ŒRFC ç¼–å· 7540ã€‚å®ƒä¸å« HTTP/2.0ï¼Œæ˜¯å› ä¸ºæ ‡å‡†å§”å‘˜ä¼šä¸æ‰“ç®—å†å‘å¸ƒå­ç‰ˆæœ¬äº†ï¼Œä¸‹ä¸€ä¸ªæ–°ç‰ˆæœ¬å°†æ˜¯ HTTP/3ã€‚</p><p>æˆ‘æŸ¥é˜…è¿™éƒ¨åˆ†èµ„æ–™çš„æ—¶å€™ï¼Œç¿»åˆ°äº†æ•°åå¹´å‰çš„ä¸€æ¡æ–°é—»ï¼Œç°åœ¨çœ‹è¿˜æŒºæœ‰æ„æ€çš„ï¼š</p><p><a href="https://www.infoq.cn/article/2009/11/Google-SPDY-Replace-HTTP/" target="_blank" rel="noopener">Googleæ­£åˆ¶è®¢ä¸€é¡¹æ–°åè®®ï¼Œæ—¨åœ¨æ›¿æ¢æ‰HTTP - InfoQ</a></p><p>SPDYçš„åŸºæœ¬ç‰¹å¾ï¼š</p><ul><li>å¤šè·¯å¤ç”¨æµï¼šSPDY<strong>å…è®¸åœ¨ä¸€ä¸ªè¿æ¥ä¸Šæ— é™åˆ¶å¹¶å‘æµ</strong>ã€‚å› ä¸ºè¯·æ±‚åœ¨ä¸€ä¸ªé€šé“ä¸Šï¼ŒTCPæ•ˆç‡æ›´é«˜ï¼šæ›´å°‘çš„ç½‘ç»œè¿æ¥ï¼Œå‘å‡ºæ›´å°‘æ›´å¯†é›†çš„æ•°æ®åŒ…ã€‚</li><li>è¯·æ±‚ä¼˜å…ˆçº§ï¼šè™½ç„¶æ— é™çš„å¹¶å‘æµè§£å†³äº†åºåˆ—åŒ–çš„é—®é¢˜ï¼Œä½†ä»–ä»¬å¼•å…¥äº†å¦ä¸€ä¸ªé—®é¢˜ï¼šå¦‚æœå¸¦å®½é€šé“å—é™åˆ¶ï¼Œ å®¢æˆ·ç«¯å¯èƒ½ä¼šå› é˜²æ­¢å µå¡é€šé“è€Œé˜»æ­¢è¯·æ±‚ã€‚ä¸ºäº†å…‹æœè¿™ä¸ªé—®é¢˜ï¼ŒSPDYå®è¡Œè¯·æ±‚ä¼˜å…ˆçº§ï¼šå®¢æˆ·ç«¯ä»æœåŠ¡å™¨ç«¯è¯·æ±‚å®ƒå¸Œæœ›çš„é¡¹ç›®æ•°é‡ï¼Œå¹¶<strong>ä¸ºæ¯ä¸ªè¯·æ±‚åˆ†é…ä¸€ä¸ªä¼˜å…ˆçº§ã€‚è¿™å¯ä»¥é˜²æ­¢åœ¨ç½‘ç»œé€šé“è¢«éå…³é”®èµ„æºå µå¡æ—¶ï¼Œé«˜ä¼˜å…ˆçº§çš„è¯·æ±‚è¢«æŒ‚èµ·ã€‚</strong></li><li><strong>HTTPæŠ¥å¤´å‹ç¼©</strong>ï¼šSPDYå‹ç¼©è¯·æ±‚å’Œå“åº”HTTPæŠ¥å¤´ï¼Œä»è€Œå‡å°‘ä¼ è¾“çš„æ•°æ®åŒ…æ•°é‡å’Œå­—èŠ‚æ•°ã€‚</li><li>æ¨é€åŠŸèƒ½ï¼šæ”¯æŒæœåŠ¡å™¨ä¸»åŠ¨å‘å®¢æˆ·ç«¯æ¨é€æ•°æ®çš„åŠŸèƒ½ã€‚è¿™æ ·ï¼ŒæœåŠ¡å™¨å¯ç›´æ¥å‘é€æ•°æ®ï¼Œè€Œä¸å¿…ç­‰å¾…å®¢æˆ·ç«¯çš„è¯·æ±‚ã€‚</li></ul><p>åŸºäºSPDYçš„HTTP2.0çš„ç‰¹ç‚¹ï¼š</p><ul><li>äºŒè¿›åˆ¶åè®®ï¼Œä¸å†æ˜¯çº¯æ–‡æœ¬</li><li>å¯å‘èµ·å¤šä¸ªè¯·æ±‚ï¼ŒåºŸå¼ƒäº† 1.1 é‡Œçš„ç®¡é“ï¼ˆå¤šè·¯å¤ç”¨ï¼‰</li><li>ä½¿ç”¨ä¸“ç”¨ç®—æ³•å‹ç¼©å¤´éƒ¨ï¼Œå‡å°‘æ•°æ®ä¼ è¾“é‡</li><li>å…è®¸æœåŠ¡å™¨ä¸»åŠ¨å‘å®¢æˆ·ç«¯æ¨é€æ•°æ®ï¼ˆå’Œwebsocketæœ‰ç‚¹ä¸ä¸€æ ·ï¼Œå®ƒç±»ä¼¼äºé¢„æµ‹ç”¨æˆ·è¦ç”¨åˆ°ä»€ä¹ˆæ•°æ®ï¼Œæå‰æ¨é€ç»™å®¢æˆ·ç«¯ï¼‰</li><li>å¢å¼ºäº†å®‰å…¨æ€§ï¼Œâ€œäº‹å®ä¸Šâ€è¦æ±‚åŠ å¯†é€šä¿¡</li><li>å› ä¸º HTTP/2 çš„æ•°æ®åŒ…æ˜¯ä¸æŒ‰é¡ºåºå‘é€çš„ï¼ŒåŒä¸€ä¸ªè¿æ¥é‡Œé¢è¿ç»­çš„æ•°æ®åŒ…ï¼Œå¯èƒ½å±äºä¸åŒçš„å›åº”ã€‚å› æ­¤ï¼Œå¿…é¡»è¦å¯¹æ•°æ®åŒ…åšæ ‡è®°ï¼ŒæŒ‡å‡ºå®ƒå±äºå“ªä¸ªå›åº”ã€‚</li></ul><h2 id="QUICåè®®ä¸HTTP-3">2.5 QUICåè®®ä¸HTTP/3</h2><p>HTTP 2.0 è™½ç„¶å¤§å¤§å¢åŠ äº†å¹¶å‘æ€§ï¼Œä½†è¿˜æ˜¯æœ‰é—®é¢˜çš„ã€‚<strong>å› ä¸º HTTP 2.0 ä¹Ÿæ˜¯åŸºäº TCP åè®®çš„ï¼ŒTCP åè®®åœ¨å¤„ç†åŒ…æ—¶æ˜¯æœ‰ä¸¥æ ¼é¡ºåºçš„ã€‚å½“å…¶ä¸­ä¸€ä¸ªæ•°æ®åŒ…é‡åˆ°é—®é¢˜ï¼ŒTCP è¿æ¥éœ€è¦ç­‰å¾…è¿™ä¸ªåŒ…å®Œæˆé‡ä¼ ä¹‹åæ‰èƒ½ç»§ç»­è¿›è¡Œ</strong>ã€‚è™½ç„¶ HTTP 2.0 é€šè¿‡å¤šä¸ª streamï¼Œä½¿å¾—é€»è¾‘ä¸Šä¸€ä¸ª TCP è¿æ¥ä¸Šçš„å¹¶è¡Œå†…å®¹ï¼Œè¿›è¡Œå¤šè·¯æ•°æ®çš„ä¼ è¾“ï¼Œç„¶è€Œè¿™ä¸­é—´å¹¶æ²¡æœ‰å…³è”çš„æ•°æ®ã€‚ä¸€å‰ä¸€åï¼Œå‰é¢ stream 2 çš„å¸§æ²¡æœ‰æ”¶åˆ°ï¼Œåé¢ stream 1 çš„å¸§ä¹Ÿä¼šå› æ­¤é˜»å¡ï¼Œè¯´åˆ°åº•è¿™æ˜¯TCPçš„å›ºæœ‰é—®é¢˜ã€‚</p><p>äºæ˜¯Googleåˆä½œå¦–äº†ï¼Œç€æ‰‹ç ”å‘QUICåè®®ã€‚QUIC æ˜¯ <code>Quick UDP Internet Connections</code> çš„ç¼©å†™ï¼Œåœ¨å¤§æ¦‚2014å¹´çš„æ—¶å€™é¢ä¸–ï¼Œå®ƒæ”¹é€ äº†UDPåè®®ï¼Œé€šè¿‡UDPæ— è¿æ¥çš„ç‰¹æ€§å‡å°ä¼ è¾“å»¶è¿Ÿï¼Œä½†æ”¹è¿›å’Œå®ç°äº†éƒ¨åˆ†TCPçš„åŠŸèƒ½ï¼Œä¾‹å¦‚å¯é ä¼ è¾“ã€‚å®ƒå’ŒUDPä¸€æ ·æ˜¯ä¸€ä¸ªä¼ è¾“å±‚çš„åè®®ï¼Œåœ¨è¿™ç§åè®®ä¹‹ä¸Šå»ºç«‹çš„HTTPåè®®ç§°ä¸º<code>HTTP over QUIC</code></p><p><code>HTTP over QUIC</code> ç›¸æ¯”ç°åœ¨å¹¿æ³›åº”ç”¨çš„ <code>http2+tcp+tls</code> åè®®æœ‰å¦‚ä¸‹ä¼˜åŠ¿ï¼š</p><ul><li>å‡å°‘äº† TCP ä¸‰æ¬¡æ¡æ‰‹åŠ TLS æ¡æ‰‹æ—¶é—´</li><li>æ”¹è¿›çš„æ‹¥å¡æ§åˆ¶</li><li>é¿å…é˜Ÿå¤´é˜»å¡çš„å¤šè·¯å¤ç”¨</li><li>è¿æ¥è¿ç§»</li><li>å‰å‘å†—ä½™çº é”™</li></ul><p>è¿™é‡Œå°±ä¸è¯¦ç»†ä»‹ç»Quicäº†ï¼Œå®é™…ä¸Šè‡ªå®šä¹‰UDPå®ç°TCPçš„åŠŸèƒ½çš„åœºæ™¯å¹¶ä¸å°‘è§ï¼Œè¿™é‡Œé¢ç‰µæ‰¯åˆ°è‡ªå®šä¹‰è¿æ¥æœºåˆ¶ã€è‡ªå®šä¹‰é‡ä¼ æœºåˆ¶ã€è‡ªå®šä¹‰æµé‡æ§åˆ¶ã€è‡ªå®šä¹‰æ‹¥å¡æ§åˆ¶ç­‰å®ç°ã€‚</p><p>2018 å¹´ï¼Œäº’è”ç½‘æ ‡å‡†åŒ–ç»„ç»‡ IETF æè®®å°†â€œHTTP over QUICâ€æ›´åä¸ºâ€œHTTP/3â€å¹¶è·å¾—æ‰¹å‡†ï¼ŒHTTP/3 æ­£å¼è¿›å…¥äº†æ ‡å‡†åŒ–åˆ¶è®¢é˜¶æ®µï¼Œä¹Ÿè®¸ä¸¤ä¸‰å¹´åå°±ä¼šæ­£å¼å‘å¸ƒï¼Œåˆ°æ—¶å€™æˆ‘ä»¬å¾ˆå¯èƒ½ä¼šè·³è¿‡ HTTP/2 ç›´æ¥è¿›å…¥ HTTP/3ã€‚ï¼ˆæŒæ€€ç–‘æ€åº¦ï¼‰</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;æœ¬æ–‡å‚è€ƒèµ„æºï¼š&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.cnblogs.com/hanxuming/p/8026206.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;httpåè®®å†å² - æ‰¿è½½æ¢¦æƒ³-éŸ©æ—­æ˜ - åšå®¢å›­&lt;/a&gt;&lt;/p
      
    
    </summary>
    
    
      <category term="è®¡ç®—æœºç›¸å…³" scheme="https://www.codetool.top/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%9B%B8%E5%85%B3/"/>
    
    
      <category term="è®¡ç®—æœºç½‘ç»œ" scheme="https://www.codetool.top/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"/>
    
      <category term="HTTP" scheme="https://www.codetool.top/tags/HTTP/"/>
    
  </entry>
  
  <entry>
    <title>leetcode343-æ•´æ•°æ‹†åˆ†</title>
    <link href="https://www.codetool.top/article/leetcode343-%E6%95%B4%E6%95%B0%E6%8B%86%E5%88%86/"/>
    <id>https://www.codetool.top/article/leetcode343-æ•´æ•°æ‹†åˆ†/</id>
    <published>2020-04-13T05:22:56.000Z</published>
    <updated>2020-04-13T05:33:31.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="åŸé¢˜">1 åŸé¢˜</h1><p>ç»™å®šä¸€ä¸ªæ­£æ•´æ•° <em>n</em>ï¼Œå°†å…¶æ‹†åˆ†ä¸º<strong>è‡³å°‘</strong>ä¸¤ä¸ªæ­£æ•´æ•°çš„å’Œï¼Œå¹¶ä½¿è¿™äº›æ•´æ•°çš„ä¹˜ç§¯æœ€å¤§åŒ–ã€‚ è¿”å›ä½ å¯ä»¥è·å¾—çš„æœ€å¤§ä¹˜ç§¯ã€‚</p><p><strong>ç¤ºä¾‹ 1:</strong></p><blockquote><p><strong>è¾“å…¥:</strong> 2<br><strong>è¾“å‡º:</strong> 1<br><strong>è§£é‡Š:</strong> 2 = 1 + 1, 1 Ã— 1 = 1ã€‚</p></blockquote><p><strong>ç¤ºä¾‹ 2:</strong></p><blockquote><p><strong>è¾“å…¥:</strong> 10<br><strong>è¾“å‡º:</strong> 36<br><strong>è§£é‡Š:</strong> 10 = 3 + 3 + 4, 3 Ã— 3 Ã— 4 = 36ã€‚</p></blockquote><p><strong>è¯´æ˜:</strong> ä½ å¯ä»¥å‡è®¾ n ä¸å°äº 2 ä¸”ä¸å¤§äº 58ã€‚</p><h1 id="è§£æ³•">2 è§£æ³•</h1><h2 id="æ€æƒ³">2.1 æ€æƒ³</h2><p>æˆ‘æ„Ÿè§‰æˆ‘å†™çš„åŠ¨æ€è§„åˆ’è¿˜æŒºæš´åŠ›çš„ã€‚ã€‚ã€‚æ²¡çœ‹æ‡‚åˆ«äººçš„åŠ¨æ€è§„åˆ’ï¼Œæˆ‘çœ‹åˆ«äººå°±ä¸¤ä¸‰è¡Œå†™å®Œäº†QAQ<br>æˆ‘ç¡®å®8å¤ªè¡Œ</p><h2 id="ä»£ç ">2.2 ä»£ç </h2><pre class=" language-java"><code class="language-java"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span>    Integer<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> matrix<span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">integerBreak</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> max <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        matrix <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Integer</span><span class="token punctuation">[</span>n<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>n<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> cache<span class="token punctuation">;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>cache <span class="token operator">=</span> <span class="token function">maxMult</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">></span> max<span class="token punctuation">)</span> max <span class="token operator">=</span> cache<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> max<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">maxMult</span><span class="token punctuation">(</span><span class="token keyword">int</span> num<span class="token punctuation">,</span><span class="token keyword">int</span> n<span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>n <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span> num<span class="token punctuation">;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>n <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token keyword">return</span> <span class="token punctuation">(</span>num<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token punctuation">(</span>num<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>matrix<span class="token punctuation">[</span>num<span class="token punctuation">]</span><span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token operator">!=</span>null<span class="token punctuation">)</span> <span class="token keyword">return</span> matrix<span class="token punctuation">[</span>num<span class="token punctuation">]</span><span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token keyword">int</span> max <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>num<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                <span class="token keyword">int</span> cache<span class="token punctuation">;</span>                <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>cache <span class="token operator">=</span> <span class="token function">maxMult</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span>num<span class="token operator">-</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">></span> max<span class="token punctuation">)</span> max <span class="token operator">=</span> cache<span class="token punctuation">;</span>            <span class="token punctuation">}</span>            matrix<span class="token punctuation">[</span>num<span class="token punctuation">]</span><span class="token punctuation">[</span>n<span class="token punctuation">]</span> <span class="token operator">=</span> max<span class="token punctuation">;</span>            <span class="token keyword">return</span> max<span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;åŸé¢˜&quot;&gt;1 åŸé¢˜&lt;/h1&gt;&lt;p&gt;ç»™å®šä¸€ä¸ªæ­£æ•´æ•° &lt;em&gt;n&lt;/em&gt;ï¼Œå°†å…¶æ‹†åˆ†ä¸º&lt;strong&gt;è‡³å°‘&lt;/strong&gt;ä¸¤ä¸ªæ­£æ•´æ•°çš„å’Œï¼Œå¹¶ä½¿è¿™äº›æ•´æ•°çš„ä¹˜ç§¯æœ€å¤§åŒ–ã€‚ è¿”å›ä½ å¯ä»¥è·å¾—çš„æœ€å¤§ä¹˜ç§¯ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç¤ºä¾‹ 1:&lt;/strong&gt;&lt;/p&gt;
&lt;bl
      
    
    </summary>
    
    
      <category term="ç®—æ³•/æ•°æ®ç»“æ„" scheme="https://www.codetool.top/categories/%E7%AE%97%E6%B3%95-%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"/>
    
    
      <category term="leetcode" scheme="https://www.codetool.top/tags/leetcode/"/>
    
      <category term="ç®—æ³•" scheme="https://www.codetool.top/tags/%E7%AE%97%E6%B3%95/"/>
    
      <category term="åŠ¨æ€è§„åˆ’" scheme="https://www.codetool.top/tags/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/"/>
    
  </entry>
  
  <entry>
    <title>è®¡ç½‘å¤ä¹ 05-ä¼ è¾“å±‚</title>
    <link href="https://www.codetool.top/article/%E8%AE%A1%E7%BD%91%E5%A4%8D%E4%B9%A005-%E4%BC%A0%E8%BE%93%E5%B1%82/"/>
    <id>https://www.codetool.top/article/è®¡ç½‘å¤ä¹ 05-ä¼ è¾“å±‚/</id>
    <published>2020-04-12T08:20:25.000Z</published>
    <updated>2020-04-13T08:38:19.942Z</updated>
    
    <content type="html"><![CDATA[<p>è¿™é‡Œçš„ä¼ è¾“å±‚æŒ‡çš„æ˜¯åŸç†ä½“ç³»ç»“æ„çš„ä¼ è¾“å±‚ï¼Œå¯¹åº”OSIä¸ƒå±‚ä½“ç³»ç»“æ„ä¸­çš„ä¼ è¾“å±‚ï¼Œå¯¹åº”TCP/IPå››å±‚ä½“ç³»ç»“æ„ä¸­çš„ä¼ è¾“å±‚ã€‚å®ƒä¸ºåº”ç”¨å±‚æä¾›æœåŠ¡ã€‚</p><h1 id="ä¼ è¾“å±‚åè®®æ¦‚è¿°">1 ä¼ è¾“å±‚åè®®æ¦‚è¿°</h1><p><img src="https://api.codetool.top/img/15866799087510.png" alt></p><h2 id="å¤ç”¨å’Œåˆ†ç”¨">1.1 å¤ç”¨å’Œåˆ†ç”¨</h2><p>å› ä¸ºåœ¨ä¸€å°ä¸»æœºä¸­ç»å¸¸æœ‰å¤šä¸ªåº”ç”¨è¿›ç¨‹åŒæ—¶åˆ†åˆ«å’Œå¦ä¸€å°ä¸»æœºä¸­çš„å¤šä¸ªåº”ç”¨è¿›ç¨‹é€šä¿¡ã€‚è¿™è¡¨æ˜è¿è¾“å±‚æœ‰ä¸€ä¸ªå¾ˆé‡è¦çš„åŠŸèƒ½â€”â€”å¤ç”¨ (multiplexing)å’Œåˆ†ç”¨ (demultiplexing)ã€‚</p><p>åº”ç”¨å±‚-&gt;ä¼ è¾“å±‚åŸºäºç«¯å£çš„TCP/UDPå¤ç”¨ï¼Œæ•´åˆä¸ºTCPæŠ¥æ–‡æ®µ/UDPç”¨æˆ·æ•°æ®æŠ¥ã€‚ä¼ è¾“å±‚-&gt;ç½‘ç»œå±‚æ˜¯IPå¤ç”¨ï¼Œæ•´åˆä¸ºIPæ•°æ®æŠ¥ã€‚åœ¨æ¥æ”¶ç«¯è¿›è¡Œåˆ†ç”¨å¤„ç†ã€‚</p><h1 id="ç”¨æˆ·æ•°æ®æŠ¥åè®®UDP">2 ç”¨æˆ·æ•°æ®æŠ¥åè®®UDP</h1><p><img src="https://api.codetool.top/img/15866799611274.png" alt></p><p>UDPåªåœ¨IPæ•°æ®æŠ¥æœåŠ¡ä¹‹ä¸Šå¢åŠ äº†å¾ˆå°‘åŠŸèƒ½ï¼Œå³å¤ç”¨åˆ†ç”¨å’Œå·®é”™æ£€æµ‹åŠŸèƒ½ã€‚</p><h2 id="UDPçš„ä¸»è¦ç‰¹ç‚¹">2.1 UDPçš„ä¸»è¦ç‰¹ç‚¹</h2><ol><li>UDPæ˜¯<strong>æ— è¿æ¥</strong>çš„ï¼Œå‡å°‘å¼€é”€å’Œå‘é€æ•°æ®ä¹‹å‰çš„æ—¶å»¶ã€‚</li><li>UDPä½¿ç”¨<strong>æœ€å¤§åŠªåŠ›äº¤ä»˜</strong>ï¼Œå³ä¸ä¿è¯å¯é äº¤ä»˜ã€‚</li><li>UDPæ˜¯<strong>é¢å‘æŠ¥æ–‡</strong>çš„ï¼Œé€‚åˆä¸€æ¬¡æ€§ä¼ è¾“å°‘é‡æ•°æ®çš„ç½‘ç»œåº”ç”¨ã€‚</li><li>UDP<strong>æ— æ‹¥å¡æ§åˆ¶</strong>ï¼Œé€‚åˆå¾ˆå¤šå®æ—¶åº”ç”¨ã€‚</li><li>UDPçš„<strong>é¦–éƒ¨å¼€é”€å°</strong>ï¼Œåªæœ‰å…«å­—èŠ‚</li></ol><h2 id="UDPçš„æŠ¥æ–‡æ ¼å¼">2.2 UDPçš„æŠ¥æ–‡æ ¼å¼</h2><p><img src="https://api.codetool.top/img/15866813837256.png" alt></p><p>æºç«¯å£å·æ˜¯å¯æœ‰å¯æ— çš„ï¼ˆå¦‚æœæ²¡æœ‰æƒ³æ”¶åˆ°å›å¤çš„éœ€æ±‚ï¼‰ï¼Œå¯ä»¥å¡«å†™å…¨0ã€‚</p><p>åˆ†ç”¨æ—¶ï¼Œæ‰¾ä¸åˆ°å¯¹åº”çš„ç›®çš„ç«¯å£å·ï¼Œå°±ä¸¢å¼ƒæŠ¥æ–‡ï¼Œå¹¶ç»™å‘é€æ–¹å‘é€ICMPâ€œç«¯å£ä¸å¯è¾¾â€å·®é”™æŠ¥å‘ŠæŠ¥æ–‡ã€‚</p><h3 id="æ ¡éªŒå’Œçš„è®¡ç®—">2.2.1 æ ¡éªŒå’Œçš„è®¡ç®—</h3><p><img src="https://api.codetool.top/img/15866818094214.png" alt></p><p>è®¡ç®—æ ¡éªŒå’Œæ—¶ï¼Œä¼šå…ˆæŠ½è±¡å‡ºä¸€ä¸ªâ€œä¼ªé¦–éƒ¨â€ï¼Œä»IPæ•°æ®æŠ¥çš„é¦–éƒ¨è·å–ä¿¡æ¯ã€‚</p><p>ä¼ªé¦–éƒ¨åªæœ‰åœ¨è®¡ç®—æ£€éªŒå’Œæ—¶æ‰å‡ºç°ï¼Œä¸å‘ä¸‹ä¼ é€ä¹Ÿä¸å‘ä¸Šé€’äº¤ã€‚</p><p><img src="https://api.codetool.top/img/15866820631253.png" alt></p><p>åœ¨è®¡ç®—æ ¡éªŒå’Œæ—¶ï¼Œå°†æ¯ç»„å¯¹é½çš„2å­—èŠ‚å¯¹åº”çš„16ä½ç›¸åŠ ï¼Œå¾—åˆ°çš„ç»“æœæ±‚åç ã€‚è¿™æ ·å°±äº§ç”Ÿäº†æ ¡éªŒç ï¼Œå‘é€ç«¯å°†å®ƒå¡«å…¥ã€‚</p><p>æ¥æ”¶ç«¯çš„éªŒè¯ä¹Ÿæ˜¯å°†å°†æ¯ç»„å¯¹é½çš„2å­—èŠ‚å¯¹åº”çš„16ä½ç›¸åŠ ï¼Œå¾—åˆ°çš„ç»“æœæ±‚åç ï¼Œè‹¥å…¨ä¸º1è¯´æ˜æ ¡éªŒé€šè¿‡ï¼Œå¦åˆ™è¯´æ˜å‡ºé”™ã€‚</p><h1 id="ä¼ è¾“æ§åˆ¶åè®®TCP">3 ä¼ è¾“æ§åˆ¶åè®®TCP</h1><p><img src="https://api.codetool.top/img/15866808929918.png" alt></p><ul><li>å‘é€ç¼“å­˜ï¼šå‡†å¤‡å‘é€çš„æ•°å’Œå·²å‘é€ä½†å°šæœªæ”¶åˆ°ç¡®è®¤çš„æ•°æ®</li><li>æ¥æ”¶ç¼“å­˜ï¼šæŒ‰åºåˆ°è¾¾ä½†å°šæœªè¢«æ¥å—åº”ç”¨ç¨‹åºè¯»å–çš„æ•°æ®å’Œä¸æŒ‰åºåˆ°è¾¾çš„æ•°æ®</li></ul><h1 id="å¯é ä¼ è¾“çš„å·¥ä½œåŸç†">4 å¯é ä¼ è¾“çš„å·¥ä½œåŸç†</h1><p><img src="https://api.codetool.top/img/15866809274469.png" alt></p><p>è¿™éƒ¨åˆ†çš„åè®®æˆ‘ç”¨åˆ°çš„æ•°æ®å•ä½æ˜¯â€œå¸§â€ï¼Œæ˜¯å› ä¸ºè¿™éƒ¨åˆ†ä¹Ÿå¯ä»¥ç”±æ•°æ®é“¾è·¯å±‚æ¥æ§åˆ¶ï¼Œä¼ è¾“å±‚çš„æ€æƒ³ä¸å…¶ä¸€è‡´ã€‚</p><h2 id="åœæ­¢-ç­‰å¾…åè®®">4.1 åœæ­¢-ç­‰å¾…åè®®</h2><p>ä¸ºä»€ä¹ˆè¦æœ‰åœæ­¢ç­‰å¾…åè®®?</p><ul><li>é™¤äº†æ¯”ç‰¹å‡ºå·®é”™ï¼Œåº•å±‚ä¿¡é“è¿˜ä¼šå‡ºç°ä¸¢åŒ…é—®é¢˜ã€‚</li><li>ä¸ºäº†å®ç°æµé‡æ§åˆ¶ã€‚</li></ul><p>æ¯å‘é€å®Œä¸€ä¸ªå¸§å°±åœæ­¢å‘é€ï¼Œç­‰å¾…å¯¹æ–¹çš„ç¡®è®¤ï¼Œåœ¨<strong>æ”¶åˆ°ç¡®è®¤åå†å‘é€ä¸‹ä¸€ä¸ªå¸§</strong>ã€‚åœæ­¢ç­‰å¾…åè®®æ˜¯ä¸€ç§ç‰¹æ®Šçš„æ»‘åŠ¨çª—å£åè®®ã€‚</p><p>å¦‚æœæœªæ”¶åˆ°ç¡®è®¤ï¼Œå°±è¦æœ‰<strong>è¶…æ—¶é‡ä¼ æœºåˆ¶ï¼Œé€šå¸¸è¿™ä¸ªè¶…æ—¶æ—¶é—´æ¯”å¹³å‡RTTæ›´é•¿ä¸€äº›ï¼Œå¦‚æœè¶…æ—¶è¿˜æ²¡æœ‰æ”¶åˆ°æ¥æ”¶æ–¹å‘æ¥çš„ç¡®è®¤å¸§ï¼Œå°±é‡æ–°å‘é€ä¸€æ¬¡ä¸Šä¸€å¸§ã€‚</strong></p><p><strong>å‘é€å¸§å’Œç¡®è®¤å¸§éƒ½æœ‰ç¼–å·ï¼Œè¿™æ ·å³ä½¿å¸§é‡å¤ï¼Œæ¥æ”¶æ–¹ä¹Ÿèƒ½çŸ¥é“æ˜¯æ”¶åˆ°äº†é‡å¤å¸§ã€‚</strong></p><ul><li>åœæ­¢ç­‰å¾…åè®®ï¼šå‘é€çª—å£å¤§å°=1ï¼Œæ¥æ”¶çª—å£å¤§å°=1;</li><li>åé€€Nå¸§åè®®(GBN)ï¼šå‘é€çª—å£å¤§å°&gt;1ï¼Œ æ¥æ”¶çª—å£å¤§å°=1:</li><li>é€‰æ‹©é‡ä¼ åè®®(SR)ï¼šå‘é€çª—å£å¤§å°&gt;1ï¼Œæ¥æ”¶çª—å£å¤§å°&gt;1;</li></ul><h2 id="æ»‘åŠ¨çª—å£åè®®">4.2 æ»‘åŠ¨çª—å£åè®®</h2><h3 id="åé€€Nå¸§åè®®ï¼ˆGBNï¼‰">4.2.1 åé€€Nå¸§åè®®ï¼ˆGBNï¼‰</h3><p><img src="https://api.codetool.top/img/1586335862716.png" alt></p><p>å‘é€æ–¹æœ‰ä¸€ä¸ªå‘é€çª—å£ï¼Œæ¥æ”¶æ–¹æœ‰ä¸€ä¸ªæ¥æ”¶çª—å£ï¼ˆå¤§å°ä¸º1ï¼‰ï¼Œå‘é€æ–¹å¯ä»¥å‘å‡ºå‘é€çª—å£èŒƒå›´å†…å…è®¸çš„å‘å‡ºçš„å¸§ï¼Œå½“æ¥æ”¶æ–¹æ”¶åˆ°ä¸€å¸§ä¹‹åï¼Œæ¥æ”¶çª—å£å‘åæ»‘åŠ¨ä¸€æ ¼ï¼Œå“åº”ä¸€ä¸ªç¡®è®¤å¸§ï¼Œå‘é€æ–¹æ”¶åˆ°ç¡®è®¤å¸§ä¹‹åå°†å‘é€çª—å£ä¹Ÿå‘åæ»‘åŠ¨ä¸€æ ¼ã€‚</p><p>å¯¹äºå‘é€çª—å£å†…çš„å‘é€å¸§éƒ½è¦æœ‰å¤‡ä»½ï¼Œä¸ºäº†è¶…æ—¶é‡ä¼ ã€‚å‘é€å¸§å’Œç¡®è®¤å¸§éƒ½è¦æœ‰ç¼–å·ï¼Œä¸ºäº†åŒºåˆ«ä¼ é€ä¸­å‘ç”Ÿçš„é”™è¯¯ã€‚</p><p><strong>å¦‚æœæ¥æ”¶æ–¹æ”¶åˆ°äº†ç¼–å·ä¸è¿ç»­çš„å¸§ï¼Œè¯´æ˜ä¸­é€”å‘ç”Ÿäº†å¸§ä¸¢å¤±ï¼Œé‚£ä¹ˆä»æ­¤åˆ»å¼€å§‹ï¼Œå°†æ‰€æœ‰æ¥æ”¶åˆ°çš„çš„å¸§ä¸¢å¼ƒï¼Œåªå“åº”ä¸Šä¸€ä¸ªè¿ç»­å¸§åºåˆ—ä¸­æœ€åä¸€ä¸ªå¸§çš„ç¼–å·å¯¹åº”çš„ç¡®è®¤å¸§ï¼Œç›´åˆ°å†æ¬¡æ”¶åˆ°èƒ½å½¢æˆè¿ç»­ç¼–å·çš„å¸§ã€‚</strong></p><p>è‹¥é‡‡ç”¨nä¸ªæ¯”ç‰¹å¯¹å¸§ç¼–å·ï¼Œé‚£ä¹ˆå‘é€çª—å£çš„å°ºå¯¸W<sub>T</sub>åº”æ»¡è¶³: <span color="red">1â‰¤W<sub>T</sub>â‰¤2<sup>n</sup>-1<span>ã€‚å› ä¸ºå‘é€çª—å£å°ºå¯¸è¿‡å¤§ï¼Œå°±ä¼šä½¿å¾—æ¥æ”¶æ–¹æ— æ³•åŒºåˆ«æ–°å¸§å’Œæ—§å¸§ã€‚</span></span></p><h3 id="é€‰æ‹©é‡ä¼ åè®®ï¼ˆSRï¼‰">4.2.2 é€‰æ‹©é‡ä¼ åè®®ï¼ˆSRï¼‰</h3><p>é€‰æ‹©é‡ä¼ åè®®çš„å‘é€çª—å£å¤§å°å’Œæ¥æ”¶çª—å£å¤§å°å‡å¤§äº1ã€‚</p><p><img src="https://api.codetool.top/img/15863418002044.png" alt></p><p>å‘é€çª—å£å†…æŸä¸ªå¸§çš„è¶…æ—¶æ—¶é—´ä¸€è¿‡è¿˜æ²¡æ”¶åˆ°ç¡®è®¤çš„ï¼Œå°±è¿›è¡Œé‡ä¼ ã€‚ä¸€æ—¦å‘é€çª—å£å·¦ä¾§æœ‰è¿ç»­è¢«ç¡®è®¤çš„å‘é€å¸§ï¼Œå°±è¿›è¡Œæ»‘åŠ¨ï¼Œæ»‘åŠ¨åˆ°å…·æœ‰æœ€å°åºå·çš„æœªç¡®è®¤å¸§å¤„ã€‚</p><p>æ¥æ”¶æ–¹å¹¶ä¸è¦æ±‚æ¥æ”¶çš„å¸§æ˜¯é¡ºåºçš„ï¼Œåªè¦æ˜¯åœ¨æ¥æ”¶çª—å£å†…çš„å¸§åºå·å°±æ¥æ”¶ã€‚</p><p>å‘é€çª—å£æœ€å¥½ç­‰äºæ¥æ”¶çª—å£ï¼Œä¸å¤§äº2<sup>n-1</sup>ã€‚</p><h2 id="TCPæŠ¥æ–‡æ ¼å¼">4.3 TCPæŠ¥æ–‡æ ¼å¼</h2><p><img src="https://api.codetool.top/img/15866887476632.png" alt></p><ul><li>åºå·ï¼šåœ¨ä¸€ä¸ªTCPè¿æ¥ä¸­ä¼ é€çš„å­—èŠ‚æµä¸­çš„æ¯ä¸€ä¸ªå­—èŠ‚éƒ½æŒ‰é¡ºåºç¼–å·ï¼Œæœ¬å­—æ®µè¡¨ç¤ºæœ¬æŠ¥æ–‡æ®µæ‰€å‘é€æ•°æ®çš„ç¬¬ä¸€ä¸ªå­—èŠ‚çš„åºå·ã€‚</li><li>ç¡®è®¤å·ï¼šæœŸæœ›æ”¶åˆ°å¯¹æ–¹ä¸‹ä¸€ä¸ªæŠ¥æ–‡æ®µçš„ç¬¬ä¸€ä¸ªæ•°æ®å­—èŠ‚çš„åºå·ã€‚è‹¥ç¡®è®¤å·ä¸ºN,åˆ™è¯æ˜åˆ°åºå·N-1ä¸ºæ­¢çš„æ‰€æœ‰æ•°æ®éƒ½å·²æ­£ç¡®æ”¶åˆ°ã€‚</li><li>æ•°æ®åç§»(é¦–éƒ¨é•¿åº¦) : TCPæŠ¥æ–‡æ®µçš„æ•°æ®èµ·å§‹å¤„è·ç¦»TCPæŠ¥æ–‡æ®µçš„èµ·å§‹å¤„æœ‰å¤šè¿œï¼Œä»¥4Bä¸ºå•ä½ï¼Œå³1ä¸ªæ•°å€¼æ˜¯4Bã€‚</li><li>å…­ä¸ªæ§åˆ¶ä½ï¼š<ul><li><strong>ç´§æ€¥ä½URG</strong>: URG=1æ—¶ï¼Œ æ ‡æ˜æ­¤æŠ¥æ–‡æ®µä¸­æœ‰ç´§æ€¥æ•°æ®ï¼Œæ˜¯é«˜ä¼˜å…ˆçº§çš„æ•°æ®ï¼Œåº”å°½å¿«ä¼ é€ï¼Œä¸ç”¨åœ¨ç¼“å­˜é‡Œæ’é˜Ÿï¼Œé…åˆç´§æ€¥æŒ‡é’ˆå­—æ®µä½¿ç”¨ã€‚</li><li><strong>ç¡®è®¤ä½ACK</strong>: ACK=1æ—¶ç¡®è®¤å·æœ‰æ•ˆï¼Œ åœ¨è¿æ¥å»ºç«‹åæ‰€æœ‰ä¼ é€çš„æŠ¥æ–‡æ®µéƒ½å¿…é¡»æŠŠACKç½®ä¸º1ã€‚</li><li>æ¨é€ä½PSH: PSH=1æ—¶ï¼Œæ¥æ”¶æ–¹å°½å¿«äº¤ä»˜æ¥æ”¶åº”ç”¨è¿›ç¨‹ï¼Œä¸å†ç­‰åˆ°ç¼“å­˜å¡«æ»¡å†å‘ä¸Šäº¤ä»˜ã€‚</li><li>å¤ä½RST: RST=1æ—¶ï¼Œ è¡¨æ˜TCPè¿æ¥ä¸­å‡ºç°ä¸¥é‡å·®é”™ï¼Œå¿…é¡»é‡Šæ”¾è¿æ¥ï¼Œç„¶åå†é‡æ–°å»ºç«‹ä¼ è¾“é“¾æ¥ã€‚</li><li><strong>åŒæ­¥ä½SYN</strong>: SYN=1æ—¶ï¼Œ è¡¨æ˜æ˜¯ä¸€ä¸ªè¿æ¥è¯·æ±‚/è¿æ¥æ¥å—æŠ¥æ–‡ã€‚</li><li><strong>ç»ˆæ­¢ä½FIN</strong>: FIN=1æ—¶ï¼Œ è¡¨æ˜æ­¤æŠ¥æ–‡æ®µå‘é€æ–¹æ•°æ®å·²å‘å®Œï¼Œè¦æ±‚é‡Šæ”¾è¿æ¥ã€‚</li></ul></li><li>çª—å£ï¼šæŒ‡çš„æ˜¯<strong>å‘é€æœ¬æŠ¥æ–‡æ®µçš„ä¸€æ–¹çš„æ¥æ”¶çª—å£</strong>ï¼Œå³ç°åœ¨å…è®¸å¯¹æ–¹å‘é€çš„æ•°æ®é‡ã€‚</li><li>æ£€éªŒå’Œï¼šå’ŒUDPä¸­çš„æ£€éªŒå’Œç±»ä¼¼ï¼Œæ£€éªŒé¦–éƒ¨+æ•°æ®ï¼Œæ£€éªŒæ—¶è¦åŠ ä¸Š12Bä¼ªé¦–éƒ¨ï¼Œç¬¬å››ä¸ªå­—æ®µä¸º6ã€‚</li><li>ç´§æ€¥æŒ‡é’ˆ: URG=1æ—¶æ‰æœ‰æ„ä¹‰ï¼ŒæŒ‡å‡ºæœ¬æŠ¥æ–‡æ®µä¸­ç´§æ€¥æ•°æ®çš„å­—èŠ‚æ•°ã€‚</li><li>é€‰é¡¹:æœ€å¤§æŠ¥æ–‡æ®µé•¿åº¦MSSã€çª—å£æ‰©å¤§ã€æ—¶é—´æˆ³ã€é€‰æ‹©ç¡®è®¤â€¦</li></ul><h2 id="TCPå®ç°å¯é ä¼ è¾“çš„æœºåˆ¶">4.4 TCPå®ç°å¯é ä¼ è¾“çš„æœºåˆ¶</h2><ul><li>ç´¯è®¡ç¡®è®¤â€”â€”å’Œé¦–éƒ¨ä¸­çš„ç¡®è®¤å·ç›¸å…³ï¼Œæ¥æ”¶æ–¹å¯ä»¥åœ¨åˆé€‚çš„æ—¶å€™å‘é€ç¡®è®¤ï¼Œä¹Ÿå¯ä»¥åœ¨è‡ªå·±æœ‰æ•°æ®è¦å‘é€æ—¶æŠŠç¡®è®¤ä¿¡æ¯é¡ºä¾¿æå¸¦ä¸Šã€‚</li><li>è¶…æ—¶é‡ä¼ â€”â€”TCPé‡‡ç”¨è‡ªé€‚åº”ç®—æ³•ï¼ŒåŠ¨æ€æ”¹å˜é‡ä¼ æ—¶é—´RTTs (åŠ æƒå¹³å‡å¾€è¿”æ—¶é—´)</li><li>é€‰æ‹©ç¡®è®¤ï¼ˆç´¯è®¡ç¡®è®¤çš„æ”¹è¿›ï¼Œæ˜ç¡®æŒ‡å‡ºè‡ªå·±åªæ”¶åˆ°äº†å“ªäº›æ•°æ®ï¼‰â€”â€”æ¥æ”¶æ–¹å¯ä»¥åœ¨åˆé€‚çš„æ—¶å€™å‘é€ç¡®è®¤ï¼Œä¹Ÿå¯ä»¥åœ¨è‡ªå·±æœ‰æ•°æ®è¦å‘é€æ—¶æŠŠç¡®è®¤ä¿¡æ¯é¡ºä¾¿æå¸¦ä¸Šã€‚æ¥æ”¶æ–¹æ”¶åˆ°äº†å’Œå‰é¢çš„å­—èŠ‚æµä¸è¿ç»­çš„ä¸¤ä¸ªå­—èŠ‚å—ã€‚å¦‚æœè¿™äº›å­—èŠ‚çš„åºå·éƒ½åœ¨æ¥æ”¶çª—å£ä¹‹å†…ï¼Œé‚£ä¹ˆæ¥æ”¶æ–¹å°±å…ˆæ”¶ä¸‹è¿™äº›æ•°æ®ï¼Œä½†è¦æŠŠè¿™äº›ä¿¡æ¯å‡†ç¡®åœ°å‘Šè¯‰å‘é€æ–¹ï¼Œä½¿å‘é€æ–¹ä¸è¦å†é‡å¤å‘é€è¿™äº›å·²æ”¶åˆ°çš„æ•°æ®ã€‚å¦‚æœè¦ä½¿ç”¨é€‰æ‹©ç¡®è®¤ï¼Œé‚£ä¹ˆåœ¨å»ºç«‹ TCP è¿æ¥æ—¶ï¼Œå°±è¦åœ¨ TCP é¦–éƒ¨çš„é€‰é¡¹ä¸­åŠ ä¸Šâ€œå…è®¸ SACKâ€çš„é€‰é¡¹ï¼Œè€ŒåŒæ–¹å¿…é¡»éƒ½äº‹å…ˆå•†å®šå¥½ã€‚</li></ul><h1 id="TCPçš„æµé‡æ§åˆ¶">5 TCPçš„æµé‡æ§åˆ¶</h1><p><img src="https://api.codetool.top/img/1586679921603.png" alt></p><p>TCPåˆ©ç”¨æ»‘åŠ¨çª—å£æœºåˆ¶å®ç°æµé‡æ§åˆ¶ã€‚</p><p>åœ¨é€šä¿¡è¿‡ç¨‹ä¸­ï¼Œæ¥æ”¶æ–¹æ ¹æ®è‡ªå·±æ¥æ”¶ç¼“å­˜çš„å¤§å°ï¼ŒåŠ¨æ€åœ°è°ƒæ•´å‘é€æ–¹çš„å‘é€çª—å£å¤§å°ï¼Œå³<strong>æ¥æ”¶çª—å£rwnd</strong>(æ¥æ”¶æ–¹è®¾ç½®ç¡®è®¤æŠ¥æ–‡æ®µçš„çª—å£å­—æ®µæ¥å°†rwndé€šçŸ¥ç»™å‘é€æ–¹)ï¼Œå‘é€æ–¹çš„å‘é€çª—å£å–æ¥æ”¶çª—å£rwndå’Œæ‹¥å¡çª—å£cwndçš„æœ€å°å€¼ã€‚å‘é€çª—å£=Min{æ¥æ”¶çª—å£rwnd,æ‹¥å¡çª—å£cwnd}</p><p><img src="https://api.codetool.top/img/15866978885363.png" alt></p><p>å‡è®¾Bå‘Aå‘é€äº†é›¶çª—å£çš„æŠ¥æ–‡æ®µåä¸ä¹…ï¼ŒBçš„æ¥æ”¶ç¼“å­˜åˆæœ‰äº†ä¸€äº›å­˜å‚¨ç©ºé—´ã€‚äºæ˜¯Bå‘Aå‘é€äº†rwnd = 400çš„æŠ¥æ–‡æ®µã€‚</p><p>ä½†è¿™ä¸ªæŠ¥æ–‡æ®µåœ¨ä¼ é€è¿‡ç¨‹ä¸­ä¸¢å¤±äº†ã€‚Aä¸€ç›´ç­‰å¾…æ”¶åˆ°Bå‘é€çš„éé›¶çª—å£çš„é€šçŸ¥ï¼Œè€ŒBä¹Ÿä¸€ç›´ç­‰å¾… A å‘é€çš„æ•°æ®ã€‚</p><p>å¦‚æœæ²¡æœ‰å…¶ä»–æªæ–½ï¼Œè¿™ç§äº’ç›¸ç­‰å¾…çš„æ­»é”å±€é¢å°†ä¸€ç›´å»¶ç»­ä¸‹å»ã€‚</p><p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒTCP ä¸ºæ¯ä¸€ä¸ªè¿æ¥è®¾æœ‰ä¸€ä¸ª<strong>æŒç»­è®¡æ—¶å™¨</strong> (persistence timer)ã€‚</p><p><strong>åªè¦TCPè¿æ¥çš„ä¸€æ–¹æ”¶åˆ°å¯¹æ–¹çš„é›¶çª—å£é€šçŸ¥ï¼Œå°±å¯åŠ¨æŒç»­è®¡æ—¶å™¨ã€‚è‹¥æŒç»­è®¡æ—¶å™¨è®¾ç½®çš„æ—¶é—´åˆ°æœŸï¼Œå°±å‘é€ä¸€ä¸ªé›¶çª—å£æ¢æµ‹æŠ¥æ–‡æ®µã€‚æ¥æ”¶æ–¹æ”¶åˆ°æ¢æµ‹æŠ¥æ–‡æ®µæ—¶ç»™å‡ºç°åœ¨çš„çª—å£å€¼ã€‚è‹¥çª—å£ä»ç„¶æ˜¯0ï¼Œé‚£ä¹ˆå‘é€æ–¹å°±é‡æ–°è®¾ç½®æŒç»­è®¡æ—¶å™¨ã€‚</strong></p><h1 id="TCPçš„æ‹¥å¡æ§åˆ¶">6 TCPçš„æ‹¥å¡æ§åˆ¶</h1><p><img src="https://api.codetool.top/img/15866809887057.png" alt></p><p>å‡å®š:<br>1.æ•°æ®å•æ–¹å‘ä¼ é€ï¼Œè€Œå¦ä¸€ä¸ªæ–¹å‘åªä¼ é€ç¡®è®¤<br>2.æ¥æ”¶æ–¹æ€»æ˜¯æœ‰è¶³å¤Ÿå¤§çš„ç¼“å­˜ç©ºé—´ï¼Œå› è€Œå‘é€çª—å£å¤§å°å–å†³äºæ‹¥å¡ç¨‹åº¦</p><p><img src="https://api.codetool.top/img/15866985256419.png" alt="æ‹¥å¡æ§åˆ¶æ‰€èµ·çš„ä½œç”¨"></p><h2 id="æ‹¥å¡æ§åˆ¶çš„ä¸€èˆ¬åŸç†">6.1 æ‹¥å¡æ§åˆ¶çš„ä¸€èˆ¬åŸç†</h2><p>åœ¨æŸæ®µæ—¶é—´ï¼Œ<strong>è‹¥å¯¹ç½‘ç»œä¸­æŸèµ„æºçš„éœ€æ±‚è¶…è¿‡äº†è¯¥èµ„æºæ‰€èƒ½æä¾›çš„å¯ç”¨éƒ¨</strong>åˆ†ï¼Œç½‘ç»œçš„æ€§èƒ½å°±è¦å˜åã€‚è¿™ç§ç°è±¡ç§°ä¸ºæ‹¥å¡ (congestion)ã€‚</p><p>è‹¥ç½‘ç»œä¸­æœ‰è®¸å¤šèµ„æºåŒæ—¶äº§ç”Ÿæ‹¥å¡ï¼Œç½‘ç»œçš„æ€§èƒ½å°±è¦æ˜æ˜¾å˜åï¼Œæ•´ä¸ªç½‘ç»œçš„ååé‡å°†éšè¾“å…¥è´Ÿè·çš„å¢å¤§è€Œä¸‹é™ã€‚</p><p>å¼€ç¯æ§åˆ¶æ–¹æ³•å°±æ˜¯åœ¨è®¾è®¡ç½‘ç»œæ—¶äº‹å…ˆå°†æœ‰å…³å‘ç”Ÿæ‹¥å¡çš„å› ç´ è€ƒè™‘å‘¨åˆ°ï¼ŒåŠ›æ±‚ç½‘ç»œåœ¨å·¥ä½œæ—¶ä¸äº§ç”Ÿæ‹¥å¡ã€‚ </p><p>é—­ç¯æ§åˆ¶æ–¹æ³•æ˜¯åŸºäºåé¦ˆç¯è·¯çš„æ¦‚å¿µã€‚å±äºé—­ç¯æ§åˆ¶çš„æœ‰ä»¥ä¸‹å‡ ç§æªæ–½ï¼š </p><ol><li>ç›‘æµ‹ç½‘ç»œç³»ç»Ÿä»¥ä¾¿æ£€æµ‹åˆ°æ‹¥å¡åœ¨ä½•æ—¶ã€ä½•å¤„å‘ç”Ÿã€‚</li><li>å°†æ‹¥å¡å‘ç”Ÿçš„ä¿¡æ¯ä¼ é€åˆ°å¯é‡‡å–è¡ŒåŠ¨çš„åœ°æ–¹ã€‚</li><li>è°ƒæ•´ç½‘ç»œç³»ç»Ÿçš„è¿è¡Œä»¥è§£å†³å‡ºç°çš„é—®é¢˜ã€‚</li></ol><p>TCPåªèƒ½ä½¿ç”¨é—­ç¯æ§åˆ¶ï¼Œ<strong>å‘é€æ–¹ç»´æŠ¤ä¸€ä¸ªæ‹¥å¡çª—å£ï¼Œæ˜¯æ ¹æ®è‡ªå·±ä¼°ç®—çš„ç½‘ç»œæ‹¥å¡ç¨‹åº¦è€Œè®¾ç½®çš„çª—å£å€¼</strong>ï¼Œåæ˜ ç½‘ç»œå½“å‰å®¹é‡ã€‚<strong>åªè¦ç½‘ç»œæ²¡æœ‰å‡ºç°æ‹¥å¡ï¼Œæ‹¥å¡çª—å£å°±å¯ä»¥å†å¢å¤§ä¸€äº›</strong>ï¼Œä»¥ä¾¿æŠŠæ›´å¤šçš„åˆ†ç»„å‘é€å‡ºå»ï¼Œè¿™æ ·å°±å¯ä»¥æé«˜ç½‘ç»œçš„åˆ©ç”¨ç‡ã€‚ä½†<strong>åªè¦ç½‘ç»œå‡ºç°æ‹¥å¡æˆ–æœ‰å¯èƒ½å‡ºç°æ‹¥å¡ï¼Œå°±å¿…é¡»æŠŠæ‹¥å¡çª—å£å‡å°ä¸€äº›</strong>ï¼Œä»¥å‡å°‘æ³¨å…¥åˆ°ç½‘ç»œä¸­çš„åˆ†ç»„æ•°ï¼Œä»¥ä¾¿ç¼“è§£ç½‘ç»œå‡ºç°çš„æ‹¥å¡ã€‚</p><p>å¦‚ä½•åˆ¤æ–­ç½‘ç»œæ‹¥å¡ï¼Ÿ</p><ul><li>é‡ä¼ å®šæ—¶å™¨è¶…æ—¶</li><li>æ”¶åˆ°ä¸‰ä¸ªç›¸åŒï¼ˆé‡å¤ï¼‰çš„ ACK</li></ul><h2 id="æ…¢å¼€å§‹-amp-æ‹¥å¡é¿å…">6.2 æ…¢å¼€å§‹&amp;æ‹¥å¡é¿å…</h2><p><img src="https://api.codetool.top/img/15866984718786.png" alt></p><p>ç”±å°åˆ°å¤§é€æ¸å¢å¤§æ‹¥å¡çª—å£æ•°å€¼ã€‚ç”¨æ¥ç¡®å®šç½‘ç»œçš„è´Ÿè½½èƒ½åŠ›ã€‚åœ¨æ¯æ”¶åˆ°ä¸€ä¸ªå¯¹æ–°çš„æŠ¥æ–‡æ®µçš„ç¡®è®¤åï¼Œå¯ä»¥æŠŠæ‹¥å¡çª—å£å¢åŠ æœ€å¤šä¸€ä¸ª SMSS çš„æ•°å€¼ï¼Œ<strong>æ­¤æ—¶cwndå°±æ˜¯ç¿»å€å¢é•¿çš„</strong>ã€‚</p><p>æ–°çš„ RFC 5681 æŠŠåˆå§‹æ‹¥å¡çª—å£ cwnd è®¾ç½®ä¸ºä¸è¶…è¿‡2è‡³4ä¸ªSMSSçš„æ•°å€¼ã€‚</p><p>æ…¢å¼€å§‹é—¨é™ ssthreshï¼ˆçŠ¶æ€å˜é‡ï¼‰ï¼šé˜²æ­¢æ‹¥å¡çª—å£cwnd å¢é•¿è¿‡å¤§å¼•èµ·ç½‘ç»œæ‹¥å¡ã€‚<strong>åˆ°è¾¾è¿™ä¸ªä¸Šé™ä½¿ç”¨æ‹¥å¡é¿å…ç®—æ³•å¢å¤§cwndï¼Œä½¿ç”¨â€œåŠ æ³•å¢å¤§â€ã€‚</strong>ä¸€æ—¦å‘ç”Ÿç½‘ç»œæ‹¥å¡ï¼Œæ­¤æ—¶çš„<code>swnd/2</code>å¾—åˆ°æ–°çš„ssthreshï¼Œå†é‡æ–°å¼€å§‹æ…¢å¼€å§‹ã€‚</p><p>â€œæ‹¥å¡é¿å…â€å¹¶éæŒ‡å®Œå…¨èƒ½å¤Ÿé¿å…äº†æ‹¥å¡ã€‚åˆ©ç”¨ä»¥ä¸Šçš„æªæ–½è¦å®Œå…¨é¿å…ç½‘ç»œæ‹¥å¡è¿˜æ˜¯ä¸å¯èƒ½çš„ã€‚</p><p>â€œæ‹¥å¡é¿å…â€æ˜¯è¯´<strong>åœ¨æ‹¥å¡é¿å…é˜¶æ®µæŠŠæ‹¥å¡çª—å£æ§åˆ¶ä¸ºæŒ‰çº¿æ€§è§„å¾‹å¢é•¿ï¼Œä½¿ç½‘ç»œæ¯”è¾ƒä¸å®¹æ˜“å‡ºç°æ‹¥å¡</strong>ã€‚ </p><h2 id="å¿«é‡ä¼ -amp-å¿«æ¢å¤">6.3 å¿«é‡ä¼ &amp;å¿«æ¢å¤</h2><p><img src="https://api.codetool.top/img/15866991261225.png" alt></p><p>é‡‡ç”¨å¿«é‡ä¼  FR (Fast Retransmission) ç®—æ³•å¯ä»¥è®©å‘é€æ–¹å°½æ—©çŸ¥é“å‘ç”Ÿäº†ä¸ªåˆ«æŠ¥æ–‡æ®µçš„ä¸¢å¤±ã€‚<strong>å¿«é‡ä¼ ç®—æ³•é¦–å…ˆè¦æ±‚æ¥æ”¶æ–¹ä¸è¦ç­‰å¾…è‡ªå·±å‘é€æ•°æ®æ—¶æ‰è¿›è¡Œæå¸¦ç¡®è®¤ï¼Œè€Œæ˜¯è¦ç«‹å³å‘é€ç¡®è®¤ï¼Œå³ä½¿æ”¶åˆ°äº†å¤±åºçš„æŠ¥æ–‡æ®µä¹Ÿè¦ç«‹å³å‘å‡ºå¯¹å·²æ”¶åˆ°çš„æŠ¥æ–‡æ®µçš„é‡å¤ç¡®è®¤ã€‚</strong></p><p>å‘é€æ–¹åªè¦ä¸€è¿æ”¶åˆ°ä¸‰ä¸ªé‡å¤ç¡®è®¤ï¼Œå°±çŸ¥é“æ¥æ”¶æ–¹ç¡®å®æ²¡æœ‰æ”¶åˆ°æŠ¥æ–‡æ®µï¼Œå› è€Œåº”å½“ç«‹å³è¿›è¡Œé‡ä¼ ï¼ˆå³â€œå¿«é‡ä¼ â€ï¼‰ï¼Œè¿™æ ·å°±ä¸ä¼šå‡ºç°è¶…æ—¶ï¼Œå‘é€æ–¹ä¹Ÿä¸å°±ä¼šè¯¯è®¤ä¸ºå‡ºç°äº†ç½‘ç»œæ‹¥å¡ã€‚<strong>æ­¤æ—¶å‘é€æ–¹è®¤ä¸ºç½‘ç»œå¾ˆå¯èƒ½æ²¡æœ‰å‘ç”Ÿæ‹¥å¡ï¼Œå› æ­¤ç°åœ¨ä¸æ‰§è¡Œæ…¢å¼€å§‹ç®—æ³•ï¼Œè€Œæ˜¯æ‰§è¡Œå¿«æ¢å¤ç®—æ³• FR (Fast Recovery) ç®—æ³•</strong>ï¼š</p><p>ç›´æ¥å°†å½“å‰cwnd/2ä½œä¸ºæ–°çš„ssthreshå€¼ï¼Œå¹¶ç›´æ¥ä»è¿™ä¸ªå€¼å¼€å§‹æ‹¥å¡é¿å…çš„â€œåŠ æ³•å¢å¤§â€ã€‚</p><h1 id="TCPçš„ä¼ è¾“è¿æ¥ç®¡ç†">7 TCPçš„ä¼ è¾“è¿æ¥ç®¡ç†</h1><p><img src="https://api.codetool.top/img/15866810135462.png" alt></p><h2 id="è¿æ¥å»ºç«‹">7.1 è¿æ¥å»ºç«‹</h2><p>TCPè¿æ¥çš„å»ºç«‹é‡‡ç”¨å®¢æˆ·æœåŠ¡å™¨æ–¹å¼ï¼Œä¸»åŠ¨å‘èµ·è¿æ¥å»ºç«‹çš„åº”ç”¨è¿›ç¨‹å«åšå®¢æˆ·ï¼Œè€Œè¢«åŠ¨ç­‰å¾…è¿æ¥å»ºç«‹çš„åº”ç”¨è¿›ç¨‹å«æœåŠ¡å™¨ã€‚</p><p><img src="https://api.codetool.top/img/15866928231497.png" alt></p><p>å‡è®¾è¿è¡Œåœ¨ä¸€å°ä¸»æœº(å®¢æˆ·)ä¸Šçš„ä¸€ä¸ªè¿›ç¨‹æƒ³ä¸å¦ä¸€å°ä¸»æœº(æœåŠ¡å™¨)ä¸Šçš„ä¸€ä¸ªè¿›ç¨‹å»ºç«‹ä¸€æ¡è¿æ¥ï¼Œå®¢æˆ·åº”ç”¨è¿›ç¨‹é¦–å…ˆé€šçŸ¥å®¢æˆ·TCPï¼Œä»–æƒ³å»ºç«‹ä¸€ä¸ªä¸æœåŠ¡å™¨ä¸ŠæŸä¸ªè¿›ç¨‹ä¹‹é—´çš„è¿æ¥ï¼Œå®¢æˆ·ä¸­çš„TCPä¼šç”¨ä»¥ä¸‹æ­¥éª¤ä¸æœåŠ¡å™¨ä¸­çš„TCPå»ºç«‹ä¸€æ¡TCPè¿æ¥:</p><ol><li>å®¢æˆ·ç«¯å‘é€è¿æ¥è¯·æ±‚æŠ¥æ–‡æ®µï¼Œæ— åº”ç”¨å±‚æ•°æ®ã€‚SYN=1ï¼Œseqï¼ˆé¦–éƒ¨ä¸­çš„åºå·ï¼‰=x(éšæœº)</li><li>æœåŠ¡å™¨ç«¯ä¸ºè¯¥TCPè¿æ¥åˆ†é…ç¼“å­˜å’Œå˜é‡ï¼Œå¹¶å‘å®¢æˆ·ç«¯è¿”å›ç¡®è®¤æŠ¥æ–‡æ®µï¼Œå…è®¸è¿æ¥ï¼Œæ— åº”ç”¨å±‚æ•°æ®ã€‚<br>SYN=1ï¼ŒACK=1ï¼Œseq=y(éšæœº)ï¼Œ ack=x+1</li><li>å®¢æˆ·ç«¯ä¸ºè¯¥TCPè¿æ¥åˆ†é…ç¼“å­˜å’Œå˜é‡ï¼Œå¹¶å‘æœåŠ¡å™¨ç«¯è¿”å›ç¡®è®¤çš„ç¡®è®¤ï¼Œå¯ä»¥æºå¸¦æ•°æ®ã€‚SYN=0ï¼ŒACK=1ï¼Œseq=x+1ï¼Œack=y+1</li></ol><h3 id="ç¬¬ä¸‰æ¬¡æ¡æ‰‹å¤±è´¥-amp-SYNæ´ªæ³›æ”»å‡»">7.1.1 ç¬¬ä¸‰æ¬¡æ¡æ‰‹å¤±è´¥&amp;SYNæ´ªæ³›æ”»å‡»</h3><p>å½“å®¢æˆ·ç«¯æ”¶åˆ°æœåŠ¡ç«¯çš„ SYN+ACK åº”ç­”åï¼Œå…¶çŠ¶æ€å˜ä¸º ESTABLISHEDï¼Œå¹¶ä¼šå‘é€ ACK åŒ…ç»™æœåŠ¡ç«¯ï¼Œå‡†å¤‡å‘é€æ•°æ®äº†ã€‚å¦‚æœæ­¤æ—¶ ACK åœ¨ç½‘ç»œä¸­ä¸¢å¤±ï¼Œè¿‡äº†è¶…æ—¶è®¡æ—¶å™¨åï¼Œé‚£ä¹ˆ Serverç«¯ä¼šé‡æ–°å‘é€ SYN+ACK åŒ…ï¼Œé‡ä¼ æ¬¡æ•°æ ¹æ®<code>/proc/sys/net/ipv4/tcp_synack_retries</code> æ¥æŒ‡å®šï¼Œé»˜è®¤æ˜¯ 5 æ¬¡ã€‚å¦‚æœé‡ä¼ æŒ‡å®šæ¬¡æ•°åˆ°äº†åï¼Œä»ç„¶æœªæ”¶åˆ° ACK åº”ç­”ï¼Œé‚£ä¹ˆä¸€æ®µæ—¶é—´åï¼ŒServer è‡ªåŠ¨å…³é—­è¿™ä¸ªè¿æ¥ã€‚ä½†æ˜¯ Client è®¤ä¸ºè¿™ä¸ªè¿æ¥å·²ç»å»ºç«‹ï¼Œå¦‚æœ Client ç«¯å‘ Server å†™æ•°æ®ï¼ŒServerç«¯å°†ä»¥ RST åŒ…å“åº”ï¼Œæ–¹èƒ½æ„ŸçŸ¥åˆ° Server çš„é”™è¯¯ã€‚</p><p>SYNæ´ªæ³›æ”»å‡»å‘ç”Ÿåœ¨OSIç¬¬å››å±‚ï¼Œè¿™ç§æ–¹å¼åˆ©ç”¨TCPåè®®çš„ç‰¹æ€§ï¼Œå°±æ˜¯ä¸‰æ¬¡æ¡æ‰‹ã€‚æ”»å‡»è€…å‘é€TCP SYNï¼ŒSYNæ˜¯TCPä¸‰æ¬¡æ¡æ‰‹ä¸­çš„ç¬¬ä¸€ä¸ªæ•°æ®åŒ…ï¼Œ<strong>è€Œå½“æœåŠ¡å™¨è¿”å›ACKåï¼Œè¯¥æ”»å‡»è€…å°±ä¸å¯¹å…¶è¿›è¡Œå†ç¡®è®¤ï¼Œé‚£è¿™ä¸ªTCPè¿æ¥å°±å¤„äºæŒ‚èµ·çŠ¶æ€</strong>ï¼Œä¹Ÿå°±æ˜¯æ‰€è°“çš„åŠè¿æ¥çŠ¶æ€ï¼Œ<strong>æœåŠ¡å™¨æ”¶ä¸åˆ°å†ç¡®è®¤çš„è¯ï¼Œè¿˜ä¼šé‡å¤å‘é€ACKç»™æ”»å‡»è€…ã€‚è¿™æ ·æ›´åŠ ä¼šæµªè´¹æœåŠ¡å™¨çš„èµ„æº</strong>ã€‚æ”»å‡»è€…å°±å¯¹æœåŠ¡å™¨å‘é€éå¸¸å¤§é‡çš„è¿™ç§TCPè¿æ¥ï¼Œç”±äºæ¯ä¸€ä¸ªéƒ½æ²¡æ³•å®Œæˆä¸‰æ¬¡æ¡æ‰‹ï¼Œæ‰€ä»¥åœ¨æœåŠ¡å™¨ä¸Šï¼Œè¿™äº›TCPè¿æ¥ä¼šå› ä¸ºæŒ‚èµ·çŠ¶æ€è€Œæ¶ˆè€—CPUå’Œå†…å­˜ï¼Œæœ€åæœåŠ¡å™¨å¯èƒ½æ­»æœºï¼Œå°±æ— æ³•ä¸ºæ­£å¸¸ç”¨æˆ·æä¾›æœåŠ¡äº†ã€‚</p><p>å¦‚ä½•åº”å¯¹SYNæ´ªæ³›æ”»å‡»ï¼Ÿè¿™é‡Œå¯ä»¥ä½¿ç”¨linuxçš„ä¸¤ä¸ªå‚æ•°ï¼š</p><p>ç¬¬ä¸€ä¸ªå‚æ•° <code>tcp_synack_retries = 0</code> æ˜¯å…³é”®ï¼Œè¡¨ç¤ºå›åº”ç¬¬äºŒä¸ªæ¡æ‰‹åŒ…ï¼ˆSYN+ACK åŒ…ï¼‰ç»™å®¢æˆ·ç«¯ IP åï¼Œå¦‚æœæ”¶ä¸åˆ°ç¬¬ä¸‰æ¬¡æ¡æ‰‹åŒ…ï¼ˆACK åŒ…ï¼‰åï¼Œä¸è¿›è¡Œé‡è¯•ï¼ŒåŠ å¿«å›æ”¶â€œåŠè¿æ¥â€ï¼Œä¸è¦è€—å…‰èµ„æºã€‚</p><p>ä¿®æ”¹è¿™ä¸ªå‚æ•°ä¸º 0 çš„å‰¯ä½œç”¨ï¼šç½‘ç»œçŠ¶å†µå¾ˆå·®æ—¶ï¼Œå¦‚æœå¯¹æ–¹æ²¡æ”¶åˆ°ç¬¬äºŒä¸ªæ¡æ‰‹åŒ…ï¼Œå¯èƒ½è¿æ¥æœåŠ¡å™¨å¤±è´¥ï¼Œä½†å¯¹äºä¸€èˆ¬ç½‘ç«™ï¼Œç”¨æˆ·åˆ·æ–°ä¸€æ¬¡é¡µé¢å³å¯ã€‚è¿™äº›å¯ä»¥åœ¨é«˜å³°æœŸæˆ–ç½‘ç»œçŠ¶å†µä¸å¥½æ—¶tcpdump æŠ“åŒ…éªŒè¯ä¸‹ã€‚</p><p>ä¹‹æ‰€ä»¥å¯ä»¥æŠŠ tcp_synack_retries æ”¹ä¸º 0ï¼Œå› ä¸ºå®¢æˆ·ç«¯è¿˜æœ‰ tcp_syn_retries å‚æ•°ï¼Œé»˜è®¤æ˜¯ 5ï¼Œå³ä½¿æœåŠ¡å™¨ç«¯æ²¡æœ‰é‡å‘ SYN+ACK åŒ…ï¼Œå®¢æˆ·ç«¯ä¹Ÿä¼šé‡å‘ SYN æ¡æ‰‹åŒ…ã€‚</p><p>ç¬¬äºŒä¸ªå‚æ•°<code>tcp_max_syn_backlog</code>ï¼Œä»å­—é¢ä¸Šå°±å¯ä»¥æ¨æ–­å‡ºæ˜¯ä»€ä¹ˆæ„æ€ã€‚<strong>åœ¨å†…æ ¸é‡Œæœ‰ä¸ªé˜Ÿåˆ—ç”¨æ¥å­˜æ”¾è¿˜æ²¡æœ‰ç¡®è®¤ ACK çš„å®¢æˆ·ç«¯è¯·æ±‚ï¼Œå½“ç­‰å¾…çš„è¯·æ±‚æ•°å¤§äº <code>tcp_max_syn_backlog</code> æ—¶ï¼Œåé¢çš„ä¼šè¢«ä¸¢å¼ƒã€‚</strong></p><p>æ‰€ä»¥ï¼Œé€‚å½“å¢å¤§è¿™ä¸ªå€¼ï¼Œå¯ä»¥åœ¨å‹åŠ›å¤§çš„æ—¶å€™æé«˜æ¡æ‰‹çš„æˆåŠŸç‡ã€‚æ‰‹å†Œé‡Œæ¨èå¤§äº 1024ã€‚ä½¿ç”¨æœåŠ¡å™¨çš„å†…å­˜èµ„æºï¼Œæ¢å–æ›´å¤§çš„ç­‰å¾…é˜Ÿåˆ—é•¿åº¦ï¼Œè®©æ”»å‡»æ•°æ®åŒ…ä¸è‡³äºå æ»¡æ‰€æœ‰è¿æ¥è€Œå¯¼è‡´æ­£å¸¸ç”¨æˆ·æ— æ³•å®Œæˆæ¡æ‰‹ã€‚</p><p>å½“åŠè¿æ¥çš„è¯·æ±‚æ•°é‡è¶…è¿‡äº† <code>tcp_max_syn_backlog</code> æ—¶ï¼Œå†…æ ¸å°±ä¼šå¯ç”¨ <strong>SYN cookie æœºåˆ¶</strong>ï¼Œä¸å†æŠŠåŠè¿æ¥è¯·æ±‚æ”¾åˆ°é˜Ÿåˆ—é‡Œï¼Œè€Œæ˜¯ç”¨ SYN cookie æ¥æ£€éªŒã€‚</p><p>å¯ç”¨ä¹‹å‰ï¼ŒæœåŠ¡å™¨åœ¨æ¥åˆ° SYN æ•°æ®åŒ…åï¼Œç«‹å³åˆ†é…å­˜å‚¨ç©ºé—´ï¼Œå¹¶éšæœºåŒ–ä¸€ä¸ªæ•°å­—ä½œä¸º SYNå·å‘é€ SYN+ACK æ•°æ®åŒ…ã€‚ç„¶åä¿å­˜è¿æ¥çš„çŠ¶æ€ä¿¡æ¯ç­‰å¾…å®¢æˆ·ç«¯ç¡®è®¤ã€‚<strong>å¯ç”¨ SYN Cookie ä¹‹åï¼ŒæœåŠ¡å™¨ä¸å†åˆ†é…å­˜å‚¨ç©ºé—´ï¼Œè€Œä¸”é€šè¿‡åŸºäºæ—¶é—´ç§å­çš„éšæœºæ•°ç®—æ³•è®¾ç½®ä¸€ä¸ª SYN å·ï¼Œæ›¿ä»£å®Œå…¨éšæœºçš„ SYN å·ã€‚å‘é€å®Œ SYN+ACK ç¡®è®¤æŠ¥æ–‡ä¹‹åï¼Œæ¸…ç©ºèµ„æºä¸ä¿å­˜ä»»ä½•çŠ¶æ€ä¿¡æ¯ã€‚</strong>ç›´åˆ°æœåŠ¡å™¨æ¥åˆ°å®¢æˆ·ç«¯çš„æœ€ç»ˆ ACK åŒ…ï¼Œé€šè¿‡ Cookie æ£€éªŒç®—æ³•é‰´å®šæ˜¯å¦ä¸å‘å‡ºå»çš„ SYN+ACKæŠ¥æ–‡åºåˆ—å·åŒ¹é…ï¼ŒåŒ¹é…åˆ™é€šè¿‡å®Œæˆæ¡æ‰‹ï¼Œå¤±è´¥åˆ™ä¸¢å¼ƒã€‚å½“ç„¶ï¼Œå‰æ–‡çš„é«˜çº§æ”»å‡»ä¸­æœ‰ SYN æ··åˆ ACK çš„æ”»å‡»æ–¹æ³•ï¼Œåˆ™æ˜¯å¯¹æ­¤ç§é˜²å¾¡æ–¹æ³•çš„åå‡»ï¼Œå…¶ä¸­ä¼˜åŠ£ç”±åŒæ–¹çš„ç¡¬ä»¶é…ç½®å†³å®šã€‚</p><h2 id="è¿æ¥é‡Šæ”¾">7.2 è¿æ¥é‡Šæ”¾</h2><p>å‚ä¸ä¸€æ¡TCPè¿æ¥çš„ä¸¤ä¸ªè¿›ç¨‹ä¸­çš„ä»»ä½•-ä¸€ä¸ªéƒ½èƒ½ç»ˆæ­¢è¯¥è¿æ¥ï¼Œè¿æ¥ç»“æŸåï¼Œä¸»æœºä¸­çš„â€œèµ„æºâ€(ç¼“å­˜å’Œå˜é‡) å°†è¢«é‡Šæ”¾ã€‚</p><p><img src="https://api.codetool.top/img/15866928416535.png" alt></p><ol><li>å®¢æˆ·ç«¯å‘é€è¿æ¥é‡Šæ”¾æŠ¥æ–‡æ®µï¼Œåœæ­¢å‘é€æ•°æ®ï¼Œä¸»åŠ¨å…³é—­TCPè¿æ¥ã€‚FIN=1ï¼Œseq=u</li><li>æœåŠ¡å™¨ç«¯å›é€ä¸€ä¸ªç¡®è®¤æŠ¥æ–‡æ®µï¼Œå®¢æˆ·åˆ°æœåŠ¡å™¨è¿™ä¸ªæ–¹å‘çš„è¿æ¥å°±é‡Šæ”¾äº†â€”â€”åŠå…³é—­çŠ¶æ€ã€‚ACK=1ï¼Œseq=vï¼Œack=u+1</li><li>æœåŠ¡å™¨ç«¯å‘å®Œæ•°æ®ï¼Œå°±å‘å‡ºè¿æ¥é‡Šæ”¾æŠ¥æ–‡æ®µï¼Œä¸»åŠ¨å…³é—­TCPè¿æ¥ã€‚FIN=1ï¼ŒACK=1ï¼Œseq=wï¼Œack=u+1</li><li>å®¢æˆ·ç«¯å›é€ä¸€ä¸€ä¸ªç¡®è®¤æŠ¥æ–‡æ®µï¼Œå†ç­‰åˆ°æ—¶é—´ç­‰å¾…è®¡æ—¶å™¨è®¾ç½®çš„2MSL (æœ€é•¿æŠ¥æ–‡æ®µå¯¿å‘½)åï¼Œè¿æ¥å½»åº•å…³é—­ã€‚</li></ol><p>è¿™ä¸ªè¿‡ç¨‹ä¹Ÿè¢«ç§°ä¸ºâ€œå››æ¬¡æŒ¥æ‰‹â€</p><p><strong>ä¸ºä»€ä¹ˆè¦æœ‰time_waitï¼Ÿ</strong></p><ol><li>å¯é çš„ç»ˆæ­¢ TCP è¿æ¥ï¼Œ<strong>è‹¥å¤„äº time_wait çš„ client å‘é€ç»™ server ç¡®è®¤æŠ¥æ–‡æ®µä¸¢å¤±çš„è¯ï¼Œserverå°†åœ¨æ­¤åˆä¸€æ¬¡å‘é€ FIN æŠ¥æ–‡æ®µ</strong>ï¼Œé‚£ä¹ˆ client å¿…é¡»å¤„äºä¸€ä¸ªå¯æ¥æ”¶çš„çŠ¶æ€å°±æ˜¯ time_wait è€Œä¸æ˜¯ close çŠ¶æ€ã€‚</li><li>ä¿è¯è¿Ÿæ¥çš„ TCP æŠ¥æ–‡æ®µæœ‰è¶³å¤Ÿçš„æ—¶é—´è¢«è¯†åˆ«å¹¶ä¸¢å¼ƒï¼Œlinux ä¸­ä¸€ä¸ª TCPport ä¸èƒ½æ‰“å¼€ä¸¤æ¬¡æˆ–ä¸¤æ¬¡ä»¥ä¸Šã€‚å½“ client å¤„äº time_wait çŠ¶æ€æ—¶æˆ‘ä»¬å°†æ— æ³•ä½¿ç”¨æ­¤ port å»ºç«‹æ–°è¿æ¥ï¼Œ<strong>å‡è®¾ä¸å­˜åœ¨ time_wait çŠ¶æ€ï¼Œæ–°è¿æ¥å¯èƒ½ä¼šæ”¶åˆ°æ—§è¿æ¥çš„æ•°æ®ã€‚</strong></li></ol><h2 id="ä¸ºä»€ä¹ˆå»ºç«‹è¿æ¥åè®®æ˜¯ä¸‰æ¬¡æ¡æ‰‹ï¼Œè€Œå…³é—­è¿æ¥å´æ˜¯å››æ¬¡æ¡æ‰‹å‘¢ï¼Ÿ">7.3 ä¸ºä»€ä¹ˆå»ºç«‹è¿æ¥åè®®æ˜¯ä¸‰æ¬¡æ¡æ‰‹ï¼Œè€Œå…³é—­è¿æ¥å´æ˜¯å››æ¬¡æ¡æ‰‹å‘¢ï¼Ÿ</h2><p>è¿™æ˜¯å› ä¸ºæœåŠ¡ç«¯çš„ LISTEN çŠ¶æ€ä¸‹çš„ SOCKET å½“æ”¶åˆ° SYN æŠ¥æ–‡çš„å»ºè¿è¯·æ±‚åï¼Œå®ƒå¯ä»¥æŠŠ ACKå’Œ SYNï¼ˆACK èµ·åº”ç­”ä½œç”¨ï¼Œè€Œ SYN èµ·åŒæ­¥ä½œç”¨ï¼‰æ”¾åœ¨ä¸€ä¸ªæŠ¥æ–‡é‡Œæ¥å‘é€ã€‚<strong>ä½†å…³é—­è¿æ¥æ—¶ï¼Œå½“æ”¶åˆ°å¯¹æ–¹çš„ FIN æŠ¥æ–‡é€šçŸ¥æ—¶ï¼Œå®ƒä»…ä»…è¡¨ç¤ºå¯¹æ–¹æ²¡æœ‰æ•°æ®å‘é€ç»™ä½ äº†ï¼›ä½†æœªå¿…ä½ æ‰€æœ‰çš„æ•°æ®éƒ½å…¨éƒ¨å‘é€ç»™å¯¹æ–¹äº†ï¼Œæ‰€ä»¥ä½ å¯ä»¥æœªå¿…ä¼šé©¬ä¸Šä¼šå…³é—­ SOCKET,ä¹Ÿå³ä½ å¯èƒ½è¿˜éœ€è¦å‘é€ä¸€äº›æ•°æ®ç»™å¯¹æ–¹ä¹‹åï¼Œå†å‘é€ FIN æŠ¥æ–‡ç»™å¯¹æ–¹æ¥è¡¨ç¤ºä½ åŒæ„ç°åœ¨å¯ä»¥å…³é—­è¿æ¥äº†</strong>ï¼Œæ‰€ä»¥å®ƒè¿™é‡Œçš„ ACK æŠ¥æ–‡å’Œ FIN æŠ¥æ–‡å¤šæ•°æƒ…å†µä¸‹éƒ½æ˜¯åˆ†å¼€å‘é€çš„ã€‚</p><h2 id="TCPçŠ¶æ€æœº">7.4 TCPçŠ¶æ€æœº</h2><p><img src="https://api.codetool.top/img/15867588658698.png" alt></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;è¿™é‡Œçš„ä¼ è¾“å±‚æŒ‡çš„æ˜¯åŸç†ä½“ç³»ç»“æ„çš„ä¼ è¾“å±‚ï¼Œå¯¹åº”OSIä¸ƒå±‚ä½“ç³»ç»“æ„ä¸­çš„ä¼ è¾“å±‚ï¼Œå¯¹åº”TCP/IPå››å±‚ä½“ç³»ç»“æ„ä¸­çš„ä¼ è¾“å±‚ã€‚å®ƒä¸ºåº”ç”¨å±‚æä¾›æœåŠ¡ã€‚&lt;/p&gt;
&lt;h1 id=&quot;ä¼ è¾“å±‚åè®®æ¦‚è¿°&quot;&gt;1 ä¼ è¾“å±‚åè®®æ¦‚è¿°&lt;/h1&gt;&lt;p&gt;&lt;img src=&quot;https://api.codetool.
      
    
    </summary>
    
    
      <category term="è®¡ç®—æœºç›¸å…³" scheme="https://www.codetool.top/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%9B%B8%E5%85%B3/"/>
    
    
      <category term="è®¡ç®—æœºç½‘ç»œ" scheme="https://www.codetool.top/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"/>
    
  </entry>
  
  <entry>
    <title>leetcode79-å•è¯æœç´¢</title>
    <link href="https://www.codetool.top/article/leetcode79-%E5%8D%95%E8%AF%8D%E6%90%9C%E7%B4%A2/"/>
    <id>https://www.codetool.top/article/leetcode79-å•è¯æœç´¢/</id>
    <published>2020-04-12T06:54:58.000Z</published>
    <updated>2020-04-12T07:02:56.706Z</updated>
    
    <content type="html"><![CDATA[<h1 id="åŸé¢˜">1 åŸé¢˜</h1><p>ç»™å®šä¸€ä¸ªäºŒç»´ç½‘æ ¼å’Œä¸€ä¸ªå•è¯ï¼Œæ‰¾å‡ºè¯¥å•è¯æ˜¯å¦å­˜åœ¨äºç½‘æ ¼ä¸­ã€‚</p><p>å•è¯å¿…é¡»æŒ‰ç…§å­—æ¯é¡ºåºï¼Œé€šè¿‡ç›¸é‚»çš„å•å…ƒæ ¼å†…çš„å­—æ¯æ„æˆï¼Œå…¶ä¸­â€œç›¸é‚»â€å•å…ƒæ ¼æ˜¯é‚£äº›æ°´å¹³ç›¸é‚»æˆ–å‚ç›´ç›¸é‚»çš„å•å…ƒæ ¼ã€‚åŒä¸€ä¸ªå•å…ƒæ ¼å†…çš„å­—æ¯ä¸å…è®¸è¢«é‡å¤ä½¿ç”¨ã€‚</p><p><strong>ç¤ºä¾‹:</strong></p><pre style="color:#e8eaf6">board =[  ['A','B','C','E'],  ['S','F','C','S'],  ['A','D','E','E']]ç»™å®š word = "<strong style="color:#e8eaf6">ABCCED</strong>", è¿”å› <strong style="color:#e8eaf6">true</strong>ç»™å®š word = "<strong style="color:#e8eaf6">SEE</strong>", è¿”å› <strong style="color:#e8eaf6">true</strong>ç»™å®š word = "<strong style="color:#e8eaf6">ABCB</strong>", è¿”å› <strong style="color:#e8eaf6">false</strong></pre><p><strong>æç¤ºï¼š</strong></p><ul><li><code>board</code> å’Œ <code>word</code> ä¸­åªåŒ…å«å¤§å†™å’Œå°å†™è‹±æ–‡å­—æ¯ã€‚</li><li><code>1 &lt;= board.length &lt;= 200</code></li><li><code>1 &lt;= board[i].length &lt;= 200</code></li><li><code>1 &lt;= word.length &lt;= 10^3</code></li></ul><h1 id="è§£æ³•">2 è§£æ³•</h1><h2 id="æ€æƒ³">2.1 æ€æƒ³</h2><p>å› ä¸ºåŒä¸€ä¸ªä½ç½®çš„å­—ç¬¦ä¸èƒ½ç”¨ä¸¤æ¬¡ï¼Œå¾—æ ‡è®°ï¼Œdfså›æº¯çš„æ—¶å€™å¿…é¡»æŠŠæ ‡è®°æ¸…é™¤ã€‚</p><h2 id="ä»£ç ">2.2 ä»£ç </h2><pre class=" language-java"><code class="language-java"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span>    <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> board<span class="token punctuation">;</span>    <span class="token keyword">boolean</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> visited<span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">exist</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> board<span class="token punctuation">,</span> String word<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>board <span class="token operator">=</span> board<span class="token punctuation">;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>board<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>board<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                visited <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">boolean</span><span class="token punctuation">[</span>board<span class="token punctuation">.</span>length<span class="token punctuation">]</span><span class="token punctuation">[</span>board<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length<span class="token punctuation">]</span><span class="token punctuation">;</span>                <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">dfs</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span>j<span class="token punctuation">,</span>word<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span><span class="token keyword">int</span> y<span class="token punctuation">,</span>String word<span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>word<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>word<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">==</span>board<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>         <span class="token keyword">if</span><span class="token punctuation">(</span>word<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">!=</span>board<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        visited<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>        <span class="token keyword">boolean</span> ans <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//å‘ä¸Š</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>x<span class="token operator">-</span><span class="token number">1</span><span class="token operator">>=</span><span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>visited<span class="token punctuation">[</span>x<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">)</span> ans <span class="token operator">=</span> ans<span class="token operator">||</span><span class="token function">dfs</span><span class="token punctuation">(</span>x<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>y<span class="token punctuation">,</span>word<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//å‘ä¸‹</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>x<span class="token operator">+</span><span class="token number">1</span><span class="token operator">&lt;</span>board<span class="token punctuation">.</span>length <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>visited<span class="token punctuation">[</span>x<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">)</span> ans <span class="token operator">=</span> ans<span class="token operator">||</span><span class="token function">dfs</span><span class="token punctuation">(</span>x<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>y<span class="token punctuation">,</span>word<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//å‘å·¦</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>y<span class="token operator">-</span><span class="token number">1</span><span class="token operator">>=</span><span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>visited<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> ans <span class="token operator">=</span> ans<span class="token operator">||</span><span class="token function">dfs</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>word<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//å‘å³</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>y<span class="token operator">+</span><span class="token number">1</span><span class="token operator">&lt;</span>board<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>visited<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> ans <span class="token operator">=</span> ans<span class="token operator">||</span><span class="token function">dfs</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>word<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//æ¸…é™¤æ ‡è®°</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>ans <span class="token operator">==</span> <span class="token boolean">false</span><span class="token punctuation">)</span> visited<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> ans<span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token punctuation">}</span></code></pre><p>ä¸‹é¢æ˜¯åˆ©ç”¨çŸ­è·¯æˆ–å‰ªæåçš„ç‰ˆæœ¬ï¼ŒæŒ‰ç†è¯´æ›´å¿«ï¼Œleetcodeæµ‹è¯•ä¹Ÿå·®ä¸å¤šï¼š</p><pre class=" language-java"><code class="language-java"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span>    <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> board<span class="token punctuation">;</span>    <span class="token keyword">boolean</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> visited<span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">exist</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> board<span class="token punctuation">,</span> String word<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>board <span class="token operator">=</span> board<span class="token punctuation">;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>board<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>board<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                visited <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">boolean</span><span class="token punctuation">[</span>board<span class="token punctuation">.</span>length<span class="token punctuation">]</span><span class="token punctuation">[</span>board<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length<span class="token punctuation">]</span><span class="token punctuation">;</span>                <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">dfs</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span>j<span class="token punctuation">,</span>word<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span><span class="token keyword">int</span> y<span class="token punctuation">,</span>String word<span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>word<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>word<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">==</span>board<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>         <span class="token keyword">if</span><span class="token punctuation">(</span>word<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">!=</span>board<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        visited<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//å‘ä¸Š</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>x<span class="token operator">-</span><span class="token number">1</span><span class="token operator">>=</span><span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>visited<span class="token punctuation">[</span>x<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">dfs</span><span class="token punctuation">(</span>x<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>y<span class="token punctuation">,</span>word<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//å‘ä¸‹</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>x<span class="token operator">+</span><span class="token number">1</span><span class="token operator">&lt;</span>board<span class="token punctuation">.</span>length <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>visited<span class="token punctuation">[</span>x<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">dfs</span><span class="token punctuation">(</span>x<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>y<span class="token punctuation">,</span>word<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//å‘å·¦</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>y<span class="token operator">-</span><span class="token number">1</span><span class="token operator">>=</span><span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>visited<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">dfs</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>word<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//å‘å³</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>y<span class="token operator">+</span><span class="token number">1</span><span class="token operator">&lt;</span>board<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>visited<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">dfs</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>word<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//æ¸…é™¤æ ‡è®°</span>        visited<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token punctuation">}</span></code></pre>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;åŸé¢˜&quot;&gt;1 åŸé¢˜&lt;/h1&gt;&lt;p&gt;ç»™å®šä¸€ä¸ªäºŒç»´ç½‘æ ¼å’Œä¸€ä¸ªå•è¯ï¼Œæ‰¾å‡ºè¯¥å•è¯æ˜¯å¦å­˜åœ¨äºç½‘æ ¼ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;å•è¯å¿…é¡»æŒ‰ç…§å­—æ¯é¡ºåºï¼Œé€šè¿‡ç›¸é‚»çš„å•å…ƒæ ¼å†…çš„å­—æ¯æ„æˆï¼Œå…¶ä¸­â€œç›¸é‚»â€å•å…ƒæ ¼æ˜¯é‚£äº›æ°´å¹³ç›¸é‚»æˆ–å‚ç›´ç›¸é‚»çš„å•å…ƒæ ¼ã€‚åŒä¸€ä¸ªå•å…ƒæ ¼å†…çš„å­—æ¯ä¸å…è®¸è¢«é‡å¤ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;&lt;
      
    
    </summary>
    
    
      <category term="ç®—æ³•/æ•°æ®ç»“æ„" scheme="https://www.codetool.top/categories/%E7%AE%97%E6%B3%95-%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"/>
    
    
      <category term="leetcode" scheme="https://www.codetool.top/tags/leetcode/"/>
    
      <category term="ç®—æ³•" scheme="https://www.codetool.top/tags/%E7%AE%97%E6%B3%95/"/>
    
      <category term="å›æº¯æ³•" scheme="https://www.codetool.top/tags/%E5%9B%9E%E6%BA%AF%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>ç¼“å­˜ä¸€è‡´æ€§åè®®MESI</title>
    <link href="https://www.codetool.top/article/%E7%BC%93%E5%AD%98%E4%B8%80%E8%87%B4%E6%80%A7%E5%8D%8F%E8%AE%AEMESI/"/>
    <id>https://www.codetool.top/article/ç¼“å­˜ä¸€è‡´æ€§åè®®MESI/</id>
    <published>2020-04-11T11:46:48.000Z</published>
    <updated>2020-04-11T14:20:20.591Z</updated>
    
    <content type="html"><![CDATA[<p>æ˜æ˜è®°å¾—åœ¨å“ªé‡Œå­¦è¿‡è¿™éƒ¨åˆ†å†…å®¹ï¼Œè¿˜çœ‹åˆ°è¿‡ä¸€ä¸ªè´¼å¥½çš„å›¾ã€‚ã€‚ä»Šå¤©æ‰¾äº†å¾ˆä¹…åˆæ²¡æ‰¾ç€ï¼Œè¿™å°±æ˜¯å­¦äº†ä¸è®°ç¬”è®°çš„åæœã€‚ã€‚</p><p>æœ¬æ–‡å‚è€ƒèµ„æºï¼š</p><p><a href="https://blog.csdn.net/yhb1047818384/article/details/79604976" target="_blank" rel="noopener">CPUä½“ç³»ç»“æ„ä¹‹cacheå°ç»“_è¿ç»´_Hober-CSDNåšå®¢</a></p><p><a href="https://www.cnblogs.com/bjlhx/p/10658938.html" target="_blank" rel="noopener">001-CPUå¤šçº§ç¼“å­˜æ¶æ„ - bjlhx15 - åšå®¢å›­</a></p><p><a href="https://blog.csdn.net/qq_26222859/article/details/52240256" target="_blank" rel="noopener">volatileä¸å†…å­˜å±éšœ_Java_weiqingçš„åšå®¢-CSDNåšå®¢</a></p><p>æå®¢æ—¶é—´ã€Šæ·±å…¥æµ…å‡ºè®¡ç®—æœºç»„æˆåŸç†ã€‹</p><h1 id="ç¼“å­˜ä¸€è‡´æ€§é—®é¢˜">1 ç¼“å­˜ä¸€è‡´æ€§é—®é¢˜</h1><p>åœ¨ç°ä»£çš„CPUï¼ˆå¤§å¤šæ•°ï¼‰ä¸Šï¼Œæ‰€æœ‰çš„å†…å­˜è®¿é—®éƒ½éœ€è¦é€šè¿‡å±‚å±‚çš„ç¼“å­˜æ¥è¿›è¡Œã€‚ä¹Ÿæœ‰äº›ä¾‹å¤–ï¼Œæ¯”å¦‚ï¼Œå¯¹æ˜ å°„æˆå†…å­˜åœ°å€çš„I/Oå£ã€å†™åˆå¹¶ï¼ˆWrite-combinedï¼‰å†…å­˜ï¼Œè¿™äº›è®¿é—®è‡³å°‘ä¼šç»•å¼€è¿™ä¸ªæµç¨‹çš„ä¸€éƒ¨åˆ†ã€‚ä½†è¿™ä¸¤è€…éƒ½æ˜¯ç½•è§çš„åœºæ™¯ï¼ˆæ„å‘³ç€ç»å¤§å¤šæ•°çš„ç”¨æˆ·æ€ä»£ç éƒ½ä¸ä¼šé‡åˆ°è¿™ä¸¤ç§æƒ…å†µï¼‰ã€‚å¹¶ä¸”ç”±äºç¨‹åºé€šå¸¸å…·æœ‰è‰¯å¥½çš„æ—¶é—´å±€éƒ¨æ€§å’Œç©ºé—´å±€éƒ¨æ€§ï¼Œç¼“å­˜å¯¹æé«˜ç¨‹åºè¿è¡Œçš„æ•ˆç‡èµ·åˆ°å¾ˆå¤§å¸®åŠ©ã€‚</p><p><img src="https://api.codetool.top/img/15866064656454.png" alt="å­˜å‚¨å™¨å±‚æ¬¡"></p><p>ç„¶è€Œä¸Šé¢è¿™å¼ å›¾æ²¡æœ‰è¡¨ç¤ºæ¸…æ¥šçš„æ˜¯ï¼Œä¸‰çº§ç¼“å­˜å’ŒCPUæ ¸å¿ƒä¹‹é—´çš„å…³ç³»ï¼šï¼ˆç”±äºæ²¡æœ‰æ‰¾åˆ°ä¹‹å‰çœ‹è¿‡çš„é‚£å¼ å›¾ç‰¹æ„æ‰¾äº†ä¸‰å¼ å›¾å¥½è¡¨ç¤ºæ¸…æ¥šï¼‰</p><p><img src="https://api.codetool.top/img/15866065781911.png" alt></p><p><img src="https://api.codetool.top/img/15866062735456.png" alt></p><p><img src="https://api.codetool.top/img/158660677492.png" alt></p><p>L1æ˜¯æœ€æ¥è¿‘CPUçš„ï¼Œå®ƒå®¹é‡æœ€å°ï¼Œé€Ÿåº¦æœ€å¿«ï¼Œ<strong>æ¯ä¸ªæ ¸ä¸Šéƒ½æœ‰ä¸€ä¸ªL1 Cacheï¼ˆå‡†ç¡®åœ°è¯´æ¯ä¸ªæ ¸ä¸Šæœ‰ä¸¤ä¸ªL1 Cacheï¼Œä¸€ä¸ªå­˜æ•°æ® L1d Cacheï¼Œä¸€ä¸ªå­˜æŒ‡ä»¤ L1i Cacheï¼‰</strong></p><p>L2 Cache æ›´å¤§ä¸€äº›ï¼Œä¾‹å¦‚256Kï¼Œé€Ÿåº¦è¦æ…¢ä¸€äº›ï¼Œä¸€èˆ¬æƒ…å†µä¸‹<strong>æ¯ä¸ªæ ¸ä¸Šéƒ½æœ‰ä¸€ä¸ªç‹¬ç«‹çš„L2 Cache</strong>ï¼›äºŒçº§ç¼“å­˜å°±æ˜¯ä¸€çº§ç¼“å­˜çš„ç¼“å†²å™¨ï¼šä¸€çº§ç¼“å­˜åˆ¶é€ æˆæœ¬å¾ˆé«˜å› æ­¤å®ƒçš„å®¹é‡æœ‰é™ï¼ŒäºŒçº§ç¼“å­˜çš„ä½œç”¨å°±æ˜¯å­˜å‚¨é‚£äº›CPUå¤„ç†æ—¶éœ€è¦ç”¨åˆ°ã€ä¸€çº§ç¼“å­˜åˆæ— æ³•å­˜å‚¨çš„æ•°æ®ã€‚</p><p>L3 Cacheæ˜¯ä¸‰çº§ç¼“å­˜ä¸­æœ€å¤§çš„ä¸€çº§ï¼Œä¾‹å¦‚12MBï¼ŒåŒæ—¶ä¹Ÿæ˜¯æœ€æ…¢çš„ä¸€çº§ï¼Œ<strong>åœ¨åŒä¸€ä¸ªCPUæ’æ§½ä¹‹é—´çš„æ ¸å…±äº«ä¸€ä¸ªL3 Cache</strong>ã€‚ä¸‰çº§ç¼“å­˜å’Œå†…å­˜å¯ä»¥çœ‹ä½œæ˜¯äºŒçº§ç¼“å­˜çš„ç¼“å†²å™¨ï¼Œå®ƒä»¬çš„å®¹é‡é€’å¢ï¼Œä½†å•ä½åˆ¶é€ æˆæœ¬å´é€’å‡ã€‚</p><p><img src="https://api.codetool.top/img/15866073161132.png" alt="æˆ‘ç”µè„‘ä¸Šçš„CPU cache"></p><p>é«˜é€Ÿç¼“å­˜è¡Œçš„ç»“æ„è¿™é‡Œä¸æï¼Œæœ‰æ—¶é—´æŠŠCSAPPé‡Œé¢çš„ç¬”è®°æ”¾ä¸Šæ¥ã€‚</p><p>é‚£ä¹ˆè¿™æ ·è®¾è®¡çš„é—®é¢˜æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿå› ä¸º CPU çš„æ¯ä¸ªæ ¸å„æœ‰å„çš„ç¼“å­˜ï¼Œäº’ç›¸ä¹‹é—´çš„æ“ä½œåˆæ˜¯å„è‡ªç‹¬ç«‹çš„ï¼Œå°±ä¼šå¸¦æ¥ç¼“å­˜ä¸€è‡´æ€§ï¼ˆCache Coherenceï¼‰çš„é—®é¢˜ã€‚</p><p>è¿™é‡Œéœ€è¦å…ˆæåˆ°cacheå†™æœºåˆ¶</p><h2 id="cacheå†™æœºåˆ¶">1.1 cacheå†™æœºåˆ¶</h2><p>Write-throughï¼ˆç›´å†™æ¨¡å¼ï¼‰<strong>åœ¨æ•°æ®æ›´æ–°æ—¶ï¼ŒåŒæ—¶å†™å…¥ç¼“å­˜Cacheå’Œåç«¯å­˜å‚¨</strong>ã€‚æ­¤æ¨¡å¼çš„ä¼˜ç‚¹æ˜¯æ“ä½œç®€å•ï¼›ç¼ºç‚¹æ˜¯å› ä¸ºæ•°æ®ä¿®æ”¹éœ€è¦åŒæ—¶å†™å…¥å­˜å‚¨ï¼Œæ•°æ®å†™å…¥é€Ÿåº¦è¾ƒæ…¢ã€‚</p><p>Write-backï¼ˆå›å†™æ¨¡å¼ï¼‰<strong>åœ¨æ•°æ®æ›´æ–°æ—¶åªå†™å…¥ç¼“å­˜Cacheã€‚åªåœ¨æ•°æ®è¢«æ›¿æ¢å‡ºç¼“å­˜æ—¶ï¼Œè¢«ä¿®æ”¹çš„ç¼“å­˜æ•°æ®æ‰ä¼šè¢«å†™åˆ°åç«¯å­˜å‚¨</strong>ã€‚æ­¤æ¨¡å¼çš„ä¼˜ç‚¹æ˜¯æ•°æ®å†™å…¥é€Ÿåº¦å¿«ï¼Œå› ä¸ºä¸éœ€è¦å†™å­˜å‚¨ï¼›ç¼ºç‚¹æ˜¯ä¸€æ—¦æ›´æ–°åçš„æ•°æ®æœªè¢«å†™å…¥å­˜å‚¨æ—¶å‡ºç°ç³»ç»Ÿæ‰ç”µçš„æƒ…å†µï¼Œæ•°æ®å°†æ— æ³•æ‰¾å›ã€‚</p><h2 id="ç¼“å­˜ä¸€è‡´æ€§é—®é¢˜-1">1.2 ç¼“å­˜ä¸€è‡´æ€§é—®é¢˜</h2><p>è¯•æƒ³ä¸‹é¢è¿™æ ·ä¸€ä¸ªæƒ…å†µã€‚</p><ol><li>CPU1 è¯»å–äº†ä¸€ä¸ªå­—èŠ‚ï¼Œä»¥åŠå®ƒå’Œå®ƒç›¸é‚»çš„å­—èŠ‚è¢«è¯»å…¥CPU1çš„é«˜é€Ÿç¼“å­˜ã€‚</li><li>CPU2 åšäº†ä¸Šé¢åŒæ ·çš„å·¥ä½œã€‚è¿™æ ·CPU1ï¼ŒCPU2çš„é«˜é€Ÿç¼“å­˜æ‹¥æœ‰åŒæ ·çš„æ•°æ®ã€‚</li><li>CPU1 ä¿®æ”¹äº†é‚£ä¸ªå­—èŠ‚ï¼Œè¢«ä¿®æ”¹åï¼Œé‚£ä¸ªå­—èŠ‚è¢«æ”¾å›CPU1çš„é«˜é€Ÿç¼“å­˜è¡Œã€‚ä½†æ˜¯è¯¥ä¿¡æ¯å¹¶æ²¡æœ‰è¢«å†™å…¥RAMã€‚</li><li>CPU2 è®¿é—®è¯¥å­—èŠ‚ï¼Œä½†ç”±äºCPU1å¹¶æœªå°†æ•°æ®å†™å…¥RAMï¼ˆå›å†™æ¨¡å¼ï¼‰ï¼Œå¯¼è‡´äº†æ•°æ®ä¸åŒæ­¥ã€‚</li></ol><p>ä¸ºäº†è§£å†³è¿™ä¸ªç¼“å­˜ä¸ä¸€è‡´çš„é—®é¢˜ï¼Œæˆ‘ä»¬å°±éœ€è¦æœ‰ä¸€ç§æœºåˆ¶ï¼Œæ¥åŒæ­¥ä¸¤ä¸ªä¸åŒæ ¸å¿ƒé‡Œé¢çš„ç¼“å­˜æ•°æ®ã€‚é‚£è¿™æ ·çš„æœºåˆ¶éœ€è¦æ»¡è¶³ä»€ä¹ˆæ¡ä»¶å‘¢ï¼Ÿæˆ‘è§‰å¾—èƒ½å¤Ÿåšåˆ°ä¸‹é¢ä¸¤ç‚¹å°±æ˜¯åˆç†çš„ã€‚</p><p>ç¬¬ä¸€ç‚¹å«<strong>å†™ä¼ æ’­ï¼ˆWrite Propagationï¼‰</strong>ã€‚å†™ä¼ æ’­æ˜¯è¯´ï¼Œåœ¨ä¸€ä¸ªCPU æ ¸å¿ƒé‡Œï¼Œæˆ‘ä»¬çš„ Cache æ•°æ®æ›´æ–°ï¼Œå¿…é¡»èƒ½å¤Ÿä¼ æ’­åˆ°å…¶ä»–çš„å¯¹åº”èŠ‚ç‚¹çš„ Cache Line é‡Œã€‚</p><p>ç¬¬äºŒç‚¹å«<strong>äº‹åŠ¡çš„ä¸²è¡ŒåŒ–ï¼ˆTransaction Serializationï¼‰</strong>ï¼Œäº‹åŠ¡ä¸²è¡ŒåŒ–æ˜¯è¯´ï¼Œæˆ‘ä»¬åœ¨ä¸€ä¸ª CPU æ ¸å¿ƒé‡Œé¢çš„è¯»å–å’Œå†™å…¥ï¼Œåœ¨å…¶ä»–çš„èŠ‚ç‚¹çœ‹èµ·æ¥ï¼Œé¡ºåºæ˜¯ä¸€æ ·çš„ã€‚</p><p>å†™ä¼ æ’­å¾ˆå®¹æ˜“ç†è§£ã€‚æ—¢ç„¶æˆ‘ä»¬æ•°æ®å†™å®Œäº†ï¼Œè‡ªç„¶è¦åŒæ­¥åˆ°å…¶ä»– CPU æ ¸çš„ Cache é‡Œã€‚è€Œäº‹åŠ¡çš„ä¸²è¡ŒåŒ–ï¼Œåˆ™æ˜¯æŒ‡å‡è®¾å¾ˆçŸ­æ—¶é—´å†…ï¼Œä¸€ä¸ªæ•°æ®è¢«ä¸¤æ¬¡ä¿®æ”¹ï¼Œå¹¶ä¸”åˆ†åˆ«æ˜¯ç”±ä¸¤ä¸ªCPUæ ¸å¿ƒå¤„ç†çš„ï¼Œå½“å®ƒä»¬åŒæ­¥æ•°æ®æ›´æ”¹åˆ°å…¶ä»–æ ¸å¿ƒçš„æ—¶å€™ï¼Œå¯èƒ½ä¼šå‡ºç°é¡ºåºä¸ä¸€è‡´çš„é—®é¢˜ï¼Œå³å¯¹ä¸åŒçš„æ ¸å¿ƒè¡¨ç°ä¸ºä¿®æ”¹çš„é¡ºåºä¸ä¸€è‡´ï¼Œé€ æˆæœ€ç»ˆç»“æœä¸ä¸€è‡´ã€‚</p><p>è€Œåœ¨ CPU Cache é‡Œåšåˆ°äº‹åŠ¡ä¸²è¡ŒåŒ–ï¼Œéœ€è¦åšåˆ°ä¸¤ç‚¹ï¼Œç¬¬ä¸€ç‚¹æ˜¯<strong>ä¸€ä¸ª CPU æ ¸å¿ƒå¯¹äºæ•°æ®çš„æ“ä½œï¼Œéœ€è¦åŒæ­¥é€šä¿¡ç»™åˆ°å…¶ä»– CPU æ ¸å¿ƒ</strong>ã€‚ç¬¬äºŒç‚¹æ˜¯ï¼Œ<strong>å¦‚æœä¸¤ä¸ª CPU æ ¸å¿ƒé‡Œæœ‰åŒä¸€ä¸ªæ•°æ®çš„ Cacheï¼Œé‚£ä¹ˆå¯¹äºè¿™ä¸ª Cache æ•°æ®çš„æ›´æ–°ï¼Œéœ€è¦æœ‰ä¸€ä¸ªâ€œé”â€çš„æ¦‚å¿µã€‚åªæœ‰æ‹¿åˆ°äº†å¯¹åº” Cache Block çš„â€œé”â€ä¹‹åï¼Œæ‰èƒ½è¿›è¡Œå¯¹åº”çš„æ•°æ®æ›´æ–°</strong>ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±çœ‹çœ‹å®ç°äº†è¿™ä¸¤ä¸ªæœºåˆ¶çš„ MESI åè®®ã€‚</p><h1 id="æ€»çº¿å—…æ¢ä¸MESIåè®®">2 æ€»çº¿å—…æ¢ä¸MESIåè®®</h1><h2 id="æ€»çº¿å—…æ¢">2.1 æ€»çº¿å—…æ¢</h2><p>è¦è§£å†³ç¼“å­˜ä¸€è‡´æ€§é—®é¢˜ï¼Œé¦–å…ˆè¦è§£å†³çš„æ˜¯å¤šä¸ª CPU æ ¸å¿ƒä¹‹é—´çš„æ•°æ®ä¼ æ’­é—®é¢˜ã€‚æœ€å¸¸è§çš„ä¸€ç§è§£å†³æ–¹æ¡ˆå‘¢ï¼Œå«ä½œ<strong>æ€»çº¿å—…æ¢</strong>ã€‚</p><p>è¿™ä¸ªç­–ç•¥ï¼Œæœ¬è´¨ä¸Šå°±æ˜¯æŠŠæ‰€æœ‰çš„è¯»å†™è¯·æ±‚éƒ½é€šè¿‡æ€»çº¿ï¼ˆBusï¼‰å¹¿æ’­ç»™æ‰€æœ‰çš„ CPU æ ¸å¿ƒï¼Œç„¶åè®©å„ä¸ªæ ¸å¿ƒå»â€œå—…æ¢â€è¿™äº›è¯·æ±‚ï¼Œå†æ ¹æ®æœ¬åœ°çš„æƒ…å†µè¿›è¡Œå“åº”ã€‚</p><p>åŸºäºæ€»çº¿å—…æ¢æœºåˆ¶ï¼Œå…¶å®è¿˜å¯ä»¥åˆ†æˆå¾ˆå¤šç§ä¸åŒçš„ç¼“å­˜ä¸€è‡´æ€§åè®®ã€‚ä¸è¿‡å…¶ä¸­æœ€å¸¸ç”¨çš„ï¼Œå°±æ˜¯ä»Šå¤©æˆ‘ä»¬è¦è®²çš„ MESI åè®®ã€‚å’Œå¾ˆå¤šç°ä»£çš„ CPU æŠ€æœ¯ä¸€æ ·ï¼ŒMESI åè®®ä¹Ÿæ˜¯åœ¨ Pentium æ—¶ä»£ï¼Œè¢«å¼•å…¥åˆ° Intel CPU ä¸­çš„ã€‚</p><h2 id="MESIåè®®">2.2 MESIåè®®</h2><p>MESI åè®®ï¼Œæ˜¯ä¸€ç§å«ä½œ<strong>å†™å¤±æ•ˆ</strong>ï¼ˆWrite Invalidateï¼‰çš„åè®®ã€‚åœ¨å†™å¤±æ•ˆåè®®é‡Œï¼Œ<strong>åªæœ‰ä¸€ä¸ª CPU æ ¸å¿ƒè´Ÿè´£å†™å…¥æ•°æ®ï¼Œå…¶ä»–çš„æ ¸å¿ƒï¼Œåªæ˜¯åŒæ­¥è¯»å–åˆ°è¿™ä¸ªå†™å…¥ã€‚åœ¨è¿™ä¸ª CPU æ ¸å¿ƒå†™å…¥ Cache ä¹‹åï¼Œå®ƒä¼šå»å¹¿æ’­ä¸€ä¸ªâ€œå¤±æ•ˆâ€è¯·æ±‚å‘Šè¯‰æ‰€æœ‰å…¶ä»–çš„ CPU æ ¸å¿ƒã€‚å…¶ä»–çš„ CPU æ ¸å¿ƒï¼Œåªæ˜¯å»åˆ¤æ–­è‡ªå·±æ˜¯å¦ä¹Ÿæœ‰ä¸€ä¸ªâ€œå¤±æ•ˆâ€ç‰ˆæœ¬çš„ Cache Blockï¼Œç„¶åæŠŠè¿™ä¸ªä¹Ÿæ ‡è®°æˆå¤±æ•ˆçš„å°±å¥½äº†ã€‚</strong></p><p>ç›¸å¯¹äºå†™å¤±æ•ˆåè®®ï¼Œè¿˜æœ‰ä¸€ç§å«ä½œå†™å¹¿æ’­ï¼ˆWrite Broadcastï¼‰çš„åè®®ã€‚åœ¨é‚£ä¸ªåè®®é‡Œï¼Œä¸€ä¸ªå†™å…¥è¯·æ±‚å¹¿æ’­åˆ°æ‰€æœ‰çš„ CPU æ ¸å¿ƒï¼ŒåŒæ—¶æ›´æ–°å„ä¸ªæ ¸å¿ƒé‡Œçš„ Cacheã€‚</p><p>å†™å¹¿æ’­åœ¨å®ç°ä¸Šè‡ªç„¶å¾ˆç®€å•ï¼Œä½†æ˜¯å†™å¹¿æ’­éœ€è¦å ç”¨æ›´å¤šçš„æ€»çº¿å¸¦å®½ã€‚å†™å¤±æ•ˆåªéœ€è¦å‘Šè¯‰å…¶ä»–çš„ CPU æ ¸å¿ƒï¼Œå“ªä¸€ä¸ªå†…å­˜åœ°å€çš„ç¼“å­˜å¤±æ•ˆäº†ï¼Œä½†æ˜¯å†™å¹¿æ’­è¿˜éœ€è¦æŠŠå¯¹åº”çš„æ•°æ®ä¼ è¾“ç»™å…¶ä»– CPU æ ¸å¿ƒã€‚</p><p>MESI åè®®çš„ç”±æ¥å‘¢ï¼Œæ¥è‡ªäºæˆ‘ä»¬å¯¹ Cache Line çš„å››ä¸ªä¸åŒçš„æ ‡è®°ï¼Œåˆ†åˆ«æ˜¯ï¼š</p><ul><li>Mï¼šä»£è¡¨å·²ä¿®æ”¹ï¼ˆModifiedï¼‰</li><li>Eï¼šä»£è¡¨ç‹¬å ï¼ˆExclusiveï¼‰</li><li>Sï¼šä»£è¡¨å…±äº«ï¼ˆSharedï¼‰</li><li>Iï¼šä»£è¡¨å·²å¤±æ•ˆï¼ˆInvalidatedï¼‰</li></ul><p><img src="https://api.codetool.top/img/15866087435201.png" alt="MESIçŠ¶æ€æœº"></p><p>æˆ‘ä»¬å…ˆæ¥çœ‹çœ‹â€œå·²ä¿®æ”¹â€å’Œâ€œå·²å¤±æ•ˆâ€ï¼Œè¿™ä¸¤ä¸ªçŠ¶æ€æ¯”è¾ƒå®¹æ˜“ç†è§£ã€‚æ‰€è°“çš„â€œå·²ä¿®æ”¹â€ï¼Œå°±æ˜¯â€œè„â€çš„ Cache Blockã€‚Cache Block é‡Œé¢çš„å†…å®¹æˆ‘ä»¬å·²ç»æ›´æ–°è¿‡äº†ï¼Œä½†æ˜¯è¿˜æ²¡æœ‰å†™å›åˆ°ä¸»å†…å­˜é‡Œé¢ã€‚è€Œæ‰€è°“çš„â€œå·²å¤±æ•ˆâ€ï¼Œè‡ªç„¶æ˜¯è¿™ä¸ª Cache Block é‡Œé¢çš„æ•°æ®å·²ç»å¤±æ•ˆäº†ï¼Œæˆ‘ä»¬ä¸å¯ä»¥ç›¸ä¿¡è¿™ä¸ª Cache Block é‡Œé¢çš„æ•°æ®ã€‚</p><p>ç„¶åï¼Œæˆ‘ä»¬å†æ¥çœ‹â€œç‹¬å â€å’Œâ€œå…±äº«â€è¿™ä¸¤ä¸ªçŠ¶æ€ã€‚è¿™å°±æ˜¯ MESI åè®®çš„ç²¾åæ‰€åœ¨äº†ã€‚<strong>æ— è®ºæ˜¯ç‹¬å çŠ¶æ€è¿˜æ˜¯å…±äº«çŠ¶æ€ï¼Œç¼“å­˜é‡Œé¢çš„æ•°æ®éƒ½æ˜¯â€œå¹²å‡€â€çš„ã€‚</strong>è¿™ä¸ªâ€œå¹²å‡€â€ï¼Œè‡ªç„¶å¯¹åº”çš„æ˜¯å‰é¢æ‰€è¯´çš„â€œè„â€çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™ä¸ªæ—¶å€™ï¼ŒCache Block é‡Œé¢çš„æ•°æ®å’Œä¸»å†…å­˜é‡Œé¢çš„æ•°æ®æ˜¯ä¸€è‡´çš„ã€‚</p><p>é‚£ä¹ˆâ€œç‹¬å â€å’Œâ€œå…±äº«â€è¿™ä¸¤ä¸ªçŠ¶æ€çš„å·®åˆ«åœ¨å“ªé‡Œå‘¢ï¼Ÿè¿™ä¸ªå·®åˆ«å°±åœ¨äºï¼Œ<strong>åœ¨ç‹¬å çŠ¶æ€ä¸‹ï¼Œå¯¹åº”çš„ Cache Line åªåŠ è½½åˆ°äº†å½“å‰ CPU æ ¸æ‰€æ‹¥æœ‰çš„ Cache é‡Œã€‚å…¶ä»–çš„ CPU æ ¸ï¼Œå¹¶æ²¡æœ‰åŠ è½½å¯¹åº”çš„æ•°æ®åˆ°è‡ªå·±çš„ Cache é‡Œã€‚è¿™ä¸ªæ—¶å€™ï¼Œå¦‚æœè¦å‘ç‹¬å çš„ Cache Block å†™å…¥æ•°æ®ï¼Œæˆ‘ä»¬å¯ä»¥è‡ªç”±åœ°å†™å…¥æ•°æ®ï¼Œè€Œä¸éœ€è¦å‘ŠçŸ¥å…¶ä»– CPU æ ¸ã€‚</strong></p><p><strong>åœ¨ç‹¬å çŠ¶æ€ä¸‹çš„æ•°æ®ï¼Œå¦‚æœæ”¶åˆ°äº†ä¸€ä¸ªæ¥è‡ªäºæ€»çº¿çš„è¯»å–å¯¹åº”ç¼“å­˜çš„è¯·æ±‚ï¼Œå®ƒå°±ä¼šå˜æˆå…±äº«çŠ¶æ€ã€‚</strong>è¿™ä¸ªå…±äº«çŠ¶æ€æ˜¯å› ä¸ºï¼Œè¿™ä¸ªæ—¶å€™ï¼Œå¦å¤–ä¸€ä¸ª CPU æ ¸å¿ƒï¼Œä¹ŸæŠŠå¯¹åº”çš„ Cache Blockï¼Œä»å†…å­˜é‡Œé¢åŠ è½½åˆ°äº†è‡ªå·±çš„ Cache é‡Œæ¥ã€‚</p><p>è€Œ<strong>åœ¨å…±äº«çŠ¶æ€ä¸‹ï¼Œå› ä¸ºåŒæ ·çš„æ•°æ®åœ¨å¤šä¸ª CPU æ ¸å¿ƒçš„ Cache é‡Œéƒ½æœ‰ã€‚æ‰€ä»¥ï¼Œå½“æˆ‘ä»¬æƒ³è¦æ›´æ–° Cache é‡Œé¢çš„æ•°æ®çš„æ—¶å€™ï¼Œä¸èƒ½ç›´æ¥ä¿®æ”¹ï¼Œè€Œæ˜¯è¦å…ˆå‘æ‰€æœ‰çš„å…¶ä»– CPU æ ¸å¿ƒå¹¿æ’­ä¸€ä¸ªè¯·æ±‚ï¼Œè¦æ±‚å…ˆæŠŠå…¶ä»– CPU æ ¸å¿ƒé‡Œé¢çš„ Cacheï¼Œéƒ½å˜æˆæ— æ•ˆçš„çŠ¶æ€ï¼Œç„¶åå†æ›´æ–°å½“å‰ Cache é‡Œé¢çš„æ•°æ®ã€‚</strong>è¿™ä¸ªå¹¿æ’­æ“ä½œï¼Œä¸€èˆ¬å«ä½œ RFOï¼ˆRequest For Ownershipï¼‰ï¼Œä¹Ÿå°±æ˜¯è·å–å½“å‰å¯¹åº” Cache Block æ•°æ®çš„æ‰€æœ‰æƒã€‚</p><table cellspacing="0" cellpadding="0" border="1"><tbody><tr><td valign="top"><p align="center">å½“å‰çŠ¶æ€</p></td><td valign="top"><p align="center">äº‹ä»¶</p></td><td valign="top"><p align="center">è¡Œä¸º</p></td><td valign="top"><p align="center">ä¸‹ä¸€ä¸ªçŠ¶æ€</p></td></tr><tr><td rowspan="4" valign="top"><p align="center">I(Invalid)</p></td><td valign="top"><p align="center">Local Read</p></td><td valign="top"><p align="left">å¦‚æœå…¶å®ƒCacheæ²¡æœ‰è¿™ä»½æ•°æ®ï¼Œæœ¬Cacheä»å†…å­˜ä¸­å–æ•°æ®ï¼ŒCache lineçŠ¶æ€å˜æˆEï¼›</p><p align="left">å¦‚æœå…¶å®ƒCacheæœ‰è¿™ä»½æ•°æ®ï¼Œä¸”çŠ¶æ€ä¸ºMï¼Œåˆ™å°†æ•°æ®æ›´æ–°åˆ°å†…å­˜ï¼Œæœ¬Cacheå†ä»å†…å­˜ä¸­å–æ•°æ®ï¼Œ2ä¸ªCache çš„Cache lineçŠ¶æ€éƒ½å˜æˆSï¼›</p><p align="left">å¦‚æœå…¶å®ƒCacheæœ‰è¿™ä»½æ•°æ®ï¼Œä¸”çŠ¶æ€ä¸ºSæˆ–è€…Eï¼Œæœ¬Cacheä»å†…å­˜ä¸­å–æ•°æ®ï¼Œè¿™äº›Cache çš„Cache lineçŠ¶æ€éƒ½å˜æˆS</p></td><td valign="top"><p align="center">E/S</p></td></tr><tr><td valign="top"><p align="center">Local Write</p></td><td valign="top"><p align="left">ä»å†…å­˜ä¸­å–æ•°æ®ï¼Œåœ¨Cacheä¸­ä¿®æ”¹ï¼ŒçŠ¶æ€å˜æˆMï¼›</p><p align="left">å¦‚æœå…¶å®ƒCacheæœ‰è¿™ä»½æ•°æ®ï¼Œä¸”çŠ¶æ€ä¸ºMï¼Œåˆ™è¦å…ˆå°†æ•°æ®æ›´æ–°åˆ°å†…å­˜ï¼›</p><p align="left">å¦‚æœå…¶å®ƒCacheæœ‰è¿™ä»½æ•°æ®ï¼Œåˆ™å…¶å®ƒCacheçš„Cache lineçŠ¶æ€å˜æˆI</p></td><td valign="top"><p align="center">M</p></td></tr><tr><td valign="top"><p align="center">Remote Read</p></td><td valign="top"><p align="left">æ—¢ç„¶æ˜¯Invalidï¼Œåˆ«çš„æ ¸çš„æ“ä½œä¸å®ƒæ— å…³</p></td><td valign="top"><p align="center">I</p></td></tr><tr><td valign="top"><p align="center">Remote Write</p></td><td valign="top"><p align="left">æ—¢ç„¶æ˜¯Invalidï¼Œåˆ«çš„æ ¸çš„æ“ä½œä¸å®ƒæ— å…³</p></td><td valign="top"><p align="center">I</p></td></tr><tr><td rowspan="4" valign="top"><p align="center">E(Exclusive)</p></td><td valign="top"><p align="center">Local Read</p></td><td valign="top"><p align="left">ä»Cacheä¸­å–æ•°æ®ï¼ŒçŠ¶æ€ä¸å˜</p></td><td valign="top"><p align="center">E</p></td></tr><tr><td valign="top"><p align="center">Local Write</p></td><td valign="top"><p align="left">ä¿®æ”¹Cacheä¸­çš„æ•°æ®ï¼ŒçŠ¶æ€å˜æˆM</p></td><td valign="top"><p align="center">M</p></td></tr><tr><td valign="top"><p align="center">Remote Read</p></td><td valign="top"><p align="left">æ•°æ®å’Œå…¶å®ƒæ ¸å…±ç”¨ï¼ŒçŠ¶æ€å˜æˆäº†S</p></td><td valign="top"><p align="center">S</p></td></tr><tr><td valign="top"><p align="center">Remote Write</p></td><td valign="top"><p align="left">æ•°æ®è¢«ä¿®æ”¹ï¼Œæœ¬Cache lineä¸èƒ½å†ä½¿ç”¨ï¼ŒçŠ¶æ€å˜æˆI</p></td><td valign="top"><p align="center">I</p></td></tr><tr><td rowspan="4" valign="top"><p align="center">S(Shared)</p></td><td valign="top"><p align="center">Local Read</p></td><td valign="top"><p align="left">ä»Cacheä¸­å–æ•°æ®ï¼ŒçŠ¶æ€ä¸å˜</p></td><td valign="top"><p align="center">S</p></td></tr><tr><td valign="top"><p align="center">Local Write</p></td><td valign="top"><p align="left">ä¿®æ”¹Cacheä¸­çš„æ•°æ®ï¼ŒçŠ¶æ€å˜æˆMï¼Œ</p><p align="left">å…¶å®ƒæ ¸å…±äº«çš„Cache lineçŠ¶æ€å˜æˆI</p></td><td valign="top"><p align="center">M</p></td></tr><tr><td valign="top"><p align="center">Remote Read</p></td><td valign="top"><p align="left">çŠ¶æ€ä¸å˜</p></td><td valign="top"><p align="center">S</p></td></tr><tr><td valign="top"><p align="center">Remote Write</p></td><td valign="top"><p align="left">æ•°æ®è¢«ä¿®æ”¹ï¼Œæœ¬Cache lineä¸èƒ½å†ä½¿ç”¨ï¼ŒçŠ¶æ€å˜æˆI</p></td><td valign="top"><p align="center">I</p></td></tr><tr><td rowspan="4" valign="top"><p align="center">M(Modified)</p></td><td valign="top"><p align="center">Local Read</p></td><td valign="top"><p align="left">ä»Cacheä¸­å–æ•°æ®ï¼ŒçŠ¶æ€ä¸å˜</p></td><td valign="top"><p align="center">M</p></td></tr><tr><td valign="top"><p align="center">Local Write</p></td><td valign="top"><p align="left">ä¿®æ”¹Cacheä¸­çš„æ•°æ®ï¼ŒçŠ¶æ€ä¸å˜</p></td><td valign="top"><p align="center">M</p></td></tr><tr><td valign="top"><p align="center">Remote Read</p></td><td valign="top"><p align="left">è¿™è¡Œæ•°æ®è¢«å†™åˆ°å†…å­˜ä¸­ï¼Œä½¿å…¶å®ƒæ ¸èƒ½ä½¿ç”¨åˆ°æœ€æ–°çš„æ•°æ®ï¼ŒçŠ¶æ€å˜æˆS</p></td><td valign="top"><p align="center">S</p></td></tr><tr><td valign="top"><p align="center">Remote Write</p></td><td valign="top"><p align="left">è¿™è¡Œæ•°æ®è¢«å†™åˆ°å†…å­˜ä¸­ï¼Œä½¿å…¶å®ƒæ ¸èƒ½ä½¿ç”¨åˆ°æœ€æ–°çš„æ•°æ®ï¼Œç”±äºå…¶å®ƒæ ¸ä¼šä¿®æ”¹è¿™è¡Œæ•°æ®ï¼Œ</p><p align="left">çŠ¶æ€å˜æˆI</p></td><td valign="top"><p align="center">I</p></td></tr></tbody></table><h1 id="MESIåè®®ä¸java-volatileå…³é”®å­—çš„å…³ç³»">3 MESIåè®®ä¸java volatileå…³é”®å­—çš„å…³ç³»</h1><p><a href="https://www.zhihu.com/question/296949412" target="_blank" rel="noopener">æ—¢ç„¶CPUæœ‰ç¼“å­˜ä¸€è‡´æ€§åè®®ï¼ˆMESIï¼‰ï¼Œä¸ºä»€ä¹ˆJMMè¿˜éœ€è¦volatileå…³é”®å­—ï¼Ÿ - çŸ¥ä¹</a></p><p>volatileçš„è¯­ä¹‰æœ‰ï¼š</p><ol><li>ä¿è¯äº†ä¸åŒçº¿ç¨‹å¯¹è¿™ä¸ªå˜é‡è¿›è¡Œæ“ä½œæ—¶çš„å¯è§æ€§ï¼Œå³ä¸€ä¸ªçº¿ç¨‹ä¿®æ”¹äº†æŸä¸ªå˜é‡çš„å€¼ï¼Œè¿™æ–°å€¼å¯¹å…¶ä»–çº¿ç¨‹æ¥è¯´æ˜¯ç«‹å³å¯è§çš„ã€‚</li><li>ç¦æ­¢è¿›è¡ŒæŒ‡ä»¤é‡æ’åº</li></ol><p>å¯¹äºx86çš„ä½“ç³»ç»“æ„ï¼Œvoltileå˜é‡çš„è®¿é—®ä»£ç ä¼šè¢«javaç¼–è¯‘å™¨ç”Ÿæˆä¸ä¹±åºçš„ï¼Œå¸¦æœ‰lockæŒ‡ä»¤å‰ç¼€çš„æœºå™¨ç ã€‚è€Œlockçš„å®ç°è¿˜è¦åŒºåˆ†ï¼Œè¿™ä¸ªæ•°æ®åœ¨ä¸åœ¨CPUæ ¸å¿ƒçš„ä¸“æœ‰ç¼“å­˜ä¸­ï¼ˆä¸€èˆ¬æ˜¯æŒ‡L1/L2ï¼‰ã€‚å¦‚æœåœ¨ï¼ŒMESIæ‰æœ‰ç”¨æ­¦ä¹‹åœ°ã€‚å¦‚æœä¸æ»¡è¶³å°±ä¼šè¦ç”¨å…¶ä»–æ‰‹æ®µï¼Œæ¶‰åŠåˆ°å†…å­˜å±éšœã€‚</p><p>é€šè¿‡åæ±‡ç¼–å¯ä»¥å‘ç°ï¼ŒJavaä¸­volatileå˜é‡ä¿®é¥°çš„å…±äº«å˜é‡åœ¨è¿›è¡Œå†™æ“ä½œæ—¶å€™ä¼šå¤šå‡ºä¸€è¡Œæ±‡ç¼–ï¼š</p><pre><code>lock addl $0Ã—0,(%esp);</code></pre><p>åœ¨x86æ¶æ„ä¸­ï¼ŒLockå‰ç¼€æŒ‡ä»¤å¯ä»¥ç”¨ä½œstoreLoad barrierï¼Œåœ¨æ”¯æŒSSE2æ‹“å±•æŒ‡ä»¤é›†çš„cpuä¸Šè¿˜å¯ä»¥ä½¿ç”¨mfenceæŒ‡ä»¤ã€‚åœ¨å¤šæ ¸å¤„ç†å™¨ç¯å¢ƒä¸­ï¼Œlockå‰ç¼€æŒ‡ä»¤ä¿è¯äº†æŸä¸ªå¤„ç†å™¨å¯¹å…±äº«å†…å­˜çš„ç‹¬å ä½¿ç”¨ã€‚<strong>å†…å­˜å±éšœä¸ä»…ä»…æ˜¯MESIè¿™ä¹ˆç®€å•ã€‚</strong></p><p>å¤šå¤„ç†å™¨æ€»çº¿å—…æ¢:</p><ol><li>ä¸ºäº†æé«˜å¤„ç†é€Ÿåº¦,å¤„ç†å™¨ä¸ç›´æ¥å’Œå†…å­˜è¿›è¡Œé€šä¿¡,è€Œæ˜¯å…ˆå°†ç³»ç»Ÿå†…å­˜çš„æ•°æ®è¯»åˆ°å†…éƒ¨ç¼“å­˜ååœ¨è¿›è¡Œæ“ä½œ,ä½†<strong>å†™å›æ“ä½œ</strong>ä¸çŸ¥é“è¿™ä¸ªæ›´æ”¹ä½•æ—¶å›å†™åˆ°å†…å­˜ã€‚</li><li>ä½†æ˜¯å¯¹å˜é‡ä½¿ç”¨volatileè¿›è¡Œå†™æ“ä½œæ—¶ï¼ŒJVMå°±ä¼šå‘å¤„ç†å™¨å‘é€ä¸€æ¡lockå‰ç¼€çš„æŒ‡ä»¤,å°†è¿™ä¸ªå˜é‡æ‰€åœ¨çš„ç¼“å­˜è¡Œçš„æ•°æ®å†™å›åˆ°ç³»ç»Ÿå†…å­˜ã€‚</li><li>åœ¨å¤šå¤„ç†å™¨ä¸­,ä¸ºäº†ä¿è¯å„ä¸ªå¤„ç†å™¨çš„ç¼“å­˜ä¸€è‡´æ€§ï¼Œæ¯ä¸ªå¤„ç†å™¨é€šè¿‡å—…æ¢åœ¨æ€»çº¿ä¸Šä¼ æ’­çš„æ•°æ®æ¥æ£€æŸ¥è‡ªå·±çš„ç¼“å­˜å€¼æ˜¯ä¸æ˜¯è¿‡æœŸäº†ï¼Œå¦‚æœå¤„ç†å™¨å‘ç°è‡ªå·±ç¼“å­˜è¡Œå¯¹åº”çš„å†…å­˜åœ°å€è¢«ä¿®æ”¹,å°±ä¼šå°†å½“å‰å¤„ç†å™¨çš„ç¼“å­˜è¡Œè®¾ç½®ä¸ºæ— æ•ˆçŠ¶æ€ï¼Œå°±ç›¸å½“äº<strong>å†™å›æ—¶å‘ç°çŠ¶æ€æ ‡è¯†ä¸º0å¤±æ•ˆ</strong>ï¼Œå½“è¿™ä¸ªå¤„ç†å™¨å¯¹æ•°æ®è¿›è¡Œä¿®æ”¹æ“ä½œæ—¶,ä¼šé‡æ–°ä»ç³»ç»Ÿå†…å­˜ä¸­è¯»å–æ•°æ®åˆ°CPUç¼“å­˜ä¸­ã€‚</li></ol>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;æ˜æ˜è®°å¾—åœ¨å“ªé‡Œå­¦è¿‡è¿™éƒ¨åˆ†å†…å®¹ï¼Œè¿˜çœ‹åˆ°è¿‡ä¸€ä¸ªè´¼å¥½çš„å›¾ã€‚ã€‚ä»Šå¤©æ‰¾äº†å¾ˆä¹…åˆæ²¡æ‰¾ç€ï¼Œè¿™å°±æ˜¯å­¦äº†ä¸è®°ç¬”è®°çš„åæœã€‚ã€‚&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡å‚è€ƒèµ„æºï¼š&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://blog.csdn.net/yhb1047818384/article/details/7
      
    
    </summary>
    
    
      <category term="è®¡ç®—æœºç›¸å…³" scheme="https://www.codetool.top/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%9B%B8%E5%85%B3/"/>
    
    
      <category term="æ“ä½œç³»ç»Ÿ" scheme="https://www.codetool.top/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/"/>
    
  </entry>
  
</feed>
